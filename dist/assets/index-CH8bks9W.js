(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function s(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(l){if(l.ep)return;l.ep=!0;const r=s(l);fetch(l.href,r)}})();function Uu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _o={exports:{}},Pa={},Eo={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cs=Symbol.for("react.element"),Hu=Symbol.for("react.portal"),Wu=Symbol.for("react.fragment"),Vu=Symbol.for("react.strict_mode"),qu=Symbol.for("react.profiler"),Qu=Symbol.for("react.provider"),Ku=Symbol.for("react.context"),Yu=Symbol.for("react.forward_ref"),Zu=Symbol.for("react.suspense"),Ju=Symbol.for("react.memo"),Xu=Symbol.for("react.lazy"),pi=Symbol.iterator;function ed(e){return e===null||typeof e!="object"?null:(e=pi&&e[pi]||e["@@iterator"],typeof e=="function"?e:null)}var Mo={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Po=Object.assign,Io={};function An(e,t,s){this.props=e,this.context=t,this.refs=Io,this.updater=s||Mo}An.prototype.isReactComponent={};An.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};An.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ro(){}Ro.prototype=An.prototype;function hr(e,t,s){this.props=e,this.context=t,this.refs=Io,this.updater=s||Mo}var fr=hr.prototype=new Ro;fr.constructor=hr;Po(fr,An.prototype);fr.isPureReactComponent=!0;var vi=Array.isArray,Do=Object.prototype.hasOwnProperty,pr={current:null},Lo={key:!0,ref:!0,__self:!0,__source:!0};function To(e,t,s){var a,l={},r=null,i=null;if(t!=null)for(a in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(r=""+t.key),t)Do.call(t,a)&&!Lo.hasOwnProperty(a)&&(l[a]=t[a]);var o=arguments.length-2;if(o===1)l.children=s;else if(1<o){for(var c=Array(o),v=0;v<o;v++)c[v]=arguments[v+2];l.children=c}if(e&&e.defaultProps)for(a in o=e.defaultProps,o)l[a]===void 0&&(l[a]=o[a]);return{$$typeof:Cs,type:e,key:r,ref:i,props:l,_owner:pr.current}}function td(e,t){return{$$typeof:Cs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vr(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cs}function nd(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var gi=/\/+/g;function Va(e,t){return typeof e=="object"&&e!==null&&e.key!=null?nd(""+e.key):t.toString(36)}function Qs(e,t,s,a,l){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(r){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Cs:case Hu:i=!0}}if(i)return i=e,l=l(i),e=a===""?"."+Va(i,0):a,vi(l)?(s="",e!=null&&(s=e.replace(gi,"$&/")+"/"),Qs(l,t,s,"",function(v){return v})):l!=null&&(vr(l)&&(l=td(l,s+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(gi,"$&/")+"/")+e)),t.push(l)),1;if(i=0,a=a===""?".":a+":",vi(e))for(var o=0;o<e.length;o++){r=e[o];var c=a+Va(r,o);i+=Qs(r,t,s,c,l)}else if(c=ed(e),typeof c=="function")for(e=c.call(e),o=0;!(r=e.next()).done;)r=r.value,c=a+Va(r,o++),i+=Qs(r,t,s,c,l);else if(r==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Is(e,t,s){if(e==null)return e;var a=[],l=0;return Qs(e,a,"","",function(r){return t.call(s,r,l++)}),a}function sd(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Fe={current:null},Ks={transition:null},ad={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:Ks,ReactCurrentOwner:pr};function $o(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:Is,forEach:function(e,t,s){Is(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Is(e,function(){t++}),t},toArray:function(e){return Is(e,function(t){return t})||[]},only:function(e){if(!vr(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=An;J.Fragment=Wu;J.Profiler=qu;J.PureComponent=hr;J.StrictMode=Vu;J.Suspense=Zu;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ad;J.act=$o;J.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=Po({},e.props),l=e.key,r=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(r=t.ref,i=pr.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Do.call(t,c)&&!Lo.hasOwnProperty(c)&&(a[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)a.children=s;else if(1<c){o=Array(c);for(var v=0;v<c;v++)o[v]=arguments[v+2];a.children=o}return{$$typeof:Cs,type:e.type,key:l,ref:r,props:a,_owner:i}};J.createContext=function(e){return e={$$typeof:Ku,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Qu,_context:e},e.Consumer=e};J.createElement=To;J.createFactory=function(e){var t=To.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:Yu,render:e}};J.isValidElement=vr;J.lazy=function(e){return{$$typeof:Xu,_payload:{_status:-1,_result:e},_init:sd}};J.memo=function(e,t){return{$$typeof:Ju,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=Ks.transition;Ks.transition={};try{e()}finally{Ks.transition=t}};J.unstable_act=$o;J.useCallback=function(e,t){return Fe.current.useCallback(e,t)};J.useContext=function(e){return Fe.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return Fe.current.useDeferredValue(e)};J.useEffect=function(e,t){return Fe.current.useEffect(e,t)};J.useId=function(){return Fe.current.useId()};J.useImperativeHandle=function(e,t,s){return Fe.current.useImperativeHandle(e,t,s)};J.useInsertionEffect=function(e,t){return Fe.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return Fe.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return Fe.current.useMemo(e,t)};J.useReducer=function(e,t,s){return Fe.current.useReducer(e,t,s)};J.useRef=function(e){return Fe.current.useRef(e)};J.useState=function(e){return Fe.current.useState(e)};J.useSyncExternalStore=function(e,t,s){return Fe.current.useSyncExternalStore(e,t,s)};J.useTransition=function(){return Fe.current.useTransition()};J.version="18.3.1";Eo.exports=J;var m=Eo.exports;const ld=Uu(m);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rd=m,id=Symbol.for("react.element"),od=Symbol.for("react.fragment"),cd=Object.prototype.hasOwnProperty,ud=rd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dd={key:!0,ref:!0,__self:!0,__source:!0};function Fo(e,t,s){var a,l={},r=null,i=null;s!==void 0&&(r=""+s),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(i=t.ref);for(a in t)cd.call(t,a)&&!dd.hasOwnProperty(a)&&(l[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)l[a]===void 0&&(l[a]=t[a]);return{$$typeof:id,type:e,key:r,ref:i,props:l,_owner:ud.current}}Pa.Fragment=od;Pa.jsx=Fo;Pa.jsxs=Fo;_o.exports=Pa;var n=_o.exports,jl={},Ao={exports:{}},Qe={},zo={exports:{}},Oo={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,A){var H=D.length;D.push(A);e:for(;0<H;){var q=H-1>>>1,Q=D[q];if(0<l(Q,A))D[q]=A,D[H]=Q,H=q;else break e}}function s(D){return D.length===0?null:D[0]}function a(D){if(D.length===0)return null;var A=D[0],H=D.pop();if(H!==A){D[0]=H;e:for(var q=0,Q=D.length,X=Q>>>1;q<X;){var se=2*(q+1)-1,ae=D[se],de=se+1,B=D[de];if(0>l(ae,H))de<Q&&0>l(B,ae)?(D[q]=B,D[de]=H,q=de):(D[q]=ae,D[se]=H,q=se);else if(de<Q&&0>l(B,H))D[q]=B,D[de]=H,q=de;else break e}}return A}function l(D,A){var H=D.sortIndex-A.sortIndex;return H!==0?H:D.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],v=[],N=1,p=null,g=3,S=!1,E=!1,C=!1,I=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(D){for(var A=s(v);A!==null;){if(A.callback===null)a(v);else if(A.startTime<=D)a(v),A.sortIndex=A.expirationTime,t(c,A);else break;A=s(v)}}function j(D){if(C=!1,h(D),!E)if(s(c)!==null)E=!0,U(k);else{var A=s(v);A!==null&&z(j,A.startTime-D)}}function k(D,A){E=!1,C&&(C=!1,f(y),y=-1),S=!0;var H=g;try{for(h(A),p=s(c);p!==null&&(!(p.expirationTime>A)||D&&!M());){var q=p.callback;if(typeof q=="function"){p.callback=null,g=p.priorityLevel;var Q=q(p.expirationTime<=A);A=e.unstable_now(),typeof Q=="function"?p.callback=Q:p===s(c)&&a(c),h(A)}else a(c);p=s(c)}if(p!==null)var X=!0;else{var se=s(v);se!==null&&z(j,se.startTime-A),X=!1}return X}finally{p=null,g=H,S=!1}}var w=!1,x=null,y=-1,b=5,P=-1;function M(){return!(e.unstable_now()-P<b)}function L(){if(x!==null){var D=e.unstable_now();P=D;var A=!0;try{A=x(!0,D)}finally{A?d():(w=!1,x=null)}}else w=!1}var d;if(typeof u=="function")d=function(){u(L)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,F=R.port2;R.port1.onmessage=L,d=function(){F.postMessage(null)}}else d=function(){I(L,0)};function U(D){x=D,w||(w=!0,d())}function z(D,A){y=I(function(){D(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){E||S||(E=!0,U(k))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(D){switch(g){case 1:case 2:case 3:var A=3;break;default:A=g}var H=g;g=A;try{return D()}finally{g=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,A){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var H=g;g=D;try{return A()}finally{g=H}},e.unstable_scheduleCallback=function(D,A,H){var q=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?q+H:q):H=q,D){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=H+Q,D={id:N++,callback:A,priorityLevel:D,startTime:H,expirationTime:Q,sortIndex:-1},H>q?(D.sortIndex=H,t(v,D),s(c)===null&&D===s(v)&&(C?(f(y),y=-1):C=!0,z(j,H-q))):(D.sortIndex=Q,t(c,D),E||S||(E=!0,U(k))),D},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(D){var A=g;return function(){var H=g;g=A;try{return D.apply(this,arguments)}finally{g=H}}}})(Oo);zo.exports=Oo;var md=zo.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hd=m,qe=md;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Go=new Set,cs={};function cn(e,t){In(e,t),In(e+"Capture",t)}function In(e,t){for(cs[e]=t,e=0;e<t.length;e++)Go.add(t[e])}var wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nl=Object.prototype.hasOwnProperty,fd=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xi={},yi={};function pd(e){return Nl.call(yi,e)?!0:Nl.call(xi,e)?!1:fd.test(e)?yi[e]=!0:(xi[e]=!0,!1)}function vd(e,t,s,a){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function gd(e,t,s,a){if(t===null||typeof t>"u"||vd(e,t,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ae(e,t,s,a,l,r,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=l,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=i}var Me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Me[e]=new Ae(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Me[t]=new Ae(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Me[e]=new Ae(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Me[e]=new Ae(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Me[e]=new Ae(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Me[e]=new Ae(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Me[e]=new Ae(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Me[e]=new Ae(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Me[e]=new Ae(e,5,!1,e.toLowerCase(),null,!1,!1)});var gr=/[\-:]([a-z])/g;function xr(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gr,xr);Me[t]=new Ae(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gr,xr);Me[t]=new Ae(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gr,xr);Me[t]=new Ae(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Me[e]=new Ae(e,1,!1,e.toLowerCase(),null,!1,!1)});Me.xlinkHref=new Ae("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Me[e]=new Ae(e,1,!1,e.toLowerCase(),null,!0,!0)});function yr(e,t,s,a){var l=Me.hasOwnProperty(t)?Me[t]:null;(l!==null?l.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(gd(t,s,l,a)&&(s=null),a||l===null?pd(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):l.mustUseProperty?e[l.propertyName]=s===null?l.type===3?!1:"":s:(t=l.attributeName,a=l.attributeNamespace,s===null?e.removeAttribute(t):(l=l.type,s=l===3||l===4&&s===!0?"":""+s,a?e.setAttributeNS(a,t,s):e.setAttribute(t,s))))}var _t=hd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rs=Symbol.for("react.element"),hn=Symbol.for("react.portal"),fn=Symbol.for("react.fragment"),jr=Symbol.for("react.strict_mode"),kl=Symbol.for("react.profiler"),Bo=Symbol.for("react.provider"),Uo=Symbol.for("react.context"),Nr=Symbol.for("react.forward_ref"),wl=Symbol.for("react.suspense"),Sl=Symbol.for("react.suspense_list"),kr=Symbol.for("react.memo"),Mt=Symbol.for("react.lazy"),Ho=Symbol.for("react.offscreen"),ji=Symbol.iterator;function Bn(e){return e===null||typeof e!="object"?null:(e=ji&&e[ji]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Object.assign,qa;function Yn(e){if(qa===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);qa=t&&t[1]||""}return`
`+qa+e}var Qa=!1;function Ka(e,t){if(!e||Qa)return"";Qa=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(v){var a=v}Reflect.construct(e,[],t)}else{try{t.call()}catch(v){a=v}e.call(t.prototype)}else{try{throw Error()}catch(v){a=v}e()}}catch(v){if(v&&a&&typeof v.stack=="string"){for(var l=v.stack.split(`
`),r=a.stack.split(`
`),i=l.length-1,o=r.length-1;1<=i&&0<=o&&l[i]!==r[o];)o--;for(;1<=i&&0<=o;i--,o--)if(l[i]!==r[o]){if(i!==1||o!==1)do if(i--,o--,0>o||l[i]!==r[o]){var c=`
`+l[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{Qa=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Yn(e):""}function xd(e){switch(e.tag){case 5:return Yn(e.type);case 16:return Yn("Lazy");case 13:return Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 2:case 15:return e=Ka(e.type,!1),e;case 11:return e=Ka(e.type.render,!1),e;case 1:return e=Ka(e.type,!0),e;default:return""}}function bl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fn:return"Fragment";case hn:return"Portal";case kl:return"Profiler";case jr:return"StrictMode";case wl:return"Suspense";case Sl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Uo:return(e.displayName||"Context")+".Consumer";case Bo:return(e._context.displayName||"Context")+".Provider";case Nr:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case kr:return t=e.displayName||null,t!==null?t:bl(e.type)||"Memo";case Mt:t=e._payload,e=e._init;try{return bl(e(t))}catch{}}return null}function yd(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bl(t);case 8:return t===jr?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ut(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wo(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jd(e){var t=Wo(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var l=s.get,r=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){a=""+i,r.call(this,i)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(i){a=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ds(e){e._valueTracker||(e._valueTracker=jd(e))}function Vo(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),a="";return e&&(a=Wo(e)?e.checked?"true":"false":e.value),e=a,e!==s?(t.setValue(e),!0):!1}function ra(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Cl(e,t){var s=t.checked;return ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Ni(e,t){var s=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;s=Ut(t.value!=null?t.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qo(e,t){t=t.checked,t!=null&&yr(e,"checked",t,!1)}function _l(e,t){qo(e,t);var s=Ut(t.value),a=t.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?El(e,t.type,s):t.hasOwnProperty("defaultValue")&&El(e,t.type,Ut(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ki(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function El(e,t,s){(t!=="number"||ra(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Zn=Array.isArray;function bn(e,t,s,a){if(e=e.options,t){t={};for(var l=0;l<s.length;l++)t["$"+s[l]]=!0;for(s=0;s<e.length;s++)l=t.hasOwnProperty("$"+e[s].value),e[s].selected!==l&&(e[s].selected=l),l&&a&&(e[s].defaultSelected=!0)}else{for(s=""+Ut(s),t=null,l=0;l<e.length;l++){if(e[l].value===s){e[l].selected=!0,a&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Ml(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function wi(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(G(92));if(Zn(s)){if(1<s.length)throw Error(G(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Ut(s)}}function Qo(e,t){var s=Ut(t.value),a=Ut(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function Si(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ko(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ko(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ls,Yo=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,a,l){MSApp.execUnsafeLocalFunction(function(){return e(t,s,a,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ls=Ls||document.createElement("div"),Ls.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ls.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function us(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var es={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nd=["Webkit","ms","Moz","O"];Object.keys(es).forEach(function(e){Nd.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),es[t]=es[e]})});function Zo(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||es.hasOwnProperty(e)&&es[e]?(""+t).trim():t+"px"}function Jo(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var a=s.indexOf("--")===0,l=Zo(s,t[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,l):e[s]=l}}var kd=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Il(e,t){if(t){if(kd[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function Rl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dl=null;function wr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ll=null,Cn=null,_n=null;function bi(e){if(e=Ms(e)){if(typeof Ll!="function")throw Error(G(280));var t=e.stateNode;t&&(t=Ta(t),Ll(e.stateNode,e.type,t))}}function Xo(e){Cn?_n?_n.push(e):_n=[e]:Cn=e}function ec(){if(Cn){var e=Cn,t=_n;if(_n=Cn=null,bi(e),t)for(e=0;e<t.length;e++)bi(t[e])}}function tc(e,t){return e(t)}function nc(){}var Ya=!1;function sc(e,t,s){if(Ya)return e(t,s);Ya=!0;try{return tc(e,t,s)}finally{Ya=!1,(Cn!==null||_n!==null)&&(nc(),ec())}}function ds(e,t){var s=e.stateNode;if(s===null)return null;var a=Ta(s);if(a===null)return null;s=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(G(231,t,typeof s));return s}var Tl=!1;if(wt)try{var Un={};Object.defineProperty(Un,"passive",{get:function(){Tl=!0}}),window.addEventListener("test",Un,Un),window.removeEventListener("test",Un,Un)}catch{Tl=!1}function wd(e,t,s,a,l,r,i,o,c){var v=Array.prototype.slice.call(arguments,3);try{t.apply(s,v)}catch(N){this.onError(N)}}var ts=!1,ia=null,oa=!1,$l=null,Sd={onError:function(e){ts=!0,ia=e}};function bd(e,t,s,a,l,r,i,o,c){ts=!1,ia=null,wd.apply(Sd,arguments)}function Cd(e,t,s,a,l,r,i,o,c){if(bd.apply(this,arguments),ts){if(ts){var v=ia;ts=!1,ia=null}else throw Error(G(198));oa||(oa=!0,$l=v)}}function un(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function ac(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ci(e){if(un(e)!==e)throw Error(G(188))}function _d(e){var t=e.alternate;if(!t){if(t=un(e),t===null)throw Error(G(188));return t!==e?null:e}for(var s=e,a=t;;){var l=s.return;if(l===null)break;var r=l.alternate;if(r===null){if(a=l.return,a!==null){s=a;continue}break}if(l.child===r.child){for(r=l.child;r;){if(r===s)return Ci(l),e;if(r===a)return Ci(l),t;r=r.sibling}throw Error(G(188))}if(s.return!==a.return)s=l,a=r;else{for(var i=!1,o=l.child;o;){if(o===s){i=!0,s=l,a=r;break}if(o===a){i=!0,a=l,s=r;break}o=o.sibling}if(!i){for(o=r.child;o;){if(o===s){i=!0,s=r,a=l;break}if(o===a){i=!0,a=r,s=l;break}o=o.sibling}if(!i)throw Error(G(189))}}if(s.alternate!==a)throw Error(G(190))}if(s.tag!==3)throw Error(G(188));return s.stateNode.current===s?e:t}function lc(e){return e=_d(e),e!==null?rc(e):null}function rc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=rc(e);if(t!==null)return t;e=e.sibling}return null}var ic=qe.unstable_scheduleCallback,_i=qe.unstable_cancelCallback,Ed=qe.unstable_shouldYield,Md=qe.unstable_requestPaint,je=qe.unstable_now,Pd=qe.unstable_getCurrentPriorityLevel,Sr=qe.unstable_ImmediatePriority,oc=qe.unstable_UserBlockingPriority,ca=qe.unstable_NormalPriority,Id=qe.unstable_LowPriority,cc=qe.unstable_IdlePriority,Ia=null,vt=null;function Rd(e){if(vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(Ia,e,void 0,(e.current.flags&128)===128)}catch{}}var ut=Math.clz32?Math.clz32:Td,Dd=Math.log,Ld=Math.LN2;function Td(e){return e>>>=0,e===0?32:31-(Dd(e)/Ld|0)|0}var Ts=64,$s=4194304;function Jn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ua(e,t){var s=e.pendingLanes;if(s===0)return 0;var a=0,l=e.suspendedLanes,r=e.pingedLanes,i=s&268435455;if(i!==0){var o=i&~l;o!==0?a=Jn(o):(r&=i,r!==0&&(a=Jn(r)))}else i=s&~l,i!==0?a=Jn(i):r!==0&&(a=Jn(r));if(a===0)return 0;if(t!==0&&t!==a&&!(t&l)&&(l=a&-a,r=t&-t,l>=r||l===16&&(r&4194240)!==0))return t;if(a&4&&(a|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)s=31-ut(t),l=1<<s,a|=e[s],t&=~l;return a}function $d(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fd(e,t){for(var s=e.suspendedLanes,a=e.pingedLanes,l=e.expirationTimes,r=e.pendingLanes;0<r;){var i=31-ut(r),o=1<<i,c=l[i];c===-1?(!(o&s)||o&a)&&(l[i]=$d(o,t)):c<=t&&(e.expiredLanes|=o),r&=~o}}function Fl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uc(){var e=Ts;return Ts<<=1,!(Ts&4194240)&&(Ts=64),e}function Za(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function _s(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ut(t),e[t]=s}function Ad(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var l=31-ut(s),r=1<<l;t[l]=0,a[l]=-1,e[l]=-1,s&=~r}}function br(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var a=31-ut(s),l=1<<a;l&t|e[a]&t&&(e[a]|=t),s&=~l}}var le=0;function dc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var mc,Cr,hc,fc,pc,Al=!1,Fs=[],Tt=null,$t=null,Ft=null,ms=new Map,hs=new Map,It=[],zd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ei(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":$t=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":ms.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hs.delete(t.pointerId)}}function Hn(e,t,s,a,l,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:s,eventSystemFlags:a,nativeEvent:r,targetContainers:[l]},t!==null&&(t=Ms(t),t!==null&&Cr(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Od(e,t,s,a,l){switch(t){case"focusin":return Tt=Hn(Tt,e,t,s,a,l),!0;case"dragenter":return $t=Hn($t,e,t,s,a,l),!0;case"mouseover":return Ft=Hn(Ft,e,t,s,a,l),!0;case"pointerover":var r=l.pointerId;return ms.set(r,Hn(ms.get(r)||null,e,t,s,a,l)),!0;case"gotpointercapture":return r=l.pointerId,hs.set(r,Hn(hs.get(r)||null,e,t,s,a,l)),!0}return!1}function vc(e){var t=Jt(e.target);if(t!==null){var s=un(t);if(s!==null){if(t=s.tag,t===13){if(t=ac(s),t!==null){e.blockedOn=t,pc(e.priority,function(){hc(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ys(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=zl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);Dl=a,s.target.dispatchEvent(a),Dl=null}else return t=Ms(s),t!==null&&Cr(t),e.blockedOn=s,!1;t.shift()}return!0}function Mi(e,t,s){Ys(e)&&s.delete(t)}function Gd(){Al=!1,Tt!==null&&Ys(Tt)&&(Tt=null),$t!==null&&Ys($t)&&($t=null),Ft!==null&&Ys(Ft)&&(Ft=null),ms.forEach(Mi),hs.forEach(Mi)}function Wn(e,t){e.blockedOn===t&&(e.blockedOn=null,Al||(Al=!0,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,Gd)))}function fs(e){function t(l){return Wn(l,e)}if(0<Fs.length){Wn(Fs[0],e);for(var s=1;s<Fs.length;s++){var a=Fs[s];a.blockedOn===e&&(a.blockedOn=null)}}for(Tt!==null&&Wn(Tt,e),$t!==null&&Wn($t,e),Ft!==null&&Wn(Ft,e),ms.forEach(t),hs.forEach(t),s=0;s<It.length;s++)a=It[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<It.length&&(s=It[0],s.blockedOn===null);)vc(s),s.blockedOn===null&&It.shift()}var En=_t.ReactCurrentBatchConfig,da=!0;function Bd(e,t,s,a){var l=le,r=En.transition;En.transition=null;try{le=1,_r(e,t,s,a)}finally{le=l,En.transition=r}}function Ud(e,t,s,a){var l=le,r=En.transition;En.transition=null;try{le=4,_r(e,t,s,a)}finally{le=l,En.transition=r}}function _r(e,t,s,a){if(da){var l=zl(e,t,s,a);if(l===null)il(e,t,a,ma,s),Ei(e,a);else if(Od(l,e,t,s,a))a.stopPropagation();else if(Ei(e,a),t&4&&-1<zd.indexOf(e)){for(;l!==null;){var r=Ms(l);if(r!==null&&mc(r),r=zl(e,t,s,a),r===null&&il(e,t,a,ma,s),r===l)break;l=r}l!==null&&a.stopPropagation()}else il(e,t,a,null,s)}}var ma=null;function zl(e,t,s,a){if(ma=null,e=wr(a),e=Jt(e),e!==null)if(t=un(e),t===null)e=null;else if(s=t.tag,s===13){if(e=ac(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ma=e,null}function gc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pd()){case Sr:return 1;case oc:return 4;case ca:case Id:return 16;case cc:return 536870912;default:return 16}default:return 16}}var Dt=null,Er=null,Zs=null;function xc(){if(Zs)return Zs;var e,t=Er,s=t.length,a,l="value"in Dt?Dt.value:Dt.textContent,r=l.length;for(e=0;e<s&&t[e]===l[e];e++);var i=s-e;for(a=1;a<=i&&t[s-a]===l[r-a];a++);return Zs=l.slice(e,1<a?1-a:void 0)}function Js(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function As(){return!0}function Pi(){return!1}function Ke(e){function t(s,a,l,r,i){this._reactName=s,this._targetInst=l,this.type=a,this.nativeEvent=r,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(s=e[o],this[o]=s?s(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?As:Pi,this.isPropagationStopped=Pi,this}return ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),t}var zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mr=Ke(zn),Es=ge({},zn,{view:0,detail:0}),Hd=Ke(Es),Ja,Xa,Vn,Ra=ge({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vn&&(Vn&&e.type==="mousemove"?(Ja=e.screenX-Vn.screenX,Xa=e.screenY-Vn.screenY):Xa=Ja=0,Vn=e),Ja)},movementY:function(e){return"movementY"in e?e.movementY:Xa}}),Ii=Ke(Ra),Wd=ge({},Ra,{dataTransfer:0}),Vd=Ke(Wd),qd=ge({},Es,{relatedTarget:0}),el=Ke(qd),Qd=ge({},zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Kd=Ke(Qd),Yd=ge({},zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zd=Ke(Yd),Jd=ge({},zn,{data:0}),Ri=Ke(Jd),Xd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},em={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tm[e])?!!t[e]:!1}function Pr(){return nm}var sm=ge({},Es,{key:function(e){if(e.key){var t=Xd[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Js(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?em[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pr,charCode:function(e){return e.type==="keypress"?Js(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Js(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),am=Ke(sm),lm=ge({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Di=Ke(lm),rm=ge({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pr}),im=Ke(rm),om=ge({},zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),cm=Ke(om),um=ge({},Ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dm=Ke(um),mm=[9,13,27,32],Ir=wt&&"CompositionEvent"in window,ns=null;wt&&"documentMode"in document&&(ns=document.documentMode);var hm=wt&&"TextEvent"in window&&!ns,yc=wt&&(!Ir||ns&&8<ns&&11>=ns),Li=" ",Ti=!1;function jc(e,t){switch(e){case"keyup":return mm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pn=!1;function fm(e,t){switch(e){case"compositionend":return Nc(t);case"keypress":return t.which!==32?null:(Ti=!0,Li);case"textInput":return e=t.data,e===Li&&Ti?null:e;default:return null}}function pm(e,t){if(pn)return e==="compositionend"||!Ir&&jc(e,t)?(e=xc(),Zs=Er=Dt=null,pn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yc&&t.locale!=="ko"?null:t.data;default:return null}}var vm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $i(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!vm[e.type]:t==="textarea"}function kc(e,t,s,a){Xo(a),t=ha(t,"onChange"),0<t.length&&(s=new Mr("onChange","change",null,s,a),e.push({event:s,listeners:t}))}var ss=null,ps=null;function gm(e){Dc(e,0)}function Da(e){var t=xn(e);if(Vo(t))return e}function xm(e,t){if(e==="change")return t}var wc=!1;if(wt){var tl;if(wt){var nl="oninput"in document;if(!nl){var Fi=document.createElement("div");Fi.setAttribute("oninput","return;"),nl=typeof Fi.oninput=="function"}tl=nl}else tl=!1;wc=tl&&(!document.documentMode||9<document.documentMode)}function Ai(){ss&&(ss.detachEvent("onpropertychange",Sc),ps=ss=null)}function Sc(e){if(e.propertyName==="value"&&Da(ps)){var t=[];kc(t,ps,e,wr(e)),sc(gm,t)}}function ym(e,t,s){e==="focusin"?(Ai(),ss=t,ps=s,ss.attachEvent("onpropertychange",Sc)):e==="focusout"&&Ai()}function jm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Da(ps)}function Nm(e,t){if(e==="click")return Da(t)}function km(e,t){if(e==="input"||e==="change")return Da(t)}function wm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mt=typeof Object.is=="function"?Object.is:wm;function vs(e,t){if(mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var l=s[a];if(!Nl.call(t,l)||!mt(e[l],t[l]))return!1}return!0}function zi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Oi(e,t){var s=zi(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=t&&a>=t)return{node:s,offset:t-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=zi(s)}}function bc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cc(){for(var e=window,t=ra();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=ra(e.document)}return t}function Rr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Sm(e){var t=Cc(),s=e.focusedElem,a=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&bc(s.ownerDocument.documentElement,s)){if(a!==null&&Rr(s)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=s.textContent.length,r=Math.min(a.start,l);a=a.end===void 0?r:Math.min(a.end,l),!e.extend&&r>a&&(l=a,a=r,r=l),l=Oi(s,r);var i=Oi(s,a);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),r>a?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var bm=wt&&"documentMode"in document&&11>=document.documentMode,vn=null,Ol=null,as=null,Gl=!1;function Gi(e,t,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Gl||vn==null||vn!==ra(a)||(a=vn,"selectionStart"in a&&Rr(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),as&&vs(as,a)||(as=a,a=ha(Ol,"onSelect"),0<a.length&&(t=new Mr("onSelect","select",null,t,s),e.push({event:t,listeners:a}),t.target=vn)))}function zs(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var gn={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionend:zs("Transition","TransitionEnd")},sl={},_c={};wt&&(_c=document.createElement("div").style,"AnimationEvent"in window||(delete gn.animationend.animation,delete gn.animationiteration.animation,delete gn.animationstart.animation),"TransitionEvent"in window||delete gn.transitionend.transition);function La(e){if(sl[e])return sl[e];if(!gn[e])return e;var t=gn[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in _c)return sl[e]=t[s];return e}var Ec=La("animationend"),Mc=La("animationiteration"),Pc=La("animationstart"),Ic=La("transitionend"),Rc=new Map,Bi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wt(e,t){Rc.set(e,t),cn(t,[e])}for(var al=0;al<Bi.length;al++){var ll=Bi[al],Cm=ll.toLowerCase(),_m=ll[0].toUpperCase()+ll.slice(1);Wt(Cm,"on"+_m)}Wt(Ec,"onAnimationEnd");Wt(Mc,"onAnimationIteration");Wt(Pc,"onAnimationStart");Wt("dblclick","onDoubleClick");Wt("focusin","onFocus");Wt("focusout","onBlur");Wt(Ic,"onTransitionEnd");In("onMouseEnter",["mouseout","mouseover"]);In("onMouseLeave",["mouseout","mouseover"]);In("onPointerEnter",["pointerout","pointerover"]);In("onPointerLeave",["pointerout","pointerover"]);cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cn("onBeforeInput",["compositionend","keypress","textInput","paste"]);cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Em=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xn));function Ui(e,t,s){var a=e.type||"unknown-event";e.currentTarget=s,Cd(a,t,void 0,e),e.currentTarget=null}function Dc(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],l=a.event;a=a.listeners;e:{var r=void 0;if(t)for(var i=a.length-1;0<=i;i--){var o=a[i],c=o.instance,v=o.currentTarget;if(o=o.listener,c!==r&&l.isPropagationStopped())break e;Ui(l,o,v),r=c}else for(i=0;i<a.length;i++){if(o=a[i],c=o.instance,v=o.currentTarget,o=o.listener,c!==r&&l.isPropagationStopped())break e;Ui(l,o,v),r=c}}}if(oa)throw e=$l,oa=!1,$l=null,e}function ce(e,t){var s=t[Vl];s===void 0&&(s=t[Vl]=new Set);var a=e+"__bubble";s.has(a)||(Lc(t,e,2,!1),s.add(a))}function rl(e,t,s){var a=0;t&&(a|=4),Lc(s,e,a,t)}var Os="_reactListening"+Math.random().toString(36).slice(2);function gs(e){if(!e[Os]){e[Os]=!0,Go.forEach(function(s){s!=="selectionchange"&&(Em.has(s)||rl(s,!1,e),rl(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Os]||(t[Os]=!0,rl("selectionchange",!1,t))}}function Lc(e,t,s,a){switch(gc(t)){case 1:var l=Bd;break;case 4:l=Ud;break;default:l=_r}s=l.bind(null,t,s,e),l=void 0,!Tl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),a?l!==void 0?e.addEventListener(t,s,{capture:!0,passive:l}):e.addEventListener(t,s,!0):l!==void 0?e.addEventListener(t,s,{passive:l}):e.addEventListener(t,s,!1)}function il(e,t,s,a,l){var r=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var i=a.tag;if(i===3||i===4){var o=a.stateNode.containerInfo;if(o===l||o.nodeType===8&&o.parentNode===l)break;if(i===4)for(i=a.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;i=i.return}for(;o!==null;){if(i=Jt(o),i===null)return;if(c=i.tag,c===5||c===6){a=r=i;continue e}o=o.parentNode}}a=a.return}sc(function(){var v=r,N=wr(s),p=[];e:{var g=Rc.get(e);if(g!==void 0){var S=Mr,E=e;switch(e){case"keypress":if(Js(s)===0)break e;case"keydown":case"keyup":S=am;break;case"focusin":E="focus",S=el;break;case"focusout":E="blur",S=el;break;case"beforeblur":case"afterblur":S=el;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=Ii;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=Vd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=im;break;case Ec:case Mc:case Pc:S=Kd;break;case Ic:S=cm;break;case"scroll":S=Hd;break;case"wheel":S=dm;break;case"copy":case"cut":case"paste":S=Zd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=Di}var C=(t&4)!==0,I=!C&&e==="scroll",f=C?g!==null?g+"Capture":null:g;C=[];for(var u=v,h;u!==null;){h=u;var j=h.stateNode;if(h.tag===5&&j!==null&&(h=j,f!==null&&(j=ds(u,f),j!=null&&C.push(xs(u,j,h)))),I)break;u=u.return}0<C.length&&(g=new S(g,E,null,s,N),p.push({event:g,listeners:C}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",g&&s!==Dl&&(E=s.relatedTarget||s.fromElement)&&(Jt(E)||E[St]))break e;if((S||g)&&(g=N.window===N?N:(g=N.ownerDocument)?g.defaultView||g.parentWindow:window,S?(E=s.relatedTarget||s.toElement,S=v,E=E?Jt(E):null,E!==null&&(I=un(E),E!==I||E.tag!==5&&E.tag!==6)&&(E=null)):(S=null,E=v),S!==E)){if(C=Ii,j="onMouseLeave",f="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(C=Di,j="onPointerLeave",f="onPointerEnter",u="pointer"),I=S==null?g:xn(S),h=E==null?g:xn(E),g=new C(j,u+"leave",S,s,N),g.target=I,g.relatedTarget=h,j=null,Jt(N)===v&&(C=new C(f,u+"enter",E,s,N),C.target=h,C.relatedTarget=I,j=C),I=j,S&&E)t:{for(C=S,f=E,u=0,h=C;h;h=mn(h))u++;for(h=0,j=f;j;j=mn(j))h++;for(;0<u-h;)C=mn(C),u--;for(;0<h-u;)f=mn(f),h--;for(;u--;){if(C===f||f!==null&&C===f.alternate)break t;C=mn(C),f=mn(f)}C=null}else C=null;S!==null&&Hi(p,g,S,C,!1),E!==null&&I!==null&&Hi(p,I,E,C,!0)}}e:{if(g=v?xn(v):window,S=g.nodeName&&g.nodeName.toLowerCase(),S==="select"||S==="input"&&g.type==="file")var k=xm;else if($i(g))if(wc)k=km;else{k=jm;var w=ym}else(S=g.nodeName)&&S.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(k=Nm);if(k&&(k=k(e,v))){kc(p,k,s,N);break e}w&&w(e,g,v),e==="focusout"&&(w=g._wrapperState)&&w.controlled&&g.type==="number"&&El(g,"number",g.value)}switch(w=v?xn(v):window,e){case"focusin":($i(w)||w.contentEditable==="true")&&(vn=w,Ol=v,as=null);break;case"focusout":as=Ol=vn=null;break;case"mousedown":Gl=!0;break;case"contextmenu":case"mouseup":case"dragend":Gl=!1,Gi(p,s,N);break;case"selectionchange":if(bm)break;case"keydown":case"keyup":Gi(p,s,N)}var x;if(Ir)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else pn?jc(e,s)&&(y="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(y="onCompositionStart");y&&(yc&&s.locale!=="ko"&&(pn||y!=="onCompositionStart"?y==="onCompositionEnd"&&pn&&(x=xc()):(Dt=N,Er="value"in Dt?Dt.value:Dt.textContent,pn=!0)),w=ha(v,y),0<w.length&&(y=new Ri(y,e,null,s,N),p.push({event:y,listeners:w}),x?y.data=x:(x=Nc(s),x!==null&&(y.data=x)))),(x=hm?fm(e,s):pm(e,s))&&(v=ha(v,"onBeforeInput"),0<v.length&&(N=new Ri("onBeforeInput","beforeinput",null,s,N),p.push({event:N,listeners:v}),N.data=x))}Dc(p,t)})}function xs(e,t,s){return{instance:e,listener:t,currentTarget:s}}function ha(e,t){for(var s=t+"Capture",a=[];e!==null;){var l=e,r=l.stateNode;l.tag===5&&r!==null&&(l=r,r=ds(e,s),r!=null&&a.unshift(xs(e,r,l)),r=ds(e,t),r!=null&&a.push(xs(e,r,l))),e=e.return}return a}function mn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hi(e,t,s,a,l){for(var r=t._reactName,i=[];s!==null&&s!==a;){var o=s,c=o.alternate,v=o.stateNode;if(c!==null&&c===a)break;o.tag===5&&v!==null&&(o=v,l?(c=ds(s,r),c!=null&&i.unshift(xs(s,c,o))):l||(c=ds(s,r),c!=null&&i.push(xs(s,c,o)))),s=s.return}i.length!==0&&e.push({event:t,listeners:i})}var Mm=/\r\n?/g,Pm=/\u0000|\uFFFD/g;function Wi(e){return(typeof e=="string"?e:""+e).replace(Mm,`
`).replace(Pm,"")}function Gs(e,t,s){if(t=Wi(t),Wi(e)!==t&&s)throw Error(G(425))}function fa(){}var Bl=null,Ul=null;function Hl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wl=typeof setTimeout=="function"?setTimeout:void 0,Im=typeof clearTimeout=="function"?clearTimeout:void 0,Vi=typeof Promise=="function"?Promise:void 0,Rm=typeof queueMicrotask=="function"?queueMicrotask:typeof Vi<"u"?function(e){return Vi.resolve(null).then(e).catch(Dm)}:Wl;function Dm(e){setTimeout(function(){throw e})}function ol(e,t){var s=t,a=0;do{var l=s.nextSibling;if(e.removeChild(s),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(a===0){e.removeChild(l),fs(t);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=l}while(s);fs(t)}function At(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qi(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var On=Math.random().toString(36).slice(2),pt="__reactFiber$"+On,ys="__reactProps$"+On,St="__reactContainer$"+On,Vl="__reactEvents$"+On,Lm="__reactListeners$"+On,Tm="__reactHandles$"+On;function Jt(e){var t=e[pt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[St]||s[pt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=qi(e);e!==null;){if(s=e[pt])return s;e=qi(e)}return t}e=s,s=e.parentNode}return null}function Ms(e){return e=e[pt]||e[St],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function Ta(e){return e[ys]||null}var ql=[],yn=-1;function Vt(e){return{current:e}}function ue(e){0>yn||(e.current=ql[yn],ql[yn]=null,yn--)}function oe(e,t){yn++,ql[yn]=e.current,e.current=t}var Ht={},Le=Vt(Ht),Ge=Vt(!1),sn=Ht;function Rn(e,t){var s=e.type.contextTypes;if(!s)return Ht;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var l={},r;for(r in s)l[r]=t[r];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Be(e){return e=e.childContextTypes,e!=null}function pa(){ue(Ge),ue(Le)}function Qi(e,t,s){if(Le.current!==Ht)throw Error(G(168));oe(Le,t),oe(Ge,s)}function Tc(e,t,s){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var l in a)if(!(l in t))throw Error(G(108,yd(e)||"Unknown",l));return ge({},s,a)}function va(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ht,sn=Le.current,oe(Le,e),oe(Ge,Ge.current),!0}function Ki(e,t,s){var a=e.stateNode;if(!a)throw Error(G(169));s?(e=Tc(e,t,sn),a.__reactInternalMemoizedMergedChildContext=e,ue(Ge),ue(Le),oe(Le,e)):ue(Ge),oe(Ge,s)}var yt=null,$a=!1,cl=!1;function $c(e){yt===null?yt=[e]:yt.push(e)}function $m(e){$a=!0,$c(e)}function qt(){if(!cl&&yt!==null){cl=!0;var e=0,t=le;try{var s=yt;for(le=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}yt=null,$a=!1}catch(l){throw yt!==null&&(yt=yt.slice(e+1)),ic(Sr,qt),l}finally{le=t,cl=!1}}return null}var jn=[],Nn=0,ga=null,xa=0,Ze=[],Je=0,an=null,jt=1,Nt="";function Yt(e,t){jn[Nn++]=xa,jn[Nn++]=ga,ga=e,xa=t}function Fc(e,t,s){Ze[Je++]=jt,Ze[Je++]=Nt,Ze[Je++]=an,an=e;var a=jt;e=Nt;var l=32-ut(a)-1;a&=~(1<<l),s+=1;var r=32-ut(t)+l;if(30<r){var i=l-l%5;r=(a&(1<<i)-1).toString(32),a>>=i,l-=i,jt=1<<32-ut(t)+l|s<<l|a,Nt=r+e}else jt=1<<r|s<<l|a,Nt=e}function Dr(e){e.return!==null&&(Yt(e,1),Fc(e,1,0))}function Lr(e){for(;e===ga;)ga=jn[--Nn],jn[Nn]=null,xa=jn[--Nn],jn[Nn]=null;for(;e===an;)an=Ze[--Je],Ze[Je]=null,Nt=Ze[--Je],Ze[Je]=null,jt=Ze[--Je],Ze[Je]=null}var Ve=null,We=null,he=!1,ot=null;function Ac(e,t){var s=Xe(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Yi(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ve=e,We=At(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ve=e,We=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=an!==null?{id:jt,overflow:Nt}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Xe(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Ve=e,We=null,!0):!1;default:return!1}}function Ql(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Kl(e){if(he){var t=We;if(t){var s=t;if(!Yi(e,t)){if(Ql(e))throw Error(G(418));t=At(s.nextSibling);var a=Ve;t&&Yi(e,t)?Ac(a,s):(e.flags=e.flags&-4097|2,he=!1,Ve=e)}}else{if(Ql(e))throw Error(G(418));e.flags=e.flags&-4097|2,he=!1,Ve=e}}}function Zi(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ve=e}function Bs(e){if(e!==Ve)return!1;if(!he)return Zi(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Hl(e.type,e.memoizedProps)),t&&(t=We)){if(Ql(e))throw zc(),Error(G(418));for(;t;)Ac(e,t),t=At(t.nextSibling)}if(Zi(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){We=At(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}We=null}}else We=Ve?At(e.stateNode.nextSibling):null;return!0}function zc(){for(var e=We;e;)e=At(e.nextSibling)}function Dn(){We=Ve=null,he=!1}function Tr(e){ot===null?ot=[e]:ot.push(e)}var Fm=_t.ReactCurrentBatchConfig;function qn(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(G(309));var a=s.stateNode}if(!a)throw Error(G(147,e));var l=a,r=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===r?t.ref:(t=function(i){var o=l.refs;i===null?delete o[r]:o[r]=i},t._stringRef=r,t)}if(typeof e!="string")throw Error(G(284));if(!s._owner)throw Error(G(290,e))}return e}function Us(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ji(e){var t=e._init;return t(e._payload)}function Oc(e){function t(f,u){if(e){var h=f.deletions;h===null?(f.deletions=[u],f.flags|=16):h.push(u)}}function s(f,u){if(!e)return null;for(;u!==null;)t(f,u),u=u.sibling;return null}function a(f,u){for(f=new Map;u!==null;)u.key!==null?f.set(u.key,u):f.set(u.index,u),u=u.sibling;return f}function l(f,u){return f=Bt(f,u),f.index=0,f.sibling=null,f}function r(f,u,h){return f.index=h,e?(h=f.alternate,h!==null?(h=h.index,h<u?(f.flags|=2,u):h):(f.flags|=2,u)):(f.flags|=1048576,u)}function i(f){return e&&f.alternate===null&&(f.flags|=2),f}function o(f,u,h,j){return u===null||u.tag!==6?(u=vl(h,f.mode,j),u.return=f,u):(u=l(u,h),u.return=f,u)}function c(f,u,h,j){var k=h.type;return k===fn?N(f,u,h.props.children,j,h.key):u!==null&&(u.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Mt&&Ji(k)===u.type)?(j=l(u,h.props),j.ref=qn(f,u,h),j.return=f,j):(j=la(h.type,h.key,h.props,null,f.mode,j),j.ref=qn(f,u,h),j.return=f,j)}function v(f,u,h,j){return u===null||u.tag!==4||u.stateNode.containerInfo!==h.containerInfo||u.stateNode.implementation!==h.implementation?(u=gl(h,f.mode,j),u.return=f,u):(u=l(u,h.children||[]),u.return=f,u)}function N(f,u,h,j,k){return u===null||u.tag!==7?(u=nn(h,f.mode,j,k),u.return=f,u):(u=l(u,h),u.return=f,u)}function p(f,u,h){if(typeof u=="string"&&u!==""||typeof u=="number")return u=vl(""+u,f.mode,h),u.return=f,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case Rs:return h=la(u.type,u.key,u.props,null,f.mode,h),h.ref=qn(f,null,u),h.return=f,h;case hn:return u=gl(u,f.mode,h),u.return=f,u;case Mt:var j=u._init;return p(f,j(u._payload),h)}if(Zn(u)||Bn(u))return u=nn(u,f.mode,h,null),u.return=f,u;Us(f,u)}return null}function g(f,u,h,j){var k=u!==null?u.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return k!==null?null:o(f,u,""+h,j);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Rs:return h.key===k?c(f,u,h,j):null;case hn:return h.key===k?v(f,u,h,j):null;case Mt:return k=h._init,g(f,u,k(h._payload),j)}if(Zn(h)||Bn(h))return k!==null?null:N(f,u,h,j,null);Us(f,h)}return null}function S(f,u,h,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return f=f.get(h)||null,o(u,f,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Rs:return f=f.get(j.key===null?h:j.key)||null,c(u,f,j,k);case hn:return f=f.get(j.key===null?h:j.key)||null,v(u,f,j,k);case Mt:var w=j._init;return S(f,u,h,w(j._payload),k)}if(Zn(j)||Bn(j))return f=f.get(h)||null,N(u,f,j,k,null);Us(u,j)}return null}function E(f,u,h,j){for(var k=null,w=null,x=u,y=u=0,b=null;x!==null&&y<h.length;y++){x.index>y?(b=x,x=null):b=x.sibling;var P=g(f,x,h[y],j);if(P===null){x===null&&(x=b);break}e&&x&&P.alternate===null&&t(f,x),u=r(P,u,y),w===null?k=P:w.sibling=P,w=P,x=b}if(y===h.length)return s(f,x),he&&Yt(f,y),k;if(x===null){for(;y<h.length;y++)x=p(f,h[y],j),x!==null&&(u=r(x,u,y),w===null?k=x:w.sibling=x,w=x);return he&&Yt(f,y),k}for(x=a(f,x);y<h.length;y++)b=S(x,f,y,h[y],j),b!==null&&(e&&b.alternate!==null&&x.delete(b.key===null?y:b.key),u=r(b,u,y),w===null?k=b:w.sibling=b,w=b);return e&&x.forEach(function(M){return t(f,M)}),he&&Yt(f,y),k}function C(f,u,h,j){var k=Bn(h);if(typeof k!="function")throw Error(G(150));if(h=k.call(h),h==null)throw Error(G(151));for(var w=k=null,x=u,y=u=0,b=null,P=h.next();x!==null&&!P.done;y++,P=h.next()){x.index>y?(b=x,x=null):b=x.sibling;var M=g(f,x,P.value,j);if(M===null){x===null&&(x=b);break}e&&x&&M.alternate===null&&t(f,x),u=r(M,u,y),w===null?k=M:w.sibling=M,w=M,x=b}if(P.done)return s(f,x),he&&Yt(f,y),k;if(x===null){for(;!P.done;y++,P=h.next())P=p(f,P.value,j),P!==null&&(u=r(P,u,y),w===null?k=P:w.sibling=P,w=P);return he&&Yt(f,y),k}for(x=a(f,x);!P.done;y++,P=h.next())P=S(x,f,y,P.value,j),P!==null&&(e&&P.alternate!==null&&x.delete(P.key===null?y:P.key),u=r(P,u,y),w===null?k=P:w.sibling=P,w=P);return e&&x.forEach(function(L){return t(f,L)}),he&&Yt(f,y),k}function I(f,u,h,j){if(typeof h=="object"&&h!==null&&h.type===fn&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Rs:e:{for(var k=h.key,w=u;w!==null;){if(w.key===k){if(k=h.type,k===fn){if(w.tag===7){s(f,w.sibling),u=l(w,h.props.children),u.return=f,f=u;break e}}else if(w.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Mt&&Ji(k)===w.type){s(f,w.sibling),u=l(w,h.props),u.ref=qn(f,w,h),u.return=f,f=u;break e}s(f,w);break}else t(f,w);w=w.sibling}h.type===fn?(u=nn(h.props.children,f.mode,j,h.key),u.return=f,f=u):(j=la(h.type,h.key,h.props,null,f.mode,j),j.ref=qn(f,u,h),j.return=f,f=j)}return i(f);case hn:e:{for(w=h.key;u!==null;){if(u.key===w)if(u.tag===4&&u.stateNode.containerInfo===h.containerInfo&&u.stateNode.implementation===h.implementation){s(f,u.sibling),u=l(u,h.children||[]),u.return=f,f=u;break e}else{s(f,u);break}else t(f,u);u=u.sibling}u=gl(h,f.mode,j),u.return=f,f=u}return i(f);case Mt:return w=h._init,I(f,u,w(h._payload),j)}if(Zn(h))return E(f,u,h,j);if(Bn(h))return C(f,u,h,j);Us(f,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,u!==null&&u.tag===6?(s(f,u.sibling),u=l(u,h),u.return=f,f=u):(s(f,u),u=vl(h,f.mode,j),u.return=f,f=u),i(f)):s(f,u)}return I}var Ln=Oc(!0),Gc=Oc(!1),ya=Vt(null),ja=null,kn=null,$r=null;function Fr(){$r=kn=ja=null}function Ar(e){var t=ya.current;ue(ya),e._currentValue=t}function Yl(e,t,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===s)break;e=e.return}}function Mn(e,t){ja=e,$r=kn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Oe=!0),e.firstContext=null)}function tt(e){var t=e._currentValue;if($r!==e)if(e={context:e,memoizedValue:t,next:null},kn===null){if(ja===null)throw Error(G(308));kn=e,ja.dependencies={lanes:0,firstContext:e}}else kn=kn.next=e;return t}var Xt=null;function zr(e){Xt===null?Xt=[e]:Xt.push(e)}function Bc(e,t,s,a){var l=t.interleaved;return l===null?(s.next=s,zr(t)):(s.next=l.next,l.next=s),t.interleaved=s,bt(e,a)}function bt(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Pt=!1;function Or(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zt(e,t,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,te&2){var l=a.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),a.pending=t,bt(e,s)}return l=a.interleaved,l===null?(t.next=t,zr(a)):(t.next=l.next,l.next=t),a.interleaved=t,bt(e,s)}function Xs(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,br(e,s)}}function Xi(e,t){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var l=null,r=null;if(s=s.firstBaseUpdate,s!==null){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};r===null?l=r=i:r=r.next=i,s=s.next}while(s!==null);r===null?l=r=t:r=r.next=t}else l=r=t;s={baseState:a.baseState,firstBaseUpdate:l,lastBaseUpdate:r,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Na(e,t,s,a){var l=e.updateQueue;Pt=!1;var r=l.firstBaseUpdate,i=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var c=o,v=c.next;c.next=null,i===null?r=v:i.next=v,i=c;var N=e.alternate;N!==null&&(N=N.updateQueue,o=N.lastBaseUpdate,o!==i&&(o===null?N.firstBaseUpdate=v:o.next=v,N.lastBaseUpdate=c))}if(r!==null){var p=l.baseState;i=0,N=v=c=null,o=r;do{var g=o.lane,S=o.eventTime;if((a&g)===g){N!==null&&(N=N.next={eventTime:S,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var E=e,C=o;switch(g=t,S=s,C.tag){case 1:if(E=C.payload,typeof E=="function"){p=E.call(S,p,g);break e}p=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=C.payload,g=typeof E=="function"?E.call(S,p,g):E,g==null)break e;p=ge({},p,g);break e;case 2:Pt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,g=l.effects,g===null?l.effects=[o]:g.push(o))}else S={eventTime:S,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},N===null?(v=N=S,c=p):N=N.next=S,i|=g;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;g=o,o=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);if(N===null&&(c=p),l.baseState=c,l.firstBaseUpdate=v,l.lastBaseUpdate=N,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else r===null&&(l.shared.lanes=0);rn|=i,e.lanes=i,e.memoizedState=p}}function eo(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],l=a.callback;if(l!==null){if(a.callback=null,a=s,typeof l!="function")throw Error(G(191,l));l.call(a)}}}var Ps={},gt=Vt(Ps),js=Vt(Ps),Ns=Vt(Ps);function en(e){if(e===Ps)throw Error(G(174));return e}function Gr(e,t){switch(oe(Ns,t),oe(js,e),oe(gt,Ps),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pl(t,e)}ue(gt),oe(gt,t)}function Tn(){ue(gt),ue(js),ue(Ns)}function Hc(e){en(Ns.current);var t=en(gt.current),s=Pl(t,e.type);t!==s&&(oe(js,e),oe(gt,s))}function Br(e){js.current===e&&(ue(gt),ue(js))}var pe=Vt(0);function ka(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ul=[];function Ur(){for(var e=0;e<ul.length;e++)ul[e]._workInProgressVersionPrimary=null;ul.length=0}var ea=_t.ReactCurrentDispatcher,dl=_t.ReactCurrentBatchConfig,ln=0,ve=null,ke=null,Se=null,wa=!1,ls=!1,ks=0,Am=0;function Ie(){throw Error(G(321))}function Hr(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!mt(e[s],t[s]))return!1;return!0}function Wr(e,t,s,a,l,r){if(ln=r,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ea.current=e===null||e.memoizedState===null?Bm:Um,e=s(a,l),ls){r=0;do{if(ls=!1,ks=0,25<=r)throw Error(G(301));r+=1,Se=ke=null,t.updateQueue=null,ea.current=Hm,e=s(a,l)}while(ls)}if(ea.current=Sa,t=ke!==null&&ke.next!==null,ln=0,Se=ke=ve=null,wa=!1,t)throw Error(G(300));return e}function Vr(){var e=ks!==0;return ks=0,e}function ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?ve.memoizedState=Se=e:Se=Se.next=e,Se}function nt(){if(ke===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=Se===null?ve.memoizedState:Se.next;if(t!==null)Se=t,ke=e;else{if(e===null)throw Error(G(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Se===null?ve.memoizedState=Se=e:Se=Se.next=e}return Se}function ws(e,t){return typeof t=="function"?t(e):t}function ml(e){var t=nt(),s=t.queue;if(s===null)throw Error(G(311));s.lastRenderedReducer=e;var a=ke,l=a.baseQueue,r=s.pending;if(r!==null){if(l!==null){var i=l.next;l.next=r.next,r.next=i}a.baseQueue=l=r,s.pending=null}if(l!==null){r=l.next,a=a.baseState;var o=i=null,c=null,v=r;do{var N=v.lane;if((ln&N)===N)c!==null&&(c=c.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),a=v.hasEagerState?v.eagerState:e(a,v.action);else{var p={lane:N,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};c===null?(o=c=p,i=a):c=c.next=p,ve.lanes|=N,rn|=N}v=v.next}while(v!==null&&v!==r);c===null?i=a:c.next=o,mt(a,t.memoizedState)||(Oe=!0),t.memoizedState=a,t.baseState=i,t.baseQueue=c,s.lastRenderedState=a}if(e=s.interleaved,e!==null){l=e;do r=l.lane,ve.lanes|=r,rn|=r,l=l.next;while(l!==e)}else l===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function hl(e){var t=nt(),s=t.queue;if(s===null)throw Error(G(311));s.lastRenderedReducer=e;var a=s.dispatch,l=s.pending,r=t.memoizedState;if(l!==null){s.pending=null;var i=l=l.next;do r=e(r,i.action),i=i.next;while(i!==l);mt(r,t.memoizedState)||(Oe=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),s.lastRenderedState=r}return[r,a]}function Wc(){}function Vc(e,t){var s=ve,a=nt(),l=t(),r=!mt(a.memoizedState,l);if(r&&(a.memoizedState=l,Oe=!0),a=a.queue,qr(Kc.bind(null,s,a,e),[e]),a.getSnapshot!==t||r||Se!==null&&Se.memoizedState.tag&1){if(s.flags|=2048,Ss(9,Qc.bind(null,s,a,l,t),void 0,null),Ce===null)throw Error(G(349));ln&30||qc(s,t,l)}return l}function qc(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Qc(e,t,s,a){t.value=s,t.getSnapshot=a,Yc(t)&&Zc(e)}function Kc(e,t,s){return s(function(){Yc(t)&&Zc(e)})}function Yc(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!mt(e,s)}catch{return!0}}function Zc(e){var t=bt(e,1);t!==null&&dt(t,e,1,-1)}function to(e){var t=ft();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=Gm.bind(null,ve,e),[t.memoizedState,e]}function Ss(e,t,s,a){return e={tag:e,create:t,destroy:s,deps:a,next:null},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,t.lastEffect=e)),e}function Jc(){return nt().memoizedState}function ta(e,t,s,a){var l=ft();ve.flags|=e,l.memoizedState=Ss(1|t,s,void 0,a===void 0?null:a)}function Fa(e,t,s,a){var l=nt();a=a===void 0?null:a;var r=void 0;if(ke!==null){var i=ke.memoizedState;if(r=i.destroy,a!==null&&Hr(a,i.deps)){l.memoizedState=Ss(t,s,r,a);return}}ve.flags|=e,l.memoizedState=Ss(1|t,s,r,a)}function no(e,t){return ta(8390656,8,e,t)}function qr(e,t){return Fa(2048,8,e,t)}function Xc(e,t){return Fa(4,2,e,t)}function eu(e,t){return Fa(4,4,e,t)}function tu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nu(e,t,s){return s=s!=null?s.concat([e]):null,Fa(4,4,tu.bind(null,t,e),s)}function Qr(){}function su(e,t){var s=nt();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&Hr(t,a[1])?a[0]:(s.memoizedState=[e,t],e)}function au(e,t){var s=nt();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&Hr(t,a[1])?a[0]:(e=e(),s.memoizedState=[e,t],e)}function lu(e,t,s){return ln&21?(mt(s,t)||(s=uc(),ve.lanes|=s,rn|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Oe=!0),e.memoizedState=s)}function zm(e,t){var s=le;le=s!==0&&4>s?s:4,e(!0);var a=dl.transition;dl.transition={};try{e(!1),t()}finally{le=s,dl.transition=a}}function ru(){return nt().memoizedState}function Om(e,t,s){var a=Gt(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},iu(e))ou(t,s);else if(s=Bc(e,t,s,a),s!==null){var l=$e();dt(s,e,a,l),cu(s,t,a)}}function Gm(e,t,s){var a=Gt(e),l={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(iu(e))ou(t,l);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var i=t.lastRenderedState,o=r(i,s);if(l.hasEagerState=!0,l.eagerState=o,mt(o,i)){var c=t.interleaved;c===null?(l.next=l,zr(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}s=Bc(e,t,l,a),s!==null&&(l=$e(),dt(s,e,a,l),cu(s,t,a))}}function iu(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function ou(e,t){ls=wa=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function cu(e,t,s){if(s&4194240){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,br(e,s)}}var Sa={readContext:tt,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},Bm={readContext:tt,useCallback:function(e,t){return ft().memoizedState=[e,t===void 0?null:t],e},useContext:tt,useEffect:no,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,ta(4194308,4,tu.bind(null,t,e),s)},useLayoutEffect:function(e,t){return ta(4194308,4,e,t)},useInsertionEffect:function(e,t){return ta(4,2,e,t)},useMemo:function(e,t){var s=ft();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var a=ft();return t=s!==void 0?s(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Om.bind(null,ve,e),[a.memoizedState,e]},useRef:function(e){var t=ft();return e={current:e},t.memoizedState=e},useState:to,useDebugValue:Qr,useDeferredValue:function(e){return ft().memoizedState=e},useTransition:function(){var e=to(!1),t=e[0];return e=zm.bind(null,e[1]),ft().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var a=ve,l=ft();if(he){if(s===void 0)throw Error(G(407));s=s()}else{if(s=t(),Ce===null)throw Error(G(349));ln&30||qc(a,t,s)}l.memoizedState=s;var r={value:s,getSnapshot:t};return l.queue=r,no(Kc.bind(null,a,r,e),[e]),a.flags|=2048,Ss(9,Qc.bind(null,a,r,s,t),void 0,null),s},useId:function(){var e=ft(),t=Ce.identifierPrefix;if(he){var s=Nt,a=jt;s=(a&~(1<<32-ut(a)-1)).toString(32)+s,t=":"+t+"R"+s,s=ks++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=Am++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Um={readContext:tt,useCallback:su,useContext:tt,useEffect:qr,useImperativeHandle:nu,useInsertionEffect:Xc,useLayoutEffect:eu,useMemo:au,useReducer:ml,useRef:Jc,useState:function(){return ml(ws)},useDebugValue:Qr,useDeferredValue:function(e){var t=nt();return lu(t,ke.memoizedState,e)},useTransition:function(){var e=ml(ws)[0],t=nt().memoizedState;return[e,t]},useMutableSource:Wc,useSyncExternalStore:Vc,useId:ru,unstable_isNewReconciler:!1},Hm={readContext:tt,useCallback:su,useContext:tt,useEffect:qr,useImperativeHandle:nu,useInsertionEffect:Xc,useLayoutEffect:eu,useMemo:au,useReducer:hl,useRef:Jc,useState:function(){return hl(ws)},useDebugValue:Qr,useDeferredValue:function(e){var t=nt();return ke===null?t.memoizedState=e:lu(t,ke.memoizedState,e)},useTransition:function(){var e=hl(ws)[0],t=nt().memoizedState;return[e,t]},useMutableSource:Wc,useSyncExternalStore:Vc,useId:ru,unstable_isNewReconciler:!1};function rt(e,t){if(e&&e.defaultProps){t=ge({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Zl(e,t,s,a){t=e.memoizedState,s=s(a,t),s=s==null?t:ge({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Aa={isMounted:function(e){return(e=e._reactInternals)?un(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var a=$e(),l=Gt(e),r=kt(a,l);r.payload=t,s!=null&&(r.callback=s),t=zt(e,r,l),t!==null&&(dt(t,e,l,a),Xs(t,e,l))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var a=$e(),l=Gt(e),r=kt(a,l);r.tag=1,r.payload=t,s!=null&&(r.callback=s),t=zt(e,r,l),t!==null&&(dt(t,e,l,a),Xs(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=$e(),a=Gt(e),l=kt(s,a);l.tag=2,t!=null&&(l.callback=t),t=zt(e,l,a),t!==null&&(dt(t,e,a,s),Xs(t,e,a))}};function so(e,t,s,a,l,r,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,r,i):t.prototype&&t.prototype.isPureReactComponent?!vs(s,a)||!vs(l,r):!0}function uu(e,t,s){var a=!1,l=Ht,r=t.contextType;return typeof r=="object"&&r!==null?r=tt(r):(l=Be(t)?sn:Le.current,a=t.contextTypes,r=(a=a!=null)?Rn(e,l):Ht),t=new t(s,r),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Aa,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=r),t}function ao(e,t,s,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,a),t.state!==e&&Aa.enqueueReplaceState(t,t.state,null)}function Jl(e,t,s,a){var l=e.stateNode;l.props=s,l.state=e.memoizedState,l.refs={},Or(e);var r=t.contextType;typeof r=="object"&&r!==null?l.context=tt(r):(r=Be(t)?sn:Le.current,l.context=Rn(e,r)),l.state=e.memoizedState,r=t.getDerivedStateFromProps,typeof r=="function"&&(Zl(e,t,r,s),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Aa.enqueueReplaceState(l,l.state,null),Na(e,s,l,a),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function $n(e,t){try{var s="",a=t;do s+=xd(a),a=a.return;while(a);var l=s}catch(r){l=`
Error generating stack: `+r.message+`
`+r.stack}return{value:e,source:t,stack:l,digest:null}}function fl(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Xl(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var Wm=typeof WeakMap=="function"?WeakMap:Map;function du(e,t,s){s=kt(-1,s),s.tag=3,s.payload={element:null};var a=t.value;return s.callback=function(){Ca||(Ca=!0,cr=a),Xl(e,t)},s}function mu(e,t,s){s=kt(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var l=t.value;s.payload=function(){return a(l)},s.callback=function(){Xl(e,t)}}var r=e.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(s.callback=function(){Xl(e,t),typeof a!="function"&&(Ot===null?Ot=new Set([this]):Ot.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),s}function lo(e,t,s){var a=e.pingCache;if(a===null){a=e.pingCache=new Wm;var l=new Set;a.set(t,l)}else l=a.get(t),l===void 0&&(l=new Set,a.set(t,l));l.has(s)||(l.add(s),e=lh.bind(null,e,t,s),t.then(e,e))}function ro(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function io(e,t,s,a,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=kt(-1,1),t.tag=2,zt(s,t,1))),s.lanes|=1),e)}var Vm=_t.ReactCurrentOwner,Oe=!1;function Te(e,t,s,a){t.child=e===null?Gc(t,null,s,a):Ln(t,e.child,s,a)}function oo(e,t,s,a,l){s=s.render;var r=t.ref;return Mn(t,l),a=Wr(e,t,s,a,r,l),s=Vr(),e!==null&&!Oe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ct(e,t,l)):(he&&s&&Dr(t),t.flags|=1,Te(e,t,a,l),t.child)}function co(e,t,s,a,l){if(e===null){var r=s.type;return typeof r=="function"&&!ni(r)&&r.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=r,hu(e,t,r,a,l)):(e=la(s.type,null,a,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!(e.lanes&l)){var i=r.memoizedProps;if(s=s.compare,s=s!==null?s:vs,s(i,a)&&e.ref===t.ref)return Ct(e,t,l)}return t.flags|=1,e=Bt(r,a),e.ref=t.ref,e.return=t,t.child=e}function hu(e,t,s,a,l){if(e!==null){var r=e.memoizedProps;if(vs(r,a)&&e.ref===t.ref)if(Oe=!1,t.pendingProps=a=r,(e.lanes&l)!==0)e.flags&131072&&(Oe=!0);else return t.lanes=e.lanes,Ct(e,t,l)}return er(e,t,s,a,l)}function fu(e,t,s){var a=t.pendingProps,l=a.children,r=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(Sn,He),He|=s;else{if(!(s&1073741824))return e=r!==null?r.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,oe(Sn,He),He|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=r!==null?r.baseLanes:s,oe(Sn,He),He|=a}else r!==null?(a=r.baseLanes|s,t.memoizedState=null):a=s,oe(Sn,He),He|=a;return Te(e,t,l,s),t.child}function pu(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function er(e,t,s,a,l){var r=Be(s)?sn:Le.current;return r=Rn(t,r),Mn(t,l),s=Wr(e,t,s,a,r,l),a=Vr(),e!==null&&!Oe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ct(e,t,l)):(he&&a&&Dr(t),t.flags|=1,Te(e,t,s,l),t.child)}function uo(e,t,s,a,l){if(Be(s)){var r=!0;va(t)}else r=!1;if(Mn(t,l),t.stateNode===null)na(e,t),uu(t,s,a),Jl(t,s,a,l),a=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,v=s.contextType;typeof v=="object"&&v!==null?v=tt(v):(v=Be(s)?sn:Le.current,v=Rn(t,v));var N=s.getDerivedStateFromProps,p=typeof N=="function"||typeof i.getSnapshotBeforeUpdate=="function";p||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==a||c!==v)&&ao(t,i,a,v),Pt=!1;var g=t.memoizedState;i.state=g,Na(t,a,i,l),c=t.memoizedState,o!==a||g!==c||Ge.current||Pt?(typeof N=="function"&&(Zl(t,s,N,a),c=t.memoizedState),(o=Pt||so(t,s,o,a,g,c,v))?(p||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),i.props=a,i.state=c,i.context=v,a=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,Uc(e,t),o=t.memoizedProps,v=t.type===t.elementType?o:rt(t.type,o),i.props=v,p=t.pendingProps,g=i.context,c=s.contextType,typeof c=="object"&&c!==null?c=tt(c):(c=Be(s)?sn:Le.current,c=Rn(t,c));var S=s.getDerivedStateFromProps;(N=typeof S=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==p||g!==c)&&ao(t,i,a,c),Pt=!1,g=t.memoizedState,i.state=g,Na(t,a,i,l);var E=t.memoizedState;o!==p||g!==E||Ge.current||Pt?(typeof S=="function"&&(Zl(t,s,S,a),E=t.memoizedState),(v=Pt||so(t,s,v,a,g,E,c)||!1)?(N||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,E,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,E,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=E),i.props=a,i.state=E,i.context=c,a=v):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),a=!1)}return tr(e,t,s,a,r,l)}function tr(e,t,s,a,l,r){pu(e,t);var i=(t.flags&128)!==0;if(!a&&!i)return l&&Ki(t,s,!1),Ct(e,t,r);a=t.stateNode,Vm.current=t;var o=i&&typeof s.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&i?(t.child=Ln(t,e.child,null,r),t.child=Ln(t,null,o,r)):Te(e,t,o,r),t.memoizedState=a.state,l&&Ki(t,s,!0),t.child}function vu(e){var t=e.stateNode;t.pendingContext?Qi(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qi(e,t.context,!1),Gr(e,t.containerInfo)}function mo(e,t,s,a,l){return Dn(),Tr(l),t.flags|=256,Te(e,t,s,a),t.child}var nr={dehydrated:null,treeContext:null,retryLane:0};function sr(e){return{baseLanes:e,cachePool:null,transitions:null}}function gu(e,t,s){var a=t.pendingProps,l=pe.current,r=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(l&2)!==0),o?(r=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),oe(pe,l&1),e===null)return Kl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=a.children,e=a.fallback,r?(a=t.mode,r=t.child,i={mode:"hidden",children:i},!(a&1)&&r!==null?(r.childLanes=0,r.pendingProps=i):r=Ga(i,a,0,null),e=nn(e,a,s,null),r.return=t,e.return=t,r.sibling=e,t.child=r,t.child.memoizedState=sr(s),t.memoizedState=nr,e):Kr(t,i));if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null))return qm(e,t,i,a,o,l,s);if(r){r=a.fallback,i=t.mode,l=e.child,o=l.sibling;var c={mode:"hidden",children:a.children};return!(i&1)&&t.child!==l?(a=t.child,a.childLanes=0,a.pendingProps=c,t.deletions=null):(a=Bt(l,c),a.subtreeFlags=l.subtreeFlags&14680064),o!==null?r=Bt(o,r):(r=nn(r,i,s,null),r.flags|=2),r.return=t,a.return=t,a.sibling=r,t.child=a,a=r,r=t.child,i=e.child.memoizedState,i=i===null?sr(s):{baseLanes:i.baseLanes|s,cachePool:null,transitions:i.transitions},r.memoizedState=i,r.childLanes=e.childLanes&~s,t.memoizedState=nr,a}return r=e.child,e=r.sibling,a=Bt(r,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=s),a.return=t,a.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=a,t.memoizedState=null,a}function Kr(e,t){return t=Ga({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Hs(e,t,s,a){return a!==null&&Tr(a),Ln(t,e.child,null,s),e=Kr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qm(e,t,s,a,l,r,i){if(s)return t.flags&256?(t.flags&=-257,a=fl(Error(G(422))),Hs(e,t,i,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(r=a.fallback,l=t.mode,a=Ga({mode:"visible",children:a.children},l,0,null),r=nn(r,l,i,null),r.flags|=2,a.return=t,r.return=t,a.sibling=r,t.child=a,t.mode&1&&Ln(t,e.child,null,i),t.child.memoizedState=sr(i),t.memoizedState=nr,r);if(!(t.mode&1))return Hs(e,t,i,null);if(l.data==="$!"){if(a=l.nextSibling&&l.nextSibling.dataset,a)var o=a.dgst;return a=o,r=Error(G(419)),a=fl(r,a,void 0),Hs(e,t,i,a)}if(o=(i&e.childLanes)!==0,Oe||o){if(a=Ce,a!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(a.suspendedLanes|i)?0:l,l!==0&&l!==r.retryLane&&(r.retryLane=l,bt(e,l),dt(a,e,l,-1))}return ti(),a=fl(Error(G(421))),Hs(e,t,i,a)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=rh.bind(null,e),l._reactRetry=t,null):(e=r.treeContext,We=At(l.nextSibling),Ve=t,he=!0,ot=null,e!==null&&(Ze[Je++]=jt,Ze[Je++]=Nt,Ze[Je++]=an,jt=e.id,Nt=e.overflow,an=t),t=Kr(t,a.children),t.flags|=4096,t)}function ho(e,t,s){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Yl(e.return,t,s)}function pl(e,t,s,a,l){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:l}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=s,r.tailMode=l)}function xu(e,t,s){var a=t.pendingProps,l=a.revealOrder,r=a.tail;if(Te(e,t,a.children,s),a=pe.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ho(e,s,t);else if(e.tag===19)ho(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(oe(pe,a),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(s=t.child,l=null;s!==null;)e=s.alternate,e!==null&&ka(e)===null&&(l=s),s=s.sibling;s=l,s===null?(l=t.child,t.child=null):(l=s.sibling,s.sibling=null),pl(t,!1,l,s,r);break;case"backwards":for(s=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&ka(e)===null){t.child=l;break}e=l.sibling,l.sibling=s,s=l,l=e}pl(t,!0,s,null,r);break;case"together":pl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function na(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ct(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),rn|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,s=Bt(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Bt(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Qm(e,t,s){switch(t.tag){case 3:vu(t),Dn();break;case 5:Hc(t);break;case 1:Be(t.type)&&va(t);break;case 4:Gr(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,l=t.memoizedProps.value;oe(ya,a._currentValue),a._currentValue=l;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(oe(pe,pe.current&1),t.flags|=128,null):s&t.child.childLanes?gu(e,t,s):(oe(pe,pe.current&1),e=Ct(e,t,s),e!==null?e.sibling:null);oe(pe,pe.current&1);break;case 19:if(a=(s&t.childLanes)!==0,e.flags&128){if(a)return xu(e,t,s);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),oe(pe,pe.current),a)break;return null;case 22:case 23:return t.lanes=0,fu(e,t,s)}return Ct(e,t,s)}var yu,ar,ju,Nu;yu=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};ar=function(){};ju=function(e,t,s,a){var l=e.memoizedProps;if(l!==a){e=t.stateNode,en(gt.current);var r=null;switch(s){case"input":l=Cl(e,l),a=Cl(e,a),r=[];break;case"select":l=ge({},l,{value:void 0}),a=ge({},a,{value:void 0}),r=[];break;case"textarea":l=Ml(e,l),a=Ml(e,a),r=[];break;default:typeof l.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=fa)}Il(s,a);var i;s=null;for(v in l)if(!a.hasOwnProperty(v)&&l.hasOwnProperty(v)&&l[v]!=null)if(v==="style"){var o=l[v];for(i in o)o.hasOwnProperty(i)&&(s||(s={}),s[i]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(cs.hasOwnProperty(v)?r||(r=[]):(r=r||[]).push(v,null));for(v in a){var c=a[v];if(o=l!=null?l[v]:void 0,a.hasOwnProperty(v)&&c!==o&&(c!=null||o!=null))if(v==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(s||(s={}),s[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(s||(s={}),s[i]=c[i])}else s||(r||(r=[]),r.push(v,s)),s=c;else v==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(r=r||[]).push(v,c)):v==="children"?typeof c!="string"&&typeof c!="number"||(r=r||[]).push(v,""+c):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(cs.hasOwnProperty(v)?(c!=null&&v==="onScroll"&&ce("scroll",e),r||o===c||(r=[])):(r=r||[]).push(v,c))}s&&(r=r||[]).push("style",s);var v=r;(t.updateQueue=v)&&(t.flags|=4)}};Nu=function(e,t,s,a){s!==a&&(t.flags|=4)};function Qn(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Re(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(t)for(var l=e.child;l!==null;)s|=l.lanes|l.childLanes,a|=l.subtreeFlags&14680064,a|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)s|=l.lanes|l.childLanes,a|=l.subtreeFlags,a|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=a,e.childLanes=s,t}function Km(e,t,s){var a=t.pendingProps;switch(Lr(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(t),null;case 1:return Be(t.type)&&pa(),Re(t),null;case 3:return a=t.stateNode,Tn(),ue(Ge),ue(Le),Ur(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Bs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ot!==null&&(mr(ot),ot=null))),ar(e,t),Re(t),null;case 5:Br(t);var l=en(Ns.current);if(s=t.type,e!==null&&t.stateNode!=null)ju(e,t,s,a,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(G(166));return Re(t),null}if(e=en(gt.current),Bs(t)){a=t.stateNode,s=t.type;var r=t.memoizedProps;switch(a[pt]=t,a[ys]=r,e=(t.mode&1)!==0,s){case"dialog":ce("cancel",a),ce("close",a);break;case"iframe":case"object":case"embed":ce("load",a);break;case"video":case"audio":for(l=0;l<Xn.length;l++)ce(Xn[l],a);break;case"source":ce("error",a);break;case"img":case"image":case"link":ce("error",a),ce("load",a);break;case"details":ce("toggle",a);break;case"input":Ni(a,r),ce("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!r.multiple},ce("invalid",a);break;case"textarea":wi(a,r),ce("invalid",a)}Il(s,r),l=null;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];i==="children"?typeof o=="string"?a.textContent!==o&&(r.suppressHydrationWarning!==!0&&Gs(a.textContent,o,e),l=["children",o]):typeof o=="number"&&a.textContent!==""+o&&(r.suppressHydrationWarning!==!0&&Gs(a.textContent,o,e),l=["children",""+o]):cs.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&ce("scroll",a)}switch(s){case"input":Ds(a),ki(a,r,!0);break;case"textarea":Ds(a),Si(a);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(a.onclick=fa)}a=l,t.updateQueue=a,a!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ko(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=i.createElement(s,{is:a.is}):(e=i.createElement(s),s==="select"&&(i=e,a.multiple?i.multiple=!0:a.size&&(i.size=a.size))):e=i.createElementNS(e,s),e[pt]=t,e[ys]=a,yu(e,t,!1,!1),t.stateNode=e;e:{switch(i=Rl(s,a),s){case"dialog":ce("cancel",e),ce("close",e),l=a;break;case"iframe":case"object":case"embed":ce("load",e),l=a;break;case"video":case"audio":for(l=0;l<Xn.length;l++)ce(Xn[l],e);l=a;break;case"source":ce("error",e),l=a;break;case"img":case"image":case"link":ce("error",e),ce("load",e),l=a;break;case"details":ce("toggle",e),l=a;break;case"input":Ni(e,a),l=Cl(e,a),ce("invalid",e);break;case"option":l=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},l=ge({},a,{value:void 0}),ce("invalid",e);break;case"textarea":wi(e,a),l=Ml(e,a),ce("invalid",e);break;default:l=a}Il(s,l),o=l;for(r in o)if(o.hasOwnProperty(r)){var c=o[r];r==="style"?Jo(e,c):r==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Yo(e,c)):r==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&us(e,c):typeof c=="number"&&us(e,""+c):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(cs.hasOwnProperty(r)?c!=null&&r==="onScroll"&&ce("scroll",e):c!=null&&yr(e,r,c,i))}switch(s){case"input":Ds(e),ki(e,a,!1);break;case"textarea":Ds(e),Si(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Ut(a.value));break;case"select":e.multiple=!!a.multiple,r=a.value,r!=null?bn(e,!!a.multiple,r,!1):a.defaultValue!=null&&bn(e,!!a.multiple,a.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=fa)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Re(t),null;case 6:if(e&&t.stateNode!=null)Nu(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(G(166));if(s=en(Ns.current),en(gt.current),Bs(t)){if(a=t.stateNode,s=t.memoizedProps,a[pt]=t,(r=a.nodeValue!==s)&&(e=Ve,e!==null))switch(e.tag){case 3:Gs(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gs(a.nodeValue,s,(e.mode&1)!==0)}r&&(t.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[pt]=t,t.stateNode=a}return Re(t),null;case 13:if(ue(pe),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&We!==null&&t.mode&1&&!(t.flags&128))zc(),Dn(),t.flags|=98560,r=!1;else if(r=Bs(t),a!==null&&a.dehydrated!==null){if(e===null){if(!r)throw Error(G(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(G(317));r[pt]=t}else Dn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Re(t),r=!1}else ot!==null&&(mr(ot),ot=null),r=!0;if(!r)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||pe.current&1?we===0&&(we=3):ti())),t.updateQueue!==null&&(t.flags|=4),Re(t),null);case 4:return Tn(),ar(e,t),e===null&&gs(t.stateNode.containerInfo),Re(t),null;case 10:return Ar(t.type._context),Re(t),null;case 17:return Be(t.type)&&pa(),Re(t),null;case 19:if(ue(pe),r=t.memoizedState,r===null)return Re(t),null;if(a=(t.flags&128)!==0,i=r.rendering,i===null)if(a)Qn(r,!1);else{if(we!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=ka(e),i!==null){for(t.flags|=128,Qn(r,!1),a=i.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=s,s=t.child;s!==null;)r=s,e=a,r.flags&=14680066,i=r.alternate,i===null?(r.childLanes=0,r.lanes=e,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=i.childLanes,r.lanes=i.lanes,r.child=i.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=i.memoizedProps,r.memoizedState=i.memoizedState,r.updateQueue=i.updateQueue,r.type=i.type,e=i.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return oe(pe,pe.current&1|2),t.child}e=e.sibling}r.tail!==null&&je()>Fn&&(t.flags|=128,a=!0,Qn(r,!1),t.lanes=4194304)}else{if(!a)if(e=ka(i),e!==null){if(t.flags|=128,a=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Qn(r,!0),r.tail===null&&r.tailMode==="hidden"&&!i.alternate&&!he)return Re(t),null}else 2*je()-r.renderingStartTime>Fn&&s!==1073741824&&(t.flags|=128,a=!0,Qn(r,!1),t.lanes=4194304);r.isBackwards?(i.sibling=t.child,t.child=i):(s=r.last,s!==null?s.sibling=i:t.child=i,r.last=i)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=je(),t.sibling=null,s=pe.current,oe(pe,a?s&1|2:s&1),t):(Re(t),null);case 22:case 23:return ei(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?He&1073741824&&(Re(t),t.subtreeFlags&6&&(t.flags|=8192)):Re(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function Ym(e,t){switch(Lr(t),t.tag){case 1:return Be(t.type)&&pa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tn(),ue(Ge),ue(Le),Ur(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Br(t),null;case 13:if(ue(pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));Dn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(pe),null;case 4:return Tn(),null;case 10:return Ar(t.type._context),null;case 22:case 23:return ei(),null;case 24:return null;default:return null}}var Ws=!1,De=!1,Zm=typeof WeakSet=="function"?WeakSet:Set,V=null;function wn(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){xe(e,t,a)}else s.current=null}function lr(e,t,s){try{s()}catch(a){xe(e,t,a)}}var fo=!1;function Jm(e,t){if(Bl=da,e=Cc(),Rr(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var l=a.anchorOffset,r=a.focusNode;a=a.focusOffset;try{s.nodeType,r.nodeType}catch{s=null;break e}var i=0,o=-1,c=-1,v=0,N=0,p=e,g=null;t:for(;;){for(var S;p!==s||l!==0&&p.nodeType!==3||(o=i+l),p!==r||a!==0&&p.nodeType!==3||(c=i+a),p.nodeType===3&&(i+=p.nodeValue.length),(S=p.firstChild)!==null;)g=p,p=S;for(;;){if(p===e)break t;if(g===s&&++v===l&&(o=i),g===r&&++N===a&&(c=i),(S=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=S}s=o===-1||c===-1?null:{start:o,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ul={focusedElem:e,selectionRange:s},da=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var E=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var C=E.memoizedProps,I=E.memoizedState,f=t.stateNode,u=f.getSnapshotBeforeUpdate(t.elementType===t.type?C:rt(t.type,C),I);f.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(j){xe(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return E=fo,fo=!1,E}function rs(e,t,s){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var l=a=a.next;do{if((l.tag&e)===e){var r=l.destroy;l.destroy=void 0,r!==void 0&&lr(t,s,r)}l=l.next}while(l!==a)}}function za(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==t)}}function rr(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function ku(e){var t=e.alternate;t!==null&&(e.alternate=null,ku(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[pt],delete t[ys],delete t[Vl],delete t[Lm],delete t[Tm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wu(e){return e.tag===5||e.tag===3||e.tag===4}function po(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ir(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=fa));else if(a!==4&&(e=e.child,e!==null))for(ir(e,t,s),e=e.sibling;e!==null;)ir(e,t,s),e=e.sibling}function or(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(or(e,t,s),e=e.sibling;e!==null;)or(e,t,s),e=e.sibling}var _e=null,it=!1;function Et(e,t,s){for(s=s.child;s!==null;)Su(e,t,s),s=s.sibling}function Su(e,t,s){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(Ia,s)}catch{}switch(s.tag){case 5:De||wn(s,t);case 6:var a=_e,l=it;_e=null,Et(e,t,s),_e=a,it=l,_e!==null&&(it?(e=_e,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):_e.removeChild(s.stateNode));break;case 18:_e!==null&&(it?(e=_e,s=s.stateNode,e.nodeType===8?ol(e.parentNode,s):e.nodeType===1&&ol(e,s),fs(e)):ol(_e,s.stateNode));break;case 4:a=_e,l=it,_e=s.stateNode.containerInfo,it=!0,Et(e,t,s),_e=a,it=l;break;case 0:case 11:case 14:case 15:if(!De&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){l=a=a.next;do{var r=l,i=r.destroy;r=r.tag,i!==void 0&&(r&2||r&4)&&lr(s,t,i),l=l.next}while(l!==a)}Et(e,t,s);break;case 1:if(!De&&(wn(s,t),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(o){xe(s,t,o)}Et(e,t,s);break;case 21:Et(e,t,s);break;case 22:s.mode&1?(De=(a=De)||s.memoizedState!==null,Et(e,t,s),De=a):Et(e,t,s);break;default:Et(e,t,s)}}function vo(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Zm),t.forEach(function(a){var l=ih.bind(null,e,a);s.has(a)||(s.add(a),a.then(l,l))})}}function lt(e,t){var s=t.deletions;if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];try{var r=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:_e=o.stateNode,it=!1;break e;case 3:_e=o.stateNode.containerInfo,it=!0;break e;case 4:_e=o.stateNode.containerInfo,it=!0;break e}o=o.return}if(_e===null)throw Error(G(160));Su(r,i,l),_e=null,it=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(v){xe(l,t,v)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bu(t,e),t=t.sibling}function bu(e,t){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(lt(t,e),ht(e),a&4){try{rs(3,e,e.return),za(3,e)}catch(C){xe(e,e.return,C)}try{rs(5,e,e.return)}catch(C){xe(e,e.return,C)}}break;case 1:lt(t,e),ht(e),a&512&&s!==null&&wn(s,s.return);break;case 5:if(lt(t,e),ht(e),a&512&&s!==null&&wn(s,s.return),e.flags&32){var l=e.stateNode;try{us(l,"")}catch(C){xe(e,e.return,C)}}if(a&4&&(l=e.stateNode,l!=null)){var r=e.memoizedProps,i=s!==null?s.memoizedProps:r,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&r.type==="radio"&&r.name!=null&&qo(l,r),Rl(o,i);var v=Rl(o,r);for(i=0;i<c.length;i+=2){var N=c[i],p=c[i+1];N==="style"?Jo(l,p):N==="dangerouslySetInnerHTML"?Yo(l,p):N==="children"?us(l,p):yr(l,N,p,v)}switch(o){case"input":_l(l,r);break;case"textarea":Qo(l,r);break;case"select":var g=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!r.multiple;var S=r.value;S!=null?bn(l,!!r.multiple,S,!1):g!==!!r.multiple&&(r.defaultValue!=null?bn(l,!!r.multiple,r.defaultValue,!0):bn(l,!!r.multiple,r.multiple?[]:"",!1))}l[ys]=r}catch(C){xe(e,e.return,C)}}break;case 6:if(lt(t,e),ht(e),a&4){if(e.stateNode===null)throw Error(G(162));l=e.stateNode,r=e.memoizedProps;try{l.nodeValue=r}catch(C){xe(e,e.return,C)}}break;case 3:if(lt(t,e),ht(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{fs(t.containerInfo)}catch(C){xe(e,e.return,C)}break;case 4:lt(t,e),ht(e);break;case 13:lt(t,e),ht(e),l=e.child,l.flags&8192&&(r=l.memoizedState!==null,l.stateNode.isHidden=r,!r||l.alternate!==null&&l.alternate.memoizedState!==null||(Jr=je())),a&4&&vo(e);break;case 22:if(N=s!==null&&s.memoizedState!==null,e.mode&1?(De=(v=De)||N,lt(t,e),De=v):lt(t,e),ht(e),a&8192){if(v=e.memoizedState!==null,(e.stateNode.isHidden=v)&&!N&&e.mode&1)for(V=e,N=e.child;N!==null;){for(p=V=N;V!==null;){switch(g=V,S=g.child,g.tag){case 0:case 11:case 14:case 15:rs(4,g,g.return);break;case 1:wn(g,g.return);var E=g.stateNode;if(typeof E.componentWillUnmount=="function"){a=g,s=g.return;try{t=a,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(C){xe(a,s,C)}}break;case 5:wn(g,g.return);break;case 22:if(g.memoizedState!==null){xo(p);continue}}S!==null?(S.return=g,V=S):xo(p)}N=N.sibling}e:for(N=null,p=e;;){if(p.tag===5){if(N===null){N=p;try{l=p.stateNode,v?(r=l.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(o=p.stateNode,c=p.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Zo("display",i))}catch(C){xe(e,e.return,C)}}}else if(p.tag===6){if(N===null)try{p.stateNode.nodeValue=v?"":p.memoizedProps}catch(C){xe(e,e.return,C)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;N===p&&(N=null),p=p.return}N===p&&(N=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:lt(t,e),ht(e),a&4&&vo(e);break;case 21:break;default:lt(t,e),ht(e)}}function ht(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(wu(s)){var a=s;break e}s=s.return}throw Error(G(160))}switch(a.tag){case 5:var l=a.stateNode;a.flags&32&&(us(l,""),a.flags&=-33);var r=po(e);or(e,r,l);break;case 3:case 4:var i=a.stateNode.containerInfo,o=po(e);ir(e,o,i);break;default:throw Error(G(161))}}catch(c){xe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xm(e,t,s){V=e,Cu(e)}function Cu(e,t,s){for(var a=(e.mode&1)!==0;V!==null;){var l=V,r=l.child;if(l.tag===22&&a){var i=l.memoizedState!==null||Ws;if(!i){var o=l.alternate,c=o!==null&&o.memoizedState!==null||De;o=Ws;var v=De;if(Ws=i,(De=c)&&!v)for(V=l;V!==null;)i=V,c=i.child,i.tag===22&&i.memoizedState!==null?yo(l):c!==null?(c.return=i,V=c):yo(l);for(;r!==null;)V=r,Cu(r),r=r.sibling;V=l,Ws=o,De=v}go(e)}else l.subtreeFlags&8772&&r!==null?(r.return=l,V=r):go(e)}}function go(e){for(;V!==null;){var t=V;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:De||za(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!De)if(s===null)a.componentDidMount();else{var l=t.elementType===t.type?s.memoizedProps:rt(t.type,s.memoizedProps);a.componentDidUpdate(l,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;r!==null&&eo(t,r,a);break;case 3:var i=t.updateQueue;if(i!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}eo(t,i,s)}break;case 5:var o=t.stateNode;if(s===null&&t.flags&4){s=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var v=t.alternate;if(v!==null){var N=v.memoizedState;if(N!==null){var p=N.dehydrated;p!==null&&fs(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}De||t.flags&512&&rr(t)}catch(g){xe(t,t.return,g)}}if(t===e){V=null;break}if(s=t.sibling,s!==null){s.return=t.return,V=s;break}V=t.return}}function xo(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var s=t.sibling;if(s!==null){s.return=t.return,V=s;break}V=t.return}}function yo(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{za(4,t)}catch(c){xe(t,s,c)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var l=t.return;try{a.componentDidMount()}catch(c){xe(t,l,c)}}var r=t.return;try{rr(t)}catch(c){xe(t,r,c)}break;case 5:var i=t.return;try{rr(t)}catch(c){xe(t,i,c)}}}catch(c){xe(t,t.return,c)}if(t===e){V=null;break}var o=t.sibling;if(o!==null){o.return=t.return,V=o;break}V=t.return}}var eh=Math.ceil,ba=_t.ReactCurrentDispatcher,Yr=_t.ReactCurrentOwner,et=_t.ReactCurrentBatchConfig,te=0,Ce=null,Ne=null,Ee=0,He=0,Sn=Vt(0),we=0,bs=null,rn=0,Oa=0,Zr=0,is=null,ze=null,Jr=0,Fn=1/0,xt=null,Ca=!1,cr=null,Ot=null,Vs=!1,Lt=null,_a=0,os=0,ur=null,sa=-1,aa=0;function $e(){return te&6?je():sa!==-1?sa:sa=je()}function Gt(e){return e.mode&1?te&2&&Ee!==0?Ee&-Ee:Fm.transition!==null?(aa===0&&(aa=uc()),aa):(e=le,e!==0||(e=window.event,e=e===void 0?16:gc(e.type)),e):1}function dt(e,t,s,a){if(50<os)throw os=0,ur=null,Error(G(185));_s(e,s,a),(!(te&2)||e!==Ce)&&(e===Ce&&(!(te&2)&&(Oa|=s),we===4&&Rt(e,Ee)),Ue(e,a),s===1&&te===0&&!(t.mode&1)&&(Fn=je()+500,$a&&qt()))}function Ue(e,t){var s=e.callbackNode;Fd(e,t);var a=ua(e,e===Ce?Ee:0);if(a===0)s!==null&&_i(s),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(s!=null&&_i(s),t===1)e.tag===0?$m(jo.bind(null,e)):$c(jo.bind(null,e)),Rm(function(){!(te&6)&&qt()}),s=null;else{switch(dc(a)){case 1:s=Sr;break;case 4:s=oc;break;case 16:s=ca;break;case 536870912:s=cc;break;default:s=ca}s=Lu(s,_u.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function _u(e,t){if(sa=-1,aa=0,te&6)throw Error(G(327));var s=e.callbackNode;if(Pn()&&e.callbackNode!==s)return null;var a=ua(e,e===Ce?Ee:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=Ea(e,a);else{t=a;var l=te;te|=2;var r=Mu();(Ce!==e||Ee!==t)&&(xt=null,Fn=je()+500,tn(e,t));do try{sh();break}catch(o){Eu(e,o)}while(!0);Fr(),ba.current=r,te=l,Ne!==null?t=0:(Ce=null,Ee=0,t=we)}if(t!==0){if(t===2&&(l=Fl(e),l!==0&&(a=l,t=dr(e,l))),t===1)throw s=bs,tn(e,0),Rt(e,a),Ue(e,je()),s;if(t===6)Rt(e,a);else{if(l=e.current.alternate,!(a&30)&&!th(l)&&(t=Ea(e,a),t===2&&(r=Fl(e),r!==0&&(a=r,t=dr(e,r))),t===1))throw s=bs,tn(e,0),Rt(e,a),Ue(e,je()),s;switch(e.finishedWork=l,e.finishedLanes=a,t){case 0:case 1:throw Error(G(345));case 2:Zt(e,ze,xt);break;case 3:if(Rt(e,a),(a&130023424)===a&&(t=Jr+500-je(),10<t)){if(ua(e,0)!==0)break;if(l=e.suspendedLanes,(l&a)!==a){$e(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Wl(Zt.bind(null,e,ze,xt),t);break}Zt(e,ze,xt);break;case 4:if(Rt(e,a),(a&4194240)===a)break;for(t=e.eventTimes,l=-1;0<a;){var i=31-ut(a);r=1<<i,i=t[i],i>l&&(l=i),a&=~r}if(a=l,a=je()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*eh(a/1960))-a,10<a){e.timeoutHandle=Wl(Zt.bind(null,e,ze,xt),a);break}Zt(e,ze,xt);break;case 5:Zt(e,ze,xt);break;default:throw Error(G(329))}}}return Ue(e,je()),e.callbackNode===s?_u.bind(null,e):null}function dr(e,t){var s=is;return e.current.memoizedState.isDehydrated&&(tn(e,t).flags|=256),e=Ea(e,t),e!==2&&(t=ze,ze=s,t!==null&&mr(t)),e}function mr(e){ze===null?ze=e:ze.push.apply(ze,e)}function th(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var l=s[a],r=l.getSnapshot;l=l.value;try{if(!mt(r(),l))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rt(e,t){for(t&=~Zr,t&=~Oa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-ut(t),a=1<<s;e[s]=-1,t&=~a}}function jo(e){if(te&6)throw Error(G(327));Pn();var t=ua(e,0);if(!(t&1))return Ue(e,je()),null;var s=Ea(e,t);if(e.tag!==0&&s===2){var a=Fl(e);a!==0&&(t=a,s=dr(e,a))}if(s===1)throw s=bs,tn(e,0),Rt(e,t),Ue(e,je()),s;if(s===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zt(e,ze,xt),Ue(e,je()),null}function Xr(e,t){var s=te;te|=1;try{return e(t)}finally{te=s,te===0&&(Fn=je()+500,$a&&qt())}}function on(e){Lt!==null&&Lt.tag===0&&!(te&6)&&Pn();var t=te;te|=1;var s=et.transition,a=le;try{if(et.transition=null,le=1,e)return e()}finally{le=a,et.transition=s,te=t,!(te&6)&&qt()}}function ei(){He=Sn.current,ue(Sn)}function tn(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Im(s)),Ne!==null)for(s=Ne.return;s!==null;){var a=s;switch(Lr(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&pa();break;case 3:Tn(),ue(Ge),ue(Le),Ur();break;case 5:Br(a);break;case 4:Tn();break;case 13:ue(pe);break;case 19:ue(pe);break;case 10:Ar(a.type._context);break;case 22:case 23:ei()}s=s.return}if(Ce=e,Ne=e=Bt(e.current,null),Ee=He=t,we=0,bs=null,Zr=Oa=rn=0,ze=is=null,Xt!==null){for(t=0;t<Xt.length;t++)if(s=Xt[t],a=s.interleaved,a!==null){s.interleaved=null;var l=a.next,r=s.pending;if(r!==null){var i=r.next;r.next=l,a.next=i}s.pending=a}Xt=null}return e}function Eu(e,t){do{var s=Ne;try{if(Fr(),ea.current=Sa,wa){for(var a=ve.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}wa=!1}if(ln=0,Se=ke=ve=null,ls=!1,ks=0,Yr.current=null,s===null||s.return===null){we=1,bs=t,Ne=null;break}e:{var r=e,i=s.return,o=s,c=t;if(t=Ee,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var v=c,N=o,p=N.tag;if(!(N.mode&1)&&(p===0||p===11||p===15)){var g=N.alternate;g?(N.updateQueue=g.updateQueue,N.memoizedState=g.memoizedState,N.lanes=g.lanes):(N.updateQueue=null,N.memoizedState=null)}var S=ro(i);if(S!==null){S.flags&=-257,io(S,i,o,r,t),S.mode&1&&lo(r,v,t),t=S,c=v;var E=t.updateQueue;if(E===null){var C=new Set;C.add(c),t.updateQueue=C}else E.add(c);break e}else{if(!(t&1)){lo(r,v,t),ti();break e}c=Error(G(426))}}else if(he&&o.mode&1){var I=ro(i);if(I!==null){!(I.flags&65536)&&(I.flags|=256),io(I,i,o,r,t),Tr($n(c,o));break e}}r=c=$n(c,o),we!==4&&(we=2),is===null?is=[r]:is.push(r),r=i;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t;var f=du(r,c,t);Xi(r,f);break e;case 1:o=c;var u=r.type,h=r.stateNode;if(!(r.flags&128)&&(typeof u.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ot===null||!Ot.has(h)))){r.flags|=65536,t&=-t,r.lanes|=t;var j=mu(r,o,t);Xi(r,j);break e}}r=r.return}while(r!==null)}Iu(s)}catch(k){t=k,Ne===s&&s!==null&&(Ne=s=s.return);continue}break}while(!0)}function Mu(){var e=ba.current;return ba.current=Sa,e===null?Sa:e}function ti(){(we===0||we===3||we===2)&&(we=4),Ce===null||!(rn&268435455)&&!(Oa&268435455)||Rt(Ce,Ee)}function Ea(e,t){var s=te;te|=2;var a=Mu();(Ce!==e||Ee!==t)&&(xt=null,tn(e,t));do try{nh();break}catch(l){Eu(e,l)}while(!0);if(Fr(),te=s,ba.current=a,Ne!==null)throw Error(G(261));return Ce=null,Ee=0,we}function nh(){for(;Ne!==null;)Pu(Ne)}function sh(){for(;Ne!==null&&!Ed();)Pu(Ne)}function Pu(e){var t=Du(e.alternate,e,He);e.memoizedProps=e.pendingProps,t===null?Iu(e):Ne=t,Yr.current=null}function Iu(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=Ym(s,t),s!==null){s.flags&=32767,Ne=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{we=6,Ne=null;return}}else if(s=Km(s,t,He),s!==null){Ne=s;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);we===0&&(we=5)}function Zt(e,t,s){var a=le,l=et.transition;try{et.transition=null,le=1,ah(e,t,s,a)}finally{et.transition=l,le=a}return null}function ah(e,t,s,a){do Pn();while(Lt!==null);if(te&6)throw Error(G(327));s=e.finishedWork;var l=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var r=s.lanes|s.childLanes;if(Ad(e,r),e===Ce&&(Ne=Ce=null,Ee=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Vs||(Vs=!0,Lu(ca,function(){return Pn(),null})),r=(s.flags&15990)!==0,s.subtreeFlags&15990||r){r=et.transition,et.transition=null;var i=le;le=1;var o=te;te|=4,Yr.current=null,Jm(e,s),bu(s,e),Sm(Ul),da=!!Bl,Ul=Bl=null,e.current=s,Xm(s),Md(),te=o,le=i,et.transition=r}else e.current=s;if(Vs&&(Vs=!1,Lt=e,_a=l),r=e.pendingLanes,r===0&&(Ot=null),Rd(s.stateNode),Ue(e,je()),t!==null)for(a=e.onRecoverableError,s=0;s<t.length;s++)l=t[s],a(l.value,{componentStack:l.stack,digest:l.digest});if(Ca)throw Ca=!1,e=cr,cr=null,e;return _a&1&&e.tag!==0&&Pn(),r=e.pendingLanes,r&1?e===ur?os++:(os=0,ur=e):os=0,qt(),null}function Pn(){if(Lt!==null){var e=dc(_a),t=et.transition,s=le;try{if(et.transition=null,le=16>e?16:e,Lt===null)var a=!1;else{if(e=Lt,Lt=null,_a=0,te&6)throw Error(G(331));var l=te;for(te|=4,V=e.current;V!==null;){var r=V,i=r.child;if(V.flags&16){var o=r.deletions;if(o!==null){for(var c=0;c<o.length;c++){var v=o[c];for(V=v;V!==null;){var N=V;switch(N.tag){case 0:case 11:case 15:rs(8,N,r)}var p=N.child;if(p!==null)p.return=N,V=p;else for(;V!==null;){N=V;var g=N.sibling,S=N.return;if(ku(N),N===v){V=null;break}if(g!==null){g.return=S,V=g;break}V=S}}}var E=r.alternate;if(E!==null){var C=E.child;if(C!==null){E.child=null;do{var I=C.sibling;C.sibling=null,C=I}while(C!==null)}}V=r}}if(r.subtreeFlags&2064&&i!==null)i.return=r,V=i;else e:for(;V!==null;){if(r=V,r.flags&2048)switch(r.tag){case 0:case 11:case 15:rs(9,r,r.return)}var f=r.sibling;if(f!==null){f.return=r.return,V=f;break e}V=r.return}}var u=e.current;for(V=u;V!==null;){i=V;var h=i.child;if(i.subtreeFlags&2064&&h!==null)h.return=i,V=h;else e:for(i=u;V!==null;){if(o=V,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:za(9,o)}}catch(k){xe(o,o.return,k)}if(o===i){V=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,V=j;break e}V=o.return}}if(te=l,qt(),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(Ia,e)}catch{}a=!0}return a}finally{le=s,et.transition=t}}return!1}function No(e,t,s){t=$n(s,t),t=du(e,t,1),e=zt(e,t,1),t=$e(),e!==null&&(_s(e,1,t),Ue(e,t))}function xe(e,t,s){if(e.tag===3)No(e,e,s);else for(;t!==null;){if(t.tag===3){No(t,e,s);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ot===null||!Ot.has(a))){e=$n(s,e),e=mu(t,e,1),t=zt(t,e,1),e=$e(),t!==null&&(_s(t,1,e),Ue(t,e));break}}t=t.return}}function lh(e,t,s){var a=e.pingCache;a!==null&&a.delete(t),t=$e(),e.pingedLanes|=e.suspendedLanes&s,Ce===e&&(Ee&s)===s&&(we===4||we===3&&(Ee&130023424)===Ee&&500>je()-Jr?tn(e,0):Zr|=s),Ue(e,t)}function Ru(e,t){t===0&&(e.mode&1?(t=$s,$s<<=1,!($s&130023424)&&($s=4194304)):t=1);var s=$e();e=bt(e,t),e!==null&&(_s(e,t,s),Ue(e,s))}function rh(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Ru(e,s)}function ih(e,t){var s=0;switch(e.tag){case 13:var a=e.stateNode,l=e.memoizedState;l!==null&&(s=l.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(G(314))}a!==null&&a.delete(t),Ru(e,s)}var Du;Du=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ge.current)Oe=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return Oe=!1,Qm(e,t,s);Oe=!!(e.flags&131072)}else Oe=!1,he&&t.flags&1048576&&Fc(t,xa,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;na(e,t),e=t.pendingProps;var l=Rn(t,Le.current);Mn(t,s),l=Wr(null,t,a,e,l,s);var r=Vr();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Be(a)?(r=!0,va(t)):r=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Or(t),l.updater=Aa,t.stateNode=l,l._reactInternals=t,Jl(t,a,e,s),t=tr(null,t,a,!0,r,s)):(t.tag=0,he&&r&&Dr(t),Te(null,t,l,s),t=t.child),t;case 16:a=t.elementType;e:{switch(na(e,t),e=t.pendingProps,l=a._init,a=l(a._payload),t.type=a,l=t.tag=ch(a),e=rt(a,e),l){case 0:t=er(null,t,a,e,s);break e;case 1:t=uo(null,t,a,e,s);break e;case 11:t=oo(null,t,a,e,s);break e;case 14:t=co(null,t,a,rt(a.type,e),s);break e}throw Error(G(306,a,""))}return t;case 0:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:rt(a,l),er(e,t,a,l,s);case 1:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:rt(a,l),uo(e,t,a,l,s);case 3:e:{if(vu(t),e===null)throw Error(G(387));a=t.pendingProps,r=t.memoizedState,l=r.element,Uc(e,t),Na(t,a,null,s);var i=t.memoizedState;if(a=i.element,r.isDehydrated)if(r={element:a,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){l=$n(Error(G(423)),t),t=mo(e,t,a,s,l);break e}else if(a!==l){l=$n(Error(G(424)),t),t=mo(e,t,a,s,l);break e}else for(We=At(t.stateNode.containerInfo.firstChild),Ve=t,he=!0,ot=null,s=Gc(t,null,a,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Dn(),a===l){t=Ct(e,t,s);break e}Te(e,t,a,s)}t=t.child}return t;case 5:return Hc(t),e===null&&Kl(t),a=t.type,l=t.pendingProps,r=e!==null?e.memoizedProps:null,i=l.children,Hl(a,l)?i=null:r!==null&&Hl(a,r)&&(t.flags|=32),pu(e,t),Te(e,t,i,s),t.child;case 6:return e===null&&Kl(t),null;case 13:return gu(e,t,s);case 4:return Gr(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ln(t,null,a,s):Te(e,t,a,s),t.child;case 11:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:rt(a,l),oo(e,t,a,l,s);case 7:return Te(e,t,t.pendingProps,s),t.child;case 8:return Te(e,t,t.pendingProps.children,s),t.child;case 12:return Te(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(a=t.type._context,l=t.pendingProps,r=t.memoizedProps,i=l.value,oe(ya,a._currentValue),a._currentValue=i,r!==null)if(mt(r.value,i)){if(r.children===l.children&&!Ge.current){t=Ct(e,t,s);break e}}else for(r=t.child,r!==null&&(r.return=t);r!==null;){var o=r.dependencies;if(o!==null){i=r.child;for(var c=o.firstContext;c!==null;){if(c.context===a){if(r.tag===1){c=kt(-1,s&-s),c.tag=2;var v=r.updateQueue;if(v!==null){v=v.shared;var N=v.pending;N===null?c.next=c:(c.next=N.next,N.next=c),v.pending=c}}r.lanes|=s,c=r.alternate,c!==null&&(c.lanes|=s),Yl(r.return,s,t),o.lanes|=s;break}c=c.next}}else if(r.tag===10)i=r.type===t.type?null:r.child;else if(r.tag===18){if(i=r.return,i===null)throw Error(G(341));i.lanes|=s,o=i.alternate,o!==null&&(o.lanes|=s),Yl(i,s,t),i=r.sibling}else i=r.child;if(i!==null)i.return=r;else for(i=r;i!==null;){if(i===t){i=null;break}if(r=i.sibling,r!==null){r.return=i.return,i=r;break}i=i.return}r=i}Te(e,t,l.children,s),t=t.child}return t;case 9:return l=t.type,a=t.pendingProps.children,Mn(t,s),l=tt(l),a=a(l),t.flags|=1,Te(e,t,a,s),t.child;case 14:return a=t.type,l=rt(a,t.pendingProps),l=rt(a.type,l),co(e,t,a,l,s);case 15:return hu(e,t,t.type,t.pendingProps,s);case 17:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:rt(a,l),na(e,t),t.tag=1,Be(a)?(e=!0,va(t)):e=!1,Mn(t,s),uu(t,a,l),Jl(t,a,l,s),tr(null,t,a,!0,e,s);case 19:return xu(e,t,s);case 22:return fu(e,t,s)}throw Error(G(156,t.tag))};function Lu(e,t){return ic(e,t)}function oh(e,t,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xe(e,t,s,a){return new oh(e,t,s,a)}function ni(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ch(e){if(typeof e=="function")return ni(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Nr)return 11;if(e===kr)return 14}return 2}function Bt(e,t){var s=e.alternate;return s===null?(s=Xe(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function la(e,t,s,a,l,r){var i=2;if(a=e,typeof e=="function")ni(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case fn:return nn(s.children,l,r,t);case jr:i=8,l|=8;break;case kl:return e=Xe(12,s,t,l|2),e.elementType=kl,e.lanes=r,e;case wl:return e=Xe(13,s,t,l),e.elementType=wl,e.lanes=r,e;case Sl:return e=Xe(19,s,t,l),e.elementType=Sl,e.lanes=r,e;case Ho:return Ga(s,l,r,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Bo:i=10;break e;case Uo:i=9;break e;case Nr:i=11;break e;case kr:i=14;break e;case Mt:i=16,a=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=Xe(i,s,t,l),t.elementType=e,t.type=a,t.lanes=r,t}function nn(e,t,s,a){return e=Xe(7,e,a,t),e.lanes=s,e}function Ga(e,t,s,a){return e=Xe(22,e,a,t),e.elementType=Ho,e.lanes=s,e.stateNode={isHidden:!1},e}function vl(e,t,s){return e=Xe(6,e,null,t),e.lanes=s,e}function gl(e,t,s){return t=Xe(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function uh(e,t,s,a,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Za(0),this.expirationTimes=Za(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Za(0),this.identifierPrefix=a,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function si(e,t,s,a,l,r,i,o,c){return e=new uh(e,t,s,o,c),t===1?(t=1,r===!0&&(t|=8)):t=0,r=Xe(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Or(r),e}function dh(e,t,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hn,key:a==null?null:""+a,children:e,containerInfo:t,implementation:s}}function Tu(e){if(!e)return Ht;e=e._reactInternals;e:{if(un(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Be(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var s=e.type;if(Be(s))return Tc(e,s,t)}return t}function $u(e,t,s,a,l,r,i,o,c){return e=si(s,a,!0,e,l,r,i,o,c),e.context=Tu(null),s=e.current,a=$e(),l=Gt(s),r=kt(a,l),r.callback=t??null,zt(s,r,l),e.current.lanes=l,_s(e,l,a),Ue(e,a),e}function Ba(e,t,s,a){var l=t.current,r=$e(),i=Gt(l);return s=Tu(s),t.context===null?t.context=s:t.pendingContext=s,t=kt(r,i),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=zt(l,t,i),e!==null&&(dt(e,l,i,r),Xs(e,l,i)),i}function Ma(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ko(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function ai(e,t){ko(e,t),(e=e.alternate)&&ko(e,t)}function mh(){return null}var Fu=typeof reportError=="function"?reportError:function(e){console.error(e)};function li(e){this._internalRoot=e}Ua.prototype.render=li.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));Ba(e,t,null,null)};Ua.prototype.unmount=li.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;on(function(){Ba(null,e,null,null)}),t[St]=null}};function Ua(e){this._internalRoot=e}Ua.prototype.unstable_scheduleHydration=function(e){if(e){var t=fc();e={blockedOn:null,target:e,priority:t};for(var s=0;s<It.length&&t!==0&&t<It[s].priority;s++);It.splice(s,0,e),s===0&&vc(e)}};function ri(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ha(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wo(){}function hh(e,t,s,a,l){if(l){if(typeof a=="function"){var r=a;a=function(){var v=Ma(i);r.call(v)}}var i=$u(t,a,e,0,null,!1,!1,"",wo);return e._reactRootContainer=i,e[St]=i.current,gs(e.nodeType===8?e.parentNode:e),on(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof a=="function"){var o=a;a=function(){var v=Ma(c);o.call(v)}}var c=si(e,0,!1,null,null,!1,!1,"",wo);return e._reactRootContainer=c,e[St]=c.current,gs(e.nodeType===8?e.parentNode:e),on(function(){Ba(t,c,s,a)}),c}function Wa(e,t,s,a,l){var r=s._reactRootContainer;if(r){var i=r;if(typeof l=="function"){var o=l;l=function(){var c=Ma(i);o.call(c)}}Ba(t,i,e,l)}else i=hh(s,t,e,l,a);return Ma(i)}mc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Jn(t.pendingLanes);s!==0&&(br(t,s|1),Ue(t,je()),!(te&6)&&(Fn=je()+500,qt()))}break;case 13:on(function(){var a=bt(e,1);if(a!==null){var l=$e();dt(a,e,1,l)}}),ai(e,1)}};Cr=function(e){if(e.tag===13){var t=bt(e,134217728);if(t!==null){var s=$e();dt(t,e,134217728,s)}ai(e,134217728)}};hc=function(e){if(e.tag===13){var t=Gt(e),s=bt(e,t);if(s!==null){var a=$e();dt(s,e,t,a)}ai(e,t)}};fc=function(){return le};pc=function(e,t){var s=le;try{return le=e,t()}finally{le=s}};Ll=function(e,t,s){switch(t){case"input":if(_l(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var a=s[t];if(a!==e&&a.form===e.form){var l=Ta(a);if(!l)throw Error(G(90));Vo(a),_l(a,l)}}}break;case"textarea":Qo(e,s);break;case"select":t=s.value,t!=null&&bn(e,!!s.multiple,t,!1)}};tc=Xr;nc=on;var fh={usingClientEntryPoint:!1,Events:[Ms,xn,Ta,Xo,ec,Xr]},Kn={findFiberByHostInstance:Jt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ph={bundleType:Kn.bundleType,version:Kn.version,rendererPackageName:Kn.rendererPackageName,rendererConfig:Kn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_t.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lc(e),e===null?null:e.stateNode},findFiberByHostInstance:Kn.findFiberByHostInstance||mh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qs.isDisabled&&qs.supportsFiber)try{Ia=qs.inject(ph),vt=qs}catch{}}Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fh;Qe.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ri(t))throw Error(G(200));return dh(e,t,null,s)};Qe.createRoot=function(e,t){if(!ri(e))throw Error(G(299));var s=!1,a="",l=Fu;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=si(e,1,!1,null,null,s,!1,a,l),e[St]=t.current,gs(e.nodeType===8?e.parentNode:e),new li(t)};Qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=lc(t),e=e===null?null:e.stateNode,e};Qe.flushSync=function(e){return on(e)};Qe.hydrate=function(e,t,s){if(!Ha(t))throw Error(G(200));return Wa(null,e,t,!0,s)};Qe.hydrateRoot=function(e,t,s){if(!ri(e))throw Error(G(405));var a=s!=null&&s.hydratedSources||null,l=!1,r="",i=Fu;if(s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(r=s.identifierPrefix),s.onRecoverableError!==void 0&&(i=s.onRecoverableError)),t=$u(t,null,e,1,s??null,l,!1,r,i),e[St]=t.current,gs(e),a)for(e=0;e<a.length;e++)s=a[e],l=s._getVersion,l=l(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,l]:t.mutableSourceEagerHydrationData.push(s,l);return new Ua(t)};Qe.render=function(e,t,s){if(!Ha(t))throw Error(G(200));return Wa(null,e,t,!1,s)};Qe.unmountComponentAtNode=function(e){if(!Ha(e))throw Error(G(40));return e._reactRootContainer?(on(function(){Wa(null,null,e,!1,function(){e._reactRootContainer=null,e[St]=null})}),!0):!1};Qe.unstable_batchedUpdates=Xr;Qe.unstable_renderSubtreeIntoContainer=function(e,t,s,a){if(!Ha(s))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return Wa(e,t,s,!1,a)};Qe.version="18.3.1-next-f1338f8080-20240426";function Au(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Au)}catch(e){console.error(e)}}Au(),Ao.exports=Qe;var vh=Ao.exports,So=vh;jl.createRoot=So.createRoot,jl.hydrateRoot=So.hydrateRoot;const zu="https://maplestar-guild-api.harmonyweb01.workers.dev/api",be=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:e.startsWith("/api/")?zu.replace("/api","")+e:e:"",xl="session-expired";class gh{constructor(){this.baseUrl=zu}getToken(){return localStorage.getItem("token")}setToken(t){t?localStorage.setItem("token",t):localStorage.removeItem("token")}onSessionExpired(t){return window.addEventListener(xl,t),()=>window.removeEventListener(xl,t)}notifySessionExpired(){this.setToken(null),window.dispatchEvent(new CustomEvent(xl))}async request(t,s={}){var c,v,N;const a=`${this.baseUrl}${t}`,l=this.getToken(),r={...s.body instanceof FormData?{}:{"Content-Type":"application/json"},...l&&{Authorization:`Bearer ${l}`},...s.headers},o=await(await fetch(a,{...s,headers:r})).json();if(!o.success)throw(((c=o.error)==null?void 0:c.code)==="SESSION_EXPIRED"||((v=o.error)==null?void 0:v.code)==="INVALID_TOKEN")&&this.notifySessionExpired(),new Error(((N=o.error)==null?void 0:N.message)||"API  ");return o}async login(t,s){var l;const a=await this.request("/auth/login",{method:"POST",body:JSON.stringify({username:t,password:s})});return(l=a.data)!=null&&l.token&&this.setToken(a.data.token),a}async signup(t){return this.request("/auth/signup",{method:"POST",body:JSON.stringify(t)})}async logout(){this.setToken(null)}async getMe(){return this.request("/auth/me")}async updateProfile(t){return this.request("/auth/profile",{method:"PUT",body:JSON.stringify(t)})}async uploadProfileImage(t){const s=new FormData;return s.append("file",t),this.request("/auth/profile/image",{method:"POST",body:s})}async getMyPosts(t={}){const s=new URLSearchParams(t).toString();return this.request(`/auth/my-posts?${s}`)}async getMyComments(t={}){const s=new URLSearchParams(t).toString();return this.request(`/auth/my-comments?${s}`)}async getMyGallery(t={}){const s=new URLSearchParams(t).toString();return this.request(`/auth/my-gallery?${s}`)}async getMyEvents(t={}){const s=new URLSearchParams(t).toString();return this.request(`/auth/my-events?${s}`)}async updateGallery(t,s){return this.request(`/gallery/${t}`,{method:"PUT",body:JSON.stringify(s)})}async getPendingMembers(){return this.request("/members?pending=true")}async deleteMember(t){return this.request(`/members/${t}`,{method:"DELETE"})}async getPosts(t={}){const s=new URLSearchParams(t).toString();return this.request(`/posts?${s}`)}async getPost(t){return this.request(`/posts/${t}`)}async createPost(t){return this.request("/posts",{method:"POST",body:JSON.stringify(t)})}async updatePost(t,s){return this.request(`/posts/${t}`,{method:"PUT",body:JSON.stringify(s)})}async deletePost(t){return this.request(`/posts/${t}`,{method:"DELETE"})}async likePost(t){return this.request(`/posts/${t}/like`,{method:"POST"})}async uploadPostImages(t,s){const a=new FormData;return s.forEach(l=>a.append("files",l)),this.request(`/posts/${t}/images`,{method:"POST",body:a})}async getComments(t){return this.request(`/posts/${t}/comments`)}async createComment(t,s,a=null){return this.request(`/posts/${t}/comments`,{method:"POST",body:JSON.stringify({content:s,parentId:a})})}async deleteComment(t,s){return this.request(`/posts/${t}/comments/${s}`,{method:"DELETE"})}async getGallery(t={}){const s=new URLSearchParams(t).toString();return this.request(`/gallery?${s}`)}async uploadGallery(t,s,a=""){const l=new FormData;return l.append("title",t),l.append("description",a),l.append("file",s),this.request("/gallery",{method:"POST",body:l})}async deleteGallery(t){return this.request(`/gallery/${t}`,{method:"DELETE"})}async likeGallery(t){return this.request(`/gallery/${t}/like`,{method:"POST"})}async getAttendance(){return this.request("/attendance")}async getAttendanceByMonth(t,s){return this.request(`/attendance?year=${t}&month=${s}`)}async checkAttendance(){return this.request("/attendance/check",{method:"POST"})}async getAttendanceStats(){return this.request("/attendance/stats")}async getAttendanceRanking(){return this.request("/attendance/ranking")}async getAttendanceBenefits(t,s){const a=t&&s?`?year=${t}&month=${s}`:"";return this.request(`/attendance/benefits${a}`)}async saveAttendanceBenefits(t){return this.request("/attendance/benefits",{method:"POST",body:JSON.stringify(t)})}async getAllUsersAttendance(t,s){return this.request(`/attendance/admin/users?year=${t}&month=${s}`)}async getMembers(t={}){const s=new URLSearchParams(t).toString();return this.request(`/members?${s}`)}async approveMember(t){return this.request(`/members/${t}/approve`,{method:"PUT"})}async updateMemberRole(t,s){return this.request(`/members/${t}/role`,{method:"PUT",body:JSON.stringify({role:s})})}async updateMemberProfile(t,{job:s,level:a}){return this.request(`/members/${t}/profile`,{method:"PUT",body:JSON.stringify({job:s,level:a})})}async getAlliances(){return this.request("/alliances")}async getAlliance(t){return this.request(`/alliances/${t}`)}async createAlliance(t){return this.request("/alliances",{method:"POST",body:JSON.stringify(t)})}async updateAlliance(t,s){return this.request(`/alliances/${t}`,{method:"PUT",body:JSON.stringify(s)})}async deleteAlliance(t){return this.request(`/alliances/${t}`,{method:"DELETE"})}async getEvents(){return this.request("/events")}async getEvent(t){return this.request(`/events/${t}`)}async joinEvent(t){return this.request(`/events/${t}/join`,{method:"POST"})}async getEventParticipants(t){return this.request(`/events/${t}/participants`)}async createEvent(t){return this.request("/events",{method:"POST",body:JSON.stringify(t)})}async updateEvent(t,s){return this.request(`/events/${t}`,{method:"PUT",body:JSON.stringify(s)})}async deleteEvent(t){return this.request(`/events/${t}`,{method:"DELETE"})}async getNotices(){return this.request("/notices")}async createNotice(t){return this.request("/notices",{method:"POST",body:JSON.stringify(t)})}async updateNotice(t,s){return this.request(`/notices/${t}`,{method:"PUT",body:JSON.stringify(s)})}async deleteNotice(t){return this.request(`/notices/${t}`,{method:"DELETE"})}async submitRegister(t){const s=new FormData;return Object.keys(t).forEach(a=>{t[a]!==null&&t[a]!==void 0&&s.append(a,t[a])}),this.request("/auth/register",{method:"POST",body:s})}async submitGameScore(t,s,a={}){return this.request("/games/scores",{method:"POST",body:JSON.stringify({game_type:t,score:s,metadata:a})})}async getGameRankings(t,s=10){return this.request(`/games/rankings/${t}?limit=${s}`)}async getAllGameRankings(){return this.request("/games/rankings")}async getMyGameScores(){return this.request("/games/my-scores")}async getScrollRankings(t=50){return this.request(`/scrolls/rankings?limit=${t}`)}async getMyScrollRecords(){return this.request("/scrolls/my-records")}async saveScrollRecord(t){return this.request("/scrolls/records",{method:"POST",body:JSON.stringify(t)})}async getChaosRankings({limit:t=20,statType:s="total",upgradeCount:a=null}={}){let l=`/chaos/rankings?limit=${t}&stat_type=${s}`;return a&&(l+=`&upgrade_count=${a}`),this.request(l)}async saveChaosRecord(t){return this.request("/chaos/records",{method:"POST",body:JSON.stringify(t)})}async resetScrollRankings(){return this.request("/scrolls/rankings",{method:"DELETE"})}async resetChaosRankings(){return this.request("/chaos/rankings",{method:"DELETE"})}async getIncubatorItems(){return this.request("/incubator/items")}async getIncubatorInventory(){return this.request("/incubator/inventory")}async getIncubatorDailyStats(){return this.request("/incubator/daily-stats")}async hatchIncubator(t=1,s=!1){return this.request("/incubator/hatch",{method:"POST",body:JSON.stringify({count:t,competitionBoost:s})})}async getIncubatorHistory(t=50){return this.request(`/incubator/history?limit=${t}`)}async getIncubatorRankings(t=20){return this.request(`/incubator/rankings?limit=${t}`)}async getIncubatorAdminUsers(){return this.request("/incubator/admin/users")}async getIncubatorUserInventory(t){return this.request(`/incubator/admin/users/${t}/inventory`)}async grantIncubatorBonus(t,s){return this.request(`/incubator/admin/users/${t}/bonus`,{method:"POST",body:JSON.stringify({amount:s})})}async revokeIncubatorBonus(t){return this.request(`/incubator/admin/users/${t}/revoke-bonus`,{method:"POST"})}async resetIncubatorUser(t){return this.request(`/incubator/admin/users/${t}/reset`,{method:"DELETE"})}async getScrollInventory(){return this.request("/incubator/scroll-inventory")}async useScroll(t,s=1){return this.request("/incubator/use-scroll",{method:"POST",body:JSON.stringify({scrollType:t,count:s})})}async getCompetitionGloveRankings(t=20){return this.request(`/incubator/competition/glove/rankings?limit=${t}`)}async saveCompetitionGloveRecord(t){return this.request("/incubator/competition/glove/records",{method:"POST",body:JSON.stringify(t)})}async getCompetitionChaosRankings(t=20,s="atk"){return this.request(`/incubator/competition/chaos/rankings?limit=${t}&stat_type=${s}`)}async saveCompetitionChaosRecord(t){return this.request("/incubator/competition/chaos/records",{method:"POST",body:JSON.stringify(t)})}}const $=new gh,Ou=m.createContext(null);function xh({children:e}){const[t,s]=m.useState(null),[a,l]=m.useState(!0),[r,i]=m.useState(!1),o=m.useCallback(()=>{s(null),i(!0)},[]);m.useEffect(()=>{const C=$.onSessionExpired(o);return c(),C},[o]);const c=async()=>{if(localStorage.getItem("token"))try{const I=await $.getMe();s(I.data),i(!1)}catch(I){localStorage.removeItem("token"),I.message.includes(" ")||i(!1)}l(!1)},E={user:t,loading:a,isLoggedIn:!!t,sessionExpired:r,login:async(C,I)=>{const f=await $.login(C,I);return s(f.data.user),i(!1),f},signup:async C=>await $.signup(C),logout:()=>{$.logout(),s(null),i(!1)},updateUser:C=>{s(I=>({...I,...C}))},checkAuth:c,clearSessionExpired:()=>{i(!1)}};return n.jsx(Ou.Provider,{value:E,children:e})}function Pe(){const e=m.useContext(Ou);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function yh({page:e,setPage:t,guildLogo:s}){const{user:a,isLoggedIn:l,logout:r}=Pe(),[i,o]=m.useState(!1),c=[{id:"main",label:""},{id:"notice",label:""},{id:"showoff",label:""},{id:"gallery",label:""},{id:"games",label:""},{id:"scroll",label:""},{id:"incubator",label:""},{id:"schedule",label:""},{id:"members",label:""},{id:"attendance",label:""},{id:"alliance",label:""}];m.useEffect(()=>{o(!1)},[e]),m.useEffect(()=>(i?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[i]);const v=p=>{t(p),o(!1)},N=()=>{r(),o(!1)};return n.jsxs(n.Fragment,{children:[n.jsx("header",{className:"main-header",children:n.jsxs("div",{className:"header-inner",children:[n.jsxs("button",{className:`mobile-menu-btn ${i?"open":""}`,onClick:()=>o(!i),"aria-label":"",children:[n.jsx("span",{className:"hamburger-line"}),n.jsx("span",{className:"hamburger-line"}),n.jsx("span",{className:"hamburger-line"})]}),n.jsxs("div",{className:"logo",onClick:()=>v("main"),children:[s?n.jsx("img",{src:s,alt:"",className:"logo-img"}):n.jsx("span",{className:"logo-icon",children:""}),n.jsx("span",{className:"logo-text",children:""})]}),n.jsx("nav",{className:"main-nav",children:c.map(p=>n.jsx("button",{className:e===p.id?"active":"",onClick:()=>t(p.id),children:p.label},p.id))}),n.jsx("div",{className:"header-actions",children:l?n.jsxs("div",{className:"user-menu",children:[n.jsx("span",{className:"user-name",children:(a==null?void 0:a.character_name)||(a==null?void 0:a.username)}),n.jsx("button",{className:"settings-btn",onClick:()=>t("settings"),children:""}),n.jsx("button",{className:"user-btn",onClick:r,children:""})]}):n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"login-link",onClick:()=>t("login"),children:""}),n.jsx("button",{className:"register-link",onClick:()=>t("signup"),children:""})]})})]})}),n.jsx("div",{className:`mobile-menu-overlay ${i?"open":""}`,onClick:()=>o(!1)}),n.jsxs("aside",{className:`mobile-sidebar ${i?"open":""}`,children:[n.jsxs("div",{className:"mobile-sidebar-header",children:[n.jsxs("div",{className:"mobile-sidebar-logo",children:[s?n.jsx("img",{src:s,alt:"",className:"logo-img"}):n.jsx("span",{className:"logo-icon",children:""}),n.jsx("span",{children:""})]}),n.jsx("button",{className:"mobile-sidebar-close",onClick:()=>o(!1),"aria-label":"",children:""})]}),n.jsx("div",{className:"mobile-user-section",children:l?n.jsxs("div",{className:"mobile-user-info",children:[n.jsx("div",{className:"mobile-user-avatar",children:a!=null&&a.profile_image?n.jsx("img",{src:be(a.profile_image),alt:"",style:{transform:`scale(${a.profile_zoom||1})`}}):n.jsx("span",{className:"avatar-default",children:""})}),n.jsxs("div",{className:"mobile-user-details",children:[n.jsx("span",{className:"mobile-user-name",children:(a==null?void 0:a.character_name)||(a==null?void 0:a.username)}),n.jsx("span",{className:"mobile-user-role",children:(a==null?void 0:a.role)==="master"?"":(a==null?void 0:a.role)==="submaster"?"":""})]})]}):n.jsxs("div",{className:"mobile-auth-buttons",children:[n.jsx("button",{className:"mobile-login-btn",onClick:()=>v("login"),children:""}),n.jsx("button",{className:"mobile-signup-btn",onClick:()=>v("signup"),children:""})]})}),n.jsx("nav",{className:"mobile-nav",children:c.map(p=>n.jsxs("button",{className:`mobile-nav-item ${e===p.id?"active":""}`,onClick:()=>v(p.id),children:[n.jsx("span",{className:"mobile-nav-icon",children:""}),n.jsx("span",{className:"mobile-nav-label",children:p.label})]},p.id))}),l&&n.jsxs("div",{className:"mobile-sidebar-footer",children:[n.jsx("button",{className:"mobile-settings-btn",onClick:()=>v("settings"),children:""}),n.jsx("button",{className:"mobile-logout-btn",onClick:N,children:""})]})]})]})}function jh(){return n.jsx("footer",{className:"main-footer",children:n.jsxs("div",{className:"footer-inner",children:[n.jsxs("div",{className:"footer-info",children:[n.jsx("span",{className:"footer-logo",children:" "}),n.jsx("span",{className:"footer-copy",children:"  | Since 2025"})]}),n.jsxs("div",{className:"footer-links",children:[n.jsx("a",{href:"#",children:""}),n.jsx("a",{href:"#",children:" "})]})]})})}function Nh(){const[e,t]=m.useState(!1),[s,a]=m.useState(!1),l=new Date;m.useEffect(()=>{r()},[]);const r=async()=>{var o;try{const c=await $.getAttendance(),v=l.toISOString().split("T")[0],N=(o=c.data)==null?void 0:o.find(p=>p.check_date===v);t(!!N)}catch{}},i=async()=>{if(!(s||e)){a(!0);try{await $.checkAttendance(),t(!0)}catch(o){alert(o.message)}a(!1)}};return n.jsxs("div",{className:"attendance-widget",children:[n.jsxs("div",{className:"attendance-header",children:[n.jsx("span",{children:" "}),n.jsxs("span",{className:"attendance-date",children:[l.getMonth()+1,"/",l.getDate()]})]}),e?n.jsxs("div",{className:"attendance-done",children:[n.jsx("span",{children:""}),n.jsx("p",{children:" !"})]}):n.jsx("button",{className:"attendance-btn",onClick:i,disabled:s,children:s?"...":""})]})}const Gu=[{id:"cat",icon:"",label:""},{id:"dog",icon:"",label:""},{id:"rabbit",icon:"",label:""},{id:"bear",icon:"",label:""},{id:"fox",icon:"",label:""},{id:"panda",icon:"",label:""},{id:"lion",icon:"",label:""},{id:"tiger",icon:"",label:""},{id:"wolf",icon:"",label:""},{id:"dragon",icon:"",label:""},{id:"unicorn",icon:"",label:""},{id:"bird",icon:"",label:""},{id:"owl",icon:"",label:""},{id:"penguin",icon:"",label:""},{id:"fire",icon:"",label:""},{id:"sun",icon:"",label:""},{id:"moon",icon:"",label:""},{id:"star",icon:"",label:""},{id:"rainbow",icon:"",label:""},{id:"diamond",icon:"",label:""},{id:"heart",icon:"",label:""},{id:"crown",icon:"",label:""},{id:"maple",icon:"",label:""},{id:"clover",icon:"",label:""}];function st(e){if(!e)return"";const t=Gu.find(s=>s.id===e);return t?t.icon:""}function kh({setPage:e,guildLogo:t,setSelectedNotice:s,setSelectedMember:a}){const[l,r]=m.useState([]),[i,o]=m.useState([]),[c,v]=m.useState([]),[N,p]=m.useState({memberCount:0,allianceCount:0,guildLevel:0}),[g,S]=m.useState(!0);m.useEffect(()=>{E()},[]);const E=async()=>{var u,h,j,k,w;try{const[x,y,b,P]=await Promise.all([$.getNotices().catch(()=>({data:[]})),$.getMembers({limit:6,online:!0}).catch(()=>({data:[]})),$.getEvents().catch(()=>({data:[]})),$.getAlliances().catch(()=>({data:[]}))]);r(((u=x.data)==null?void 0:u.slice(0,4))||[]),o(((h=y.data)==null?void 0:h.slice(0,6))||[]),v(((j=b.data)==null?void 0:j.slice(0,3))||[]);const M=((k=P.data)==null?void 0:k.find(L=>L.is_main))||{};p({memberCount:M.member_count||0,allianceCount:((w=P.data)==null?void 0:w.length)||0,guildLevel:M.guild_level||0})}catch(x){console.error("Failed to load data:",x)}S(!1)},C=[{id:"notice",title:"",desc:"  ",page:"notice"},{id:"board",title:"",desc:" ",page:"showoff"},{id:"gallery",title:"",desc:" ",page:"gallery"},{id:"schedule",title:" ",desc:" ",page:"schedule"},{id:"members",title:"",desc:" ",page:"members"},{id:"alliance",title:" ",desc:"  ",page:"alliance"}],I=u=>{if(!u)return"";const h=new Date(u);return`${String(h.getMonth()+1).padStart(2,"0")}/${String(h.getDate()).padStart(2,"0")}`},f=u=>{const h=new Date(u);return Math.ceil((h-new Date)/(1e3*60*60*24))};return n.jsxs("div",{className:"page-content home-page",children:[n.jsxs("section",{className:"hero-section premium",children:[n.jsx("div",{className:"hero-bg-pattern"}),n.jsx("div",{className:"hero-corner top-left"}),n.jsx("div",{className:"hero-corner top-right"}),n.jsx("div",{className:"hero-corner bottom-left"}),n.jsx("div",{className:"hero-corner bottom-right"}),n.jsxs("div",{className:"hero-inner",children:[n.jsxs("div",{className:"guild-emblem premium",children:[n.jsx("div",{className:"emblem-ring"}),t?n.jsx("img",{src:t,alt:" ",className:"emblem-img"}):n.jsx("div",{className:"emblem-maple"})]}),n.jsx("div",{className:"guild-badge",children:"  "}),n.jsx("h1",{className:"guild-title premium",children:""}),n.jsx("p",{className:"guild-slogan premium",children:"    "}),n.jsxs("div",{className:"hero-stats premium",children:[n.jsxs("div",{className:"stat-box",children:[n.jsx("div",{className:"stat-icon-mini members-icon"}),n.jsxs("div",{className:"stat-content",children:[n.jsx("span",{className:"stat-num",children:N.memberCount||"-"}),n.jsx("span",{className:"stat-label",children:""})]})]}),n.jsxs("div",{className:"stat-box",children:[n.jsx("div",{className:"stat-icon-mini alliance-icon"}),n.jsxs("div",{className:"stat-content",children:[n.jsx("span",{className:"stat-num",children:N.allianceCount||"-"}),n.jsx("span",{className:"stat-label",children:" "})]})]}),n.jsxs("div",{className:"stat-box",children:[n.jsx("div",{className:"stat-icon-mini level-icon"}),n.jsxs("div",{className:"stat-content",children:[n.jsxs("span",{className:"stat-num",children:["Lv.",N.guildLevel||"-"]}),n.jsx("span",{className:"stat-label",children:" "})]})]})]}),n.jsx("div",{className:"hero-actions",children:n.jsxs("a",{href:"https://discord.gg/jQeDb8D5kK",target:"_blank",rel:"noopener noreferrer",className:"discord-link",children:[n.jsx("span",{className:"discord-icon",children:""}),n.jsx("span",{children:"  "})]})})]})]}),n.jsxs("section",{className:"notice-section premium",children:[n.jsxs("div",{className:"section-header premium",children:[n.jsx("div",{className:"header-line"}),n.jsx("h2",{children:""}),n.jsx("div",{className:"header-line"})]}),n.jsx("div",{className:"notice-board premium",children:l.length===0?n.jsx("div",{className:"empty-message",children:" ."}):l.map((u,h)=>n.jsxs("div",{className:`notice-item premium ${u.is_important?"hot":""}`,onClick:()=>{s(u),e("notice")},children:[n.jsx("span",{className:`notice-tag ${u.is_important?"important":""}`,children:u.is_important?"":""}),n.jsx("span",{className:"notice-title",children:u.title}),n.jsx("span",{className:"notice-date",children:I(u.created_at)})]},h))}),n.jsx("button",{className:"view-all-btn",onClick:()=>e("notice"),children:""})]}),n.jsx("section",{className:"quick-menu premium",children:C.map((u,h)=>n.jsxs("div",{className:`menu-card premium menu-${u.id}`,onClick:()=>e(u.page),children:[n.jsx("div",{className:`card-icon icon-${u.id}`}),n.jsxs("div",{className:"card-info",children:[n.jsx("h3",{children:u.title}),n.jsx("p",{children:u.desc})]}),n.jsx("div",{className:"card-arrow"})]},h))}),n.jsxs("section",{className:"members-preview premium",children:[n.jsxs("div",{className:"section-header premium",children:[n.jsx("div",{className:"header-line"}),n.jsx("h2",{children:"  "}),n.jsx("div",{className:"header-line"})]}),n.jsx("div",{className:"member-grid premium",children:i.length===0?n.jsx("div",{className:"empty-message",children:"   ."}):i.map((u,h)=>n.jsxs("div",{className:"member-card premium",onClick:()=>{a(u),e("members")},children:[n.jsxs("div",{className:"member-avatar premium",children:[u.profile_image?n.jsx("img",{src:be(u.profile_image),alt:u.character_name,style:{transform:`scale(${u.profile_zoom||1})`}}):n.jsx("span",{children:st(u.default_icon)}),n.jsx("div",{className:`online-indicator ${u.is_online?"online":""}`})]}),n.jsxs("div",{className:"member-info",children:[n.jsx("span",{className:"member-name",children:u.character_name}),n.jsxs("span",{className:"member-detail",children:[n.jsxs("span",{className:"level-badge",children:["Lv.",u.level]}),n.jsx("span",{className:"job-text",children:u.job})]})]})]},h))}),n.jsxs("button",{className:"view-more-btn",onClick:()=>e("members"),children:[n.jsx("span",{children:"  "}),n.jsx("span",{className:"arrow-icon"})]})]}),n.jsxs("section",{className:"upcoming-events premium",children:[n.jsxs("div",{className:"section-header premium",children:[n.jsx("div",{className:"header-line"}),n.jsx("h2",{children:" "}),n.jsx("div",{className:"header-line"})]}),n.jsx("div",{className:"event-cards premium",children:c.length===0?n.jsx("div",{className:"empty-message",children:"  ."}):c.map((u,h)=>{const j=new Date(u.event_date),k=f(u.event_date);return n.jsxs("div",{className:`event-card premium ${k<=3?"upcoming":""}`,onClick:()=>e("schedule"),children:[n.jsxs("div",{className:"event-date",children:[n.jsxs("span",{className:"date-month",children:[j.getMonth()+1,""]}),n.jsx("span",{className:"date-day",children:j.getDate()}),n.jsx("span",{className:"date-weekday",children:["","","","","","",""][j.getDay()]})]}),n.jsxs("div",{className:"event-info",children:[n.jsx("h4",{children:u.title}),n.jsx("p",{children:u.description}),n.jsxs("div",{className:"event-meta",children:[n.jsx("span",{className:"time-icon"}),n.jsx("span",{className:"event-time",children:u.event_time})]})]}),n.jsx("span",{className:`event-dday ${k<=3?"soon":""}`,children:k===0?"TODAY":`D-${k}`})]},h)})}),n.jsxs("button",{className:"view-more-btn",onClick:()=>e("schedule"),children:[n.jsx("span",{children:"  "}),n.jsx("span",{className:"arrow-icon"})]})]})]})}function ct({isOpen:e,onClose:t,title:s,children:a}){return e?n.jsx("div",{className:"modal-overlay",onClick:t,children:n.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{children:s}),n.jsx("button",{className:"close-btn",onClick:t,children:""})]}),a]})}):null}function wh({setPage:e}){const{user:t}=Pe(),[s,a]=m.useState([]),[l,r]=m.useState(!0),[i,o]=m.useState(!1),[c,v]=m.useState(!1),[N,p]=m.useState(null),[g,S]=m.useState({guild_name:"",guild_master:"",member_count:"",guild_level:"",description:"",is_main:!1}),E=(t==null?void 0:t.role)==="master"||(t==null?void 0:t.role)==="submaster";m.useEffect(()=>{C()},[]);const C=async()=>{try{const k=await $.getAlliances();a(k.data||[])}catch(k){console.error("Failed to load alliances:",k)}r(!1)},I=()=>{v(!1),p(null),S({guild_name:"",guild_master:"",member_count:"",guild_level:"",description:"",is_main:!1}),o(!0)},f=k=>{v(!0),p(k),S({guild_name:k.guild_name||k.name||"",guild_master:k.guild_master||k.master_name||"",member_count:k.member_count||"",guild_level:k.guild_level||"",description:k.description||"",is_main:k.is_main||!1}),o(!0)},u=async k=>{if(k.preventDefault(),!g.guild_name){alert("  .");return}try{c&&N?(await $.updateAlliance(N.id,{...g,member_count:parseInt(g.member_count)||0,guild_level:parseInt(g.guild_level)||1}),alert("  .")):(await $.createAlliance({...g,member_count:parseInt(g.member_count)||0,guild_level:parseInt(g.guild_level)||1}),alert("  .")),o(!1),C()}catch(w){alert(w.message)}},h=async k=>{if(confirm("    ?"))try{await $.deleteAlliance(k),alert("  ."),C()}catch(w){alert(w.message)}},j=s.reduce((k,w)=>k+(w.member_count||0),0);return n.jsxs("div",{className:"page-content",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("button",{className:"back-btn",onClick:()=>e("main"),children:" "}),n.jsx("h1",{children:" "}),E&&n.jsx("button",{className:"write-btn",onClick:I,children:" "})]}),n.jsx(ct,{isOpen:i,onClose:()=>o(!1),title:c?"  ":"  ",children:n.jsxs("form",{className:"write-form",onSubmit:u,children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{children:["  ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",value:g.guild_name,onChange:k=>S({...g,guild_name:k.target.value}),placeholder:" "})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:" "}),n.jsx("input",{type:"text",value:g.guild_master,onChange:k=>S({...g,guild_master:k.target.value}),placeholder:"  "})]}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:" "}),n.jsx("input",{type:"number",value:g.member_count,onChange:k=>S({...g,member_count:k.target.value}),placeholder:"0",min:"0"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:" "}),n.jsx("input",{type:"number",value:g.guild_level,onChange:k=>S({...g,guild_level:k.target.value}),placeholder:"1",min:"1"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:""}),n.jsx("textarea",{value:g.description,onChange:k=>S({...g,description:k.target.value}),placeholder:" ",rows:"3"})]}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:g.is_main,onChange:k=>S({...g,is_main:k.target.checked})}),"  "]})}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"button",onClick:()=>o(!1),children:""}),n.jsx("button",{type:"submit",className:"primary",children:c?"":""})]})]})}),n.jsxs("div",{className:"alliance-banner",children:[n.jsx("span",{className:"banner-title",children:" "}),n.jsxs("span",{className:"banner-sub",children:[" ",j," "]})]}),l?n.jsx("div",{className:"loading",children:" ..."}):n.jsx("div",{className:"alliance-list",children:s.length===0?n.jsx("div",{className:"empty-message",children:"   ."}):s.map(k=>n.jsxs("div",{className:`alliance-card ${k.is_main?"main-guild":""}`,children:[!!k.is_main&&n.jsx("div",{className:"main-badge",children:" "}),n.jsxs("div",{className:"guild-header",children:[n.jsx("div",{className:"guild-emblem-small",children:k.emblem||""}),n.jsxs("div",{className:"guild-title-area",children:[n.jsx("h3",{children:k.guild_name||k.name}),n.jsxs("span",{className:"guild-master",children:[": ",k.guild_master||k.master_name||"-"]})]}),n.jsxs("div",{className:"guild-level-badge",children:["Lv.",k.guild_level||1]})]}),n.jsx("p",{className:"guild-desc",children:k.description||" ."}),n.jsxs("div",{className:"guild-footer",children:[n.jsxs("span",{className:"guild-stat",children:[" ",k.member_count||0,""]}),E&&n.jsxs("div",{className:"admin-btns",children:[n.jsx("button",{className:"edit-btn-small",onClick:()=>f(k),children:""}),!k.is_main&&n.jsx("button",{className:"delete-btn-small",onClick:()=>h(k.id),children:""})]})]})]},k.id))})]})}function Sh({setPage:e}){const{user:t,isLoggedIn:s}=Pe(),[a,l]=m.useState([]),[r,i]=m.useState(!0),[o,c]=m.useState(!1),[v,N]=m.useState(!1),[p,g]=m.useState(null),[S,E]=m.useState([]),[C,I]=m.useState(null),[f,u]=m.useState({title:"",description:"",event_date:"",event_time:"20:00",event_type:"event",max_participants:""}),h=(t==null?void 0:t.role)==="master"||(t==null?void 0:t.role)==="submaster",j={boss:{bg:"#c44536",label:""},party:{bg:"#5a7247",label:""},event:{bg:"#daa520",label:""}};m.useEffect(()=>{k()},[]);const k=async()=>{try{const d=await $.getEvents();l(d.data||[])}catch(d){console.error("Failed to load events:",d)}i(!1)},w=async d=>{try{const R=await $.getEventParticipants(d);E(R.data||[]),I(d)}catch(R){console.error("Failed to load participants:",R)}},x=async d=>{if(!s){alert(" ."),e("login");return}try{const R=await $.joinEvent(d);alert(R.data.message),k(),C===d&&w(d)}catch(R){alert(R.message)}},y=()=>{N(!1),g(null),u({title:"",description:"",event_date:"",event_time:"20:00",event_type:"event",max_participants:""}),c(!0)},b=d=>{N(!0),g(d),u({title:d.title,description:d.description||"",event_date:d.event_date,event_time:d.event_time||"20:00",event_type:d.event_type||"event",max_participants:d.max_participants||""}),c(!0)},P=async d=>{if(d.preventDefault(),!f.title||!f.event_date){alert("  .");return}try{v&&p?(await $.updateEvent(p.id,{...f,max_participants:f.max_participants?parseInt(f.max_participants):null}),alert(" .")):(await $.createEvent({...f,max_participants:f.max_participants?parseInt(f.max_participants):null}),alert(" .")),c(!1),k()}catch(R){alert(R.message)}},M=async d=>{if(confirm("   ?"))try{await $.deleteEvent(d),alert(" ."),k()}catch(R){alert(R.message)}},L=d=>{if(!d)return{date:"",day:"",full:""};const R=new Date(d);return{date:`${String(R.getMonth()+1).padStart(2,"0")}/${String(R.getDate()).padStart(2,"0")}`,day:["","","","","","",""][R.getDay()],full:d}};return n.jsxs("div",{className:"page-content",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("button",{className:"back-btn",onClick:()=>e("main"),children:" "}),n.jsx("h1",{children:" "}),h&&n.jsx("button",{className:"write-btn",onClick:y,children:" "})]}),n.jsx(ct,{isOpen:o,onClose:()=>c(!1),title:v?" ":" ",children:n.jsxs("form",{className:"write-form",onSubmit:P,children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{children:[" ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",value:f.title,onChange:d=>u({...f,title:d.target.value}),placeholder:" "})]}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{children:[" ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"date",value:f.event_date,onChange:d=>u({...f,event_date:d.target.value})})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:""}),n.jsx("input",{type:"time",value:f.event_time,onChange:d=>u({...f,event_time:d.target.value})})]})]}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:""}),n.jsxs("select",{value:f.event_type,onChange:d=>u({...f,event_type:d.target.value}),children:[n.jsx("option",{value:"event",children:""}),n.jsx("option",{value:"boss",children:""}),n.jsx("option",{value:"party",children:""})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:" ()"}),n.jsx("input",{type:"number",value:f.max_participants,onChange:d=>u({...f,max_participants:d.target.value}),placeholder:" ",min:"1"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:""}),n.jsx("textarea",{value:f.description,onChange:d=>u({...f,description:d.target.value}),placeholder:"  ",rows:"3"})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"button",onClick:()=>c(!1),children:""}),n.jsx("button",{type:"submit",className:"primary",children:v?"":""})]})]})}),r?n.jsx("div",{className:"loading",children:" ..."}):n.jsx("div",{className:"schedule-list",children:a.length===0?n.jsx("div",{className:"empty-message",children:"  ."}):a.map(d=>{const{date:R,day:F}=L(d.event_date),U=j[d.event_type]||j.event,z=d.max_participants&&d.current_participants>=d.max_participants;return n.jsxs("div",{className:"schedule-item",children:[n.jsxs("div",{className:"schedule-date",children:[n.jsx("span",{className:"sch-date",children:R}),n.jsx("span",{className:"sch-day",children:F})]}),n.jsxs("div",{className:"schedule-content",children:[n.jsxs("div",{className:"schedule-main",children:[n.jsx("span",{className:"schedule-type",style:{background:U.bg},children:U.label}),n.jsx("h4",{children:d.title}),h&&n.jsxs("div",{className:"admin-btns",children:[n.jsx("button",{className:"edit-btn-small",onClick:()=>b(d),children:""}),n.jsx("button",{className:"delete-btn-small",onClick:()=>M(d.id),children:""})]})]}),n.jsx("p",{children:d.description}),n.jsxs("div",{className:"schedule-meta",children:[n.jsxs("span",{className:"schedule-time",children:[" ",d.event_time]}),d.max_participants&&n.jsxs("span",{className:`schedule-participants ${z?"full":""}`,children:[" ",d.current_participants||0,"/",d.max_participants]}),n.jsx("button",{className:"view-participants-btn",onClick:()=>C===d.id?I(null):w(d.id),children:C===d.id?"":" "})]}),C===d.id&&n.jsxs("div",{className:"participants-list",children:[n.jsxs("h5",{children:[" (",S.length,")"]}),S.length===0?n.jsx("p",{className:"no-participants",children:"  ."}):n.jsx("div",{className:"participants-grid",children:S.map(D=>n.jsxs("div",{className:"participant-item",children:[n.jsx("div",{className:`participant-avatar ${D.default_icon&&!D.profile_image?"has-icon":""}`,children:D.profile_image?n.jsx("img",{src:be(D.profile_image),alt:"",style:{transform:`scale(${D.profile_zoom||1})`}}):st(D.default_icon)}),n.jsxs("div",{className:"participant-info",children:[n.jsx("span",{className:"participant-name",children:D.character_name}),n.jsxs("span",{className:"participant-detail",children:["Lv.",D.level," ",D.job]})]})]},D.id))})]})]}),n.jsx("button",{className:`join-btn ${z?"disabled":""}`,onClick:()=>x(d.id),disabled:z,children:z?"":""})]},d.id)})}),n.jsxs("div",{className:"schedule-info-box",children:[n.jsx("h4",{children:" "}),n.jsxs("ul",{children:[n.jsx("li",{children:"    ."}),n.jsx("li",{children:"   1  ."}),n.jsx("li",{children:"   ."}),n.jsx("li",{children:"    ."})]})]})]})}function bh({setPage:e}){const{user:t,isLoggedIn:s}=Pe(),a=(t==null?void 0:t.role)==="master"||(t==null?void 0:t.role)==="submaster",[l,r]=m.useState([]),[i,o]=m.useState(!0),[c,v]=m.useState(!1),[N,p]=m.useState(!1),[g,S]=m.useState({title:"",content:""}),[E,C]=m.useState([]),[I,f]=m.useState([]),[u,h]=m.useState(!1),[j,k]=m.useState({open:!1,images:[],index:0}),[w,x]=m.useState(null),[y,b]=m.useState({}),[P,M]=m.useState(""),[L,d]=m.useState({}),R=m.useRef(null),[F,U]=m.useState({page:1,limit:10,total:0,totalPages:0,hasMore:!0});m.useEffect(()=>{z(1,!0)},[]),m.useEffect(()=>{if(!N)return;const _=O=>{var ee;const W=(ee=O.clipboardData)==null?void 0:ee.items;if(!W)return;const Y=[];for(let fe=0;fe<W.length;fe++)if(W[fe].type.startsWith("image/")){const at=W[fe].getAsFile();if(at){const Qt=new File([at],`screenshot_${Date.now()}_${fe}.png`,{type:at.type});Y.push(Qt)}}Y.length>0&&(O.preventDefault(),B(Y))};return document.addEventListener("paste",_),()=>document.removeEventListener("paste",_)},[N,E]),m.useEffect(()=>{if(!j.open)return;const _=O=>{O.key==="Escape"?k({open:!1,images:[],index:0}):O.key==="ArrowLeft"?k(W=>({...W,index:W.index>0?W.index-1:W.images.length-1})):O.key==="ArrowRight"&&k(W=>({...W,index:W.index<W.images.length-1?W.index+1:0}))};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[j.open]);const z=async(_=1,O=!1)=>{O?o(!0):v(!0);try{const W=await $.getPosts({category:"showoff",page:_,limit:F.limit}),Y=W.data||[],ee=W.meta||W.pagination||{};r(O?Y:fe=>[...fe,...Y]),U({page:ee.page||_,limit:ee.limit||F.limit,total:ee.total||0,totalPages:ee.totalPages||1,hasMore:_<(ee.totalPages||1)})}catch(W){console.error("Failed to load posts:",W)}o(!1),v(!1)},D=()=>{!F.hasMore||c||z(F.page+1,!1)},A=async _=>{if(!y[_]){d(O=>({...O,[_]:!0}));try{const O=await $.getComments(_);b(W=>({...W,[_]:O.data||[]}))}catch(O){console.error("Failed to load comments:",O)}d(O=>({...O,[_]:!1}))}},H=async _=>{w===_?x(null):(x(_),await A(_))},q=async _=>{if(P.trim()){if(!s){alert(" .");return}try{await $.createComment(_,P),M("");const O=await $.getComments(_);b(W=>({...W,[_]:O.data||[]})),r(W=>W.map(Y=>Y.id===_?{...Y,comment_count:(Y.comment_count||0)+1}:Y))}catch(O){alert(O.message)}}},Q=async _=>{if(confirm("   ?"))try{await $.deletePost(_),r(O=>O.filter(W=>W.id!==_)),alert(" .")}catch(O){alert(O.message)}},X=async(_,O)=>{if(confirm("   ?"))try{await $.deleteComment(_,O);const W=await $.getComments(_);b(Y=>({...Y,[_]:W.data||[]})),r(Y=>Y.map(ee=>ee.id===_?{...ee,comment_count:Math.max((ee.comment_count||1)-1,0)}:ee))}catch(W){alert(W.message)}},se=()=>{if(!s){alert(" ."),e("login");return}p(!0)},ae=async _=>{var O;if(_.preventDefault(),!g.title.trim()||!g.content.trim()){alert("  .");return}h(!0);try{const W=await $.createPost({category:"showoff",title:g.title,content:g.content});E.length>0&&((O=W.data)!=null&&O.id)&&await $.uploadPostImages(W.data.id,E),ne(),z(1,!0)}catch(W){alert(W.message)}h(!1)},de=async(_,O)=>{if(O.stopPropagation(),!s){alert(" .");return}try{const W=await $.likePost(_);r(Y=>Y.map(ee=>{var fe;return ee.id===_?{...ee,like_count:(fe=W.data)!=null&&fe.liked?(ee.like_count||0)+1:Math.max((ee.like_count||1)-1,0)}:ee}))}catch(W){alert(W.message)}},B=_=>{const O=[...E,..._].slice(0,5);C(O),_.forEach(W=>{if(E.length+_.indexOf(W)<5){const Y=new FileReader;Y.onloadend=()=>{f(ee=>[...ee,Y.result].slice(0,5))},Y.readAsDataURL(W)}})},Z=_=>{const O=Array.from(_.target.files);B(O),_.target.value=""},K=_=>{C(O=>O.filter((W,Y)=>Y!==_)),f(O=>O.filter((W,Y)=>Y!==_))},ne=()=>{p(!1),S({title:"",content:""}),C([]),f([])},re=(_,O)=>{const W=_.map(Y=>be(Y.image_url));k({open:!0,images:W,index:O})},me=_=>{if(!_)return"";const O=new Date(_),Y=new Date-O,ee=Math.floor(Y/(1e3*60*60)),fe=Math.floor(Y/(1e3*60*60*24));return ee<1?" ":ee<24?`${ee} `:fe<7?`${fe} `:`${O.getMonth()+1}/${O.getDate()}`};return n.jsxs("div",{className:"page-content board-page",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("button",{className:"back-btn",onClick:()=>e("main"),children:" "}),n.jsx("h1",{children:""}),n.jsx("button",{className:"write-btn",onClick:se,children:""})]}),n.jsx(ct,{isOpen:N,onClose:ne,title:"",children:n.jsxs("form",{className:"write-form",onSubmit:ae,children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:""}),n.jsx("input",{type:"text",placeholder:" ",value:g.title,onChange:_=>S({...g,title:_.target.value})})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:""}),n.jsx("textarea",{placeholder:" ",rows:"6",value:g.content,onChange:_=>S({...g,content:_.target.value})})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:" ( 5) - Ctrl+V  "}),n.jsxs("div",{className:`image-upload-zone ${I.length>0?"has-files":""}`,onClick:()=>{var _;return(_=R.current)==null?void 0:_.click()},children:[n.jsx("span",{className:"upload-icon",children:"+"}),n.jsx("span",{className:"upload-text",children:"   Ctrl+V "}),n.jsxs("span",{className:"upload-hint",children:[I.length,"/5"]}),n.jsx("input",{ref:R,type:"file",accept:"image/*",multiple:!0,onChange:Z,style:{display:"none"}})]}),I.length>0&&n.jsx("div",{className:"image-preview-grid",children:I.map((_,O)=>n.jsxs("div",{className:"preview-item",children:[n.jsx("img",{src:_,alt:` ${O+1}`}),n.jsx("button",{type:"button",className:"remove-preview",onClick:W=>{W.stopPropagation(),K(O)},children:""})]},O))})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"button",onClick:ne,children:""}),n.jsx("button",{type:"submit",className:"primary",disabled:u,children:u?" ...":""})]})]})}),j.open&&n.jsxs("div",{className:"lightbox-overlay",onClick:()=>k({open:!1,images:[],index:0}),children:[n.jsx("button",{className:"lightbox-close",onClick:()=>k({open:!1,images:[],index:0}),children:""}),n.jsxs("div",{className:"lightbox-content",onClick:_=>_.stopPropagation(),children:[j.images.length>1&&n.jsx("button",{className:"lightbox-nav prev",onClick:()=>k(_=>({..._,index:_.index>0?_.index-1:_.images.length-1})),children:""}),n.jsx("img",{src:j.images[j.index],alt:"",className:"lightbox-image"}),j.images.length>1&&n.jsx("button",{className:"lightbox-nav next",onClick:()=>k(_=>({..._,index:_.index<_.images.length-1?_.index+1:0})),children:""})]}),j.images.length>1&&n.jsxs("div",{className:"lightbox-counter",children:[j.index+1," / ",j.images.length]})]}),i?n.jsx("div",{className:"loading",children:" ..."}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"board-list",children:l.length===0?n.jsx("div",{className:"empty-message",children:" .   !"}):l.map(_=>{var O,W,Y,ee,fe,at,Qt,Gn,T,ye;return n.jsxs("article",{className:"board-item",children:[n.jsxs("div",{className:"board-item-header",children:[n.jsxs("div",{className:"board-author",children:[n.jsx("div",{className:`board-avatar ${(O=_.user)!=null&&O.default_icon&&!((W=_.user)!=null&&W.profile_image)?"has-icon":""}`,children:(Y=_.user)!=null&&Y.profile_image?n.jsx("img",{src:be(_.user.profile_image),alt:"",style:{transform:`scale(${((ee=_.user)==null?void 0:ee.profile_zoom)||1})`}}):st((fe=_.user)==null?void 0:fe.default_icon)}),n.jsxs("div",{className:"board-author-info",children:[n.jsxs("div",{className:"author-name-row",children:[n.jsx("span",{className:"author-name",children:((at=_.user)==null?void 0:at.character_name)||""}),((Qt=_.user)==null?void 0:Qt.role)==="honorary"&&n.jsx("span",{className:"user-badge honorary",children:""}),((Gn=_.user)==null?void 0:Gn.alliance_name)&&!((T=_.user)!=null&&T.is_main_guild)&&n.jsxs("span",{className:"user-guild-badge",children:[_.user.alliance_emblem," ",_.user.alliance_name]})]}),n.jsxs("span",{className:"post-meta",children:[(ye=_.user)==null?void 0:ye.job,"  ",me(_.created_at)]})]})]}),(a||_.user_id===(t==null?void 0:t.id))&&n.jsx("button",{className:"delete-btn-small",onClick:()=>Q(_.id),children:""})]}),n.jsxs("div",{className:"board-item-content",children:[n.jsx("h3",{className:"board-title",children:_.title}),n.jsx("p",{className:"board-text",children:_.content}),_.images&&_.images.length>0&&n.jsx("div",{className:`board-images count-${Math.min(_.images.length,4)}`,children:_.images.slice(0,4).map((ie,dn)=>n.jsxs("div",{className:"board-image-item",onClick:()=>re(_.images,dn),children:[n.jsx("img",{src:be(ie.thumbnail_url||ie.image_url),alt:""}),dn===3&&_.images.length>4&&n.jsxs("div",{className:"more-images",children:["+",_.images.length-4]})]},dn))})]}),n.jsx("div",{className:"board-item-footer",children:n.jsxs("div",{className:"board-actions",children:[n.jsxs("button",{className:"action-btn like",onClick:ie=>de(_.id,ie),children:[n.jsx("span",{className:"action-icon",children:""}),n.jsx("span",{className:"action-count",children:_.like_count||0})]}),n.jsxs("button",{className:"action-btn comment",onClick:()=>H(_.id),children:[n.jsx("span",{className:"action-icon",children:""}),n.jsx("span",{className:"action-count",children:_.comment_count||0})]})]})}),w===_.id&&n.jsx("div",{className:"board-comments",children:L[_.id]?n.jsx("div",{className:"comments-loading",children:"  ..."}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"comments-list",children:(y[_.id]||[]).length===0?n.jsx("div",{className:"no-comments",children:"  ."}):(y[_.id]||[]).map(ie=>{var dn,ii,oi,ci,ui,di,mi,hi,fi;return n.jsxs("div",{className:"comment-item",children:[n.jsx("div",{className:`comment-avatar ${(dn=ie.user)!=null&&dn.default_icon&&!((ii=ie.user)!=null&&ii.profile_image)?"has-icon":""}`,children:(oi=ie.user)!=null&&oi.profile_image?n.jsx("img",{src:be(ie.user.profile_image),alt:"",style:{transform:`scale(${((ci=ie.user)==null?void 0:ci.profile_zoom)||1})`}}):st((ui=ie.user)==null?void 0:ui.default_icon)}),n.jsxs("div",{className:"comment-body",children:[n.jsxs("div",{className:"comment-header",children:[n.jsx("span",{className:"comment-author",children:((di=ie.user)==null?void 0:di.character_name)||""}),((mi=ie.user)==null?void 0:mi.role)==="honorary"&&n.jsx("span",{className:"user-badge honorary small",children:""}),((hi=ie.user)==null?void 0:hi.alliance_name)&&!((fi=ie.user)!=null&&fi.is_main_guild)&&n.jsx("span",{className:"user-guild-badge small",children:ie.user.alliance_emblem}),n.jsx("span",{className:"comment-time",children:me(ie.created_at)}),(a||ie.user_id===(t==null?void 0:t.id))&&n.jsx("button",{className:"comment-delete-btn",onClick:()=>X(_.id,ie.id),children:""})]}),n.jsx("p",{className:"comment-text",children:ie.content})]})]},ie.id)})}),s&&n.jsxs("div",{className:"comment-form",children:[n.jsx("input",{type:"text",placeholder:" ",value:w===_.id?P:"",onChange:ie=>M(ie.target.value),onKeyPress:ie=>ie.key==="Enter"&&q(_.id)}),n.jsx("button",{onClick:()=>q(_.id),children:""})]})]})})]},_.id)})}),F.hasMore&&l.length>0&&n.jsx("div",{className:"load-more-container",children:n.jsx("button",{className:"load-more-btn",onClick:D,disabled:c,children:c?" ...":`  (${l.length}/${F.total})`})}),l.length>0&&n.jsxs("div",{className:"pagination-info",children:[" ",F.total," "]})]})]})}function Ch({setPage:e}){var de;const{user:t,isLoggedIn:s}=Pe(),a=(t==null?void 0:t.role)==="master"||(t==null?void 0:t.role)==="submaster",[l,r]=m.useState([]),[i,o]=m.useState(!0),[c,v]=m.useState(!1),[N,p]=m.useState(!1),[g,S]=m.useState({title:"",description:""}),[E,C]=m.useState(null),[I,f]=m.useState(null),[u,h]=m.useState(!1),[j,k]=m.useState({open:!1,image:null,data:null}),[w,x]=m.useState(!1),[y,b]=m.useState({id:null,title:"",description:""}),P=m.useRef(null),[M,L]=m.useState({page:1,limit:20,total:0,totalPages:0,hasMore:!0});m.useEffect(()=>{d(1,!0)},[]),m.useEffect(()=>{if(!N)return;const B=Z=>{var ne;const K=(ne=Z.clipboardData)==null?void 0:ne.items;if(K){for(let re=0;re<K.length;re++)if(K[re].type.startsWith("image/")){const me=K[re].getAsFile();if(me){Z.preventDefault();const _=new File([me],`screenshot_${Date.now()}.png`,{type:me.type});C(_);const O=new FileReader;O.onloadend=()=>f(O.result),O.readAsDataURL(_);break}}}};return document.addEventListener("paste",B),()=>document.removeEventListener("paste",B)},[N]),m.useEffect(()=>{if(!j.open)return;const B=Z=>{Z.key==="Escape"&&k({open:!1,image:null,data:null})};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[j.open]);const d=async(B=1,Z=!1)=>{Z?o(!0):v(!0);try{const K=await $.getGallery({page:B,limit:M.limit}),ne=K.data||[],re=K.meta||K.pagination||{};r(Z?ne:me=>[...me,...ne]),L({page:re.page||B,limit:re.limit||M.limit,total:re.total||0,totalPages:re.totalPages||1,hasMore:B<(re.totalPages||1)})}catch(K){console.error("Failed to load gallery:",K)}o(!1),v(!1)},R=()=>{!M.hasMore||c||d(M.page+1,!1)},F=()=>{if(!s){alert(" ."),e("login");return}p(!0)},U=B=>{const Z=B.target.files[0];if(Z){C(Z);const K=new FileReader;K.onloadend=()=>f(K.result),K.readAsDataURL(Z)}},z=async B=>{if(B.preventDefault(),!g.title.trim()){alert(" .");return}if(!E){alert(" .");return}h(!0);try{await $.uploadGallery(g.title,E,g.description),H(),d(1,!0)}catch(Z){alert(Z.message)}h(!1)},D=async(B,Z)=>{var K;if(Z.stopPropagation(),!s){alert(" .");return}try{const ne=await $.likeGallery(B);r(re=>re.map(me=>{var _;return me.id===B?{...me,like_count:(_=ne.data)!=null&&_.liked?(me.like_count||0)+1:Math.max((me.like_count||1)-1,0)}:me})),j.open&&((K=j.data)==null?void 0:K.id)===B&&k(re=>{var me;return{...re,data:{...re.data,like_count:(me=ne.data)!=null&&me.liked?(re.data.like_count||0)+1:Math.max((re.data.like_count||1)-1,0)}}})}catch(ne){alert(ne.message)}},A=B=>{k({open:!0,image:be(B.image_url),data:B})},H=()=>{p(!1),S({title:"",description:""}),C(null),f(null)},q=()=>{C(null),f(null)},Q=B=>{if(!B)return"";const Z=new Date(B),ne=new Date-Z,re=Math.floor(ne/(1e3*60*60*24)),me=Math.floor(re/7);return re<1?"":re<7?`${re} `:me<4?`${me} `:`${Z.getMonth()+1}/${Z.getDate()}`},X=async(B,Z)=>{var K;if(Z==null||Z.stopPropagation(),!!confirm("   ?"))try{await $.deleteGallery(B),r(l.filter(ne=>ne.id!==B)),j.open&&((K=j.data)==null?void 0:K.id)===B&&k({open:!1,image:null,data:null}),alert(".")}catch(ne){alert(ne.message)}},se=(B,Z)=>{Z==null||Z.stopPropagation(),x(!0),b({id:B.id,title:B.title||"",description:B.description||""})},ae=async B=>{var Z;if(B.preventDefault(),!y.title.trim()){alert(" .");return}try{await $.request(`/gallery/${y.id}`,{method:"PUT",body:JSON.stringify({title:y.title,description:y.description})}),r(l.map(K=>K.id===y.id?{...K,title:y.title,description:y.description}:K)),j.open&&((Z=j.data)==null?void 0:Z.id)===y.id&&k(K=>({...K,data:{...K.data,title:y.title,description:y.description}})),x(!1),alert(".")}catch(K){alert(K.message)}};return n.jsxs("div",{className:"page-content",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("button",{className:"back-btn",onClick:()=>e("main"),children:" "}),n.jsx("h1",{children:""}),n.jsx("button",{className:"write-btn",onClick:F,children:""})]}),n.jsx(ct,{isOpen:N,onClose:H,title:" ",children:n.jsxs("form",{className:"write-form",onSubmit:z,children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:""}),n.jsx("input",{type:"text",placeholder:" ",value:g.title,onChange:B=>S({...g,title:B.target.value})})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:" ()"}),n.jsx("textarea",{placeholder:"  ",rows:"2",value:g.description,onChange:B=>S({...g,description:B.target.value})})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:" - Ctrl+V  !"}),n.jsxs("div",{className:`image-upload-zone large ${I?"has-preview":""}`,onClick:()=>{var B;return!I&&((B=P.current)==null?void 0:B.click())},children:[I?n.jsx("img",{src:I,alt:"",className:"upload-preview-large"}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"upload-icon",children:""}),n.jsx("span",{className:"upload-text",children:"   Ctrl+V "})]}),n.jsx("input",{ref:P,type:"file",accept:"image/*",onChange:U,style:{display:"none"}})]}),I&&n.jsx("button",{type:"button",className:"clear-image-btn",onClick:q,children:" "})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"button",onClick:H,children:""}),n.jsx("button",{type:"submit",className:"primary",disabled:u,children:u?" ...":""})]})]})}),n.jsx(ct,{isOpen:w,onClose:()=>x(!1),title:" ",children:n.jsxs("form",{className:"write-form",onSubmit:ae,children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:""}),n.jsx("input",{type:"text",placeholder:" ",value:y.title,onChange:B=>b({...y,title:B.target.value})})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:" ()"}),n.jsx("textarea",{placeholder:"  ",rows:"2",value:y.description,onChange:B=>b({...y,description:B.target.value})})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"button",onClick:()=>x(!1),children:""}),n.jsx("button",{type:"submit",className:"primary",children:""})]})]})}),j.open&&n.jsxs("div",{className:"lightbox-overlay",onClick:()=>k({open:!1,image:null,data:null}),children:[n.jsx("button",{className:"lightbox-close",onClick:()=>k({open:!1,image:null,data:null}),children:""}),n.jsx("div",{className:"lightbox-content",onClick:B=>B.stopPropagation(),children:n.jsx("img",{src:j.image,alt:"",className:"lightbox-image"})}),j.data&&n.jsxs("div",{className:"lightbox-info",onClick:B=>B.stopPropagation(),children:[n.jsx("h3",{children:j.data.title}),j.data.description&&n.jsx("p",{children:j.data.description}),n.jsxs("div",{className:"lightbox-meta",children:[n.jsx("span",{children:((de=j.data.user)==null?void 0:de.character_name)||""}),n.jsx("span",{children:""}),n.jsx("span",{children:Q(j.data.created_at)})]}),n.jsxs("div",{className:"lightbox-actions",children:[n.jsxs("button",{className:"lightbox-like-btn",onClick:B=>{B.stopPropagation(),D(j.data.id,B)},children:["  ",j.data.like_count||0]}),(a||t&&Number(j.data.user_id)===Number(t.id))&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"lightbox-edit-btn",onClick:B=>se(j.data,B),children:""}),n.jsx("button",{className:"lightbox-delete-btn",onClick:B=>X(j.data.id,B),children:""})]})]})]}),n.jsx("div",{className:"lightbox-hint",children:"ESC    "})]}),i?n.jsx("div",{className:"loading",children:" ..."}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"gallery-grid-improved",children:l.length===0?n.jsx("div",{className:"empty-message",children:" .   !"}):l.map((B,Z)=>{var K;return n.jsxs("div",{className:"gallery-card",onClick:()=>A(B),children:[n.jsx("div",{className:"gallery-card-image",children:B.thumbnail_url||B.image_url?n.jsx("img",{src:be(B.thumbnail_url||B.image_url),alt:B.title}):n.jsx("div",{className:"gallery-placeholder",children:""})}),n.jsxs("div",{className:"gallery-card-info",children:[n.jsx("span",{className:"gallery-card-title",children:B.title}),n.jsxs("div",{className:"gallery-card-meta",children:[n.jsx("span",{className:"gallery-card-author",children:((K=B.user)==null?void 0:K.character_name)||""}),n.jsx("span",{className:"gallery-card-time",children:Q(B.created_at)})]}),n.jsxs("div",{className:"gallery-card-actions",children:[n.jsxs("button",{className:"gallery-like-btn",onClick:ne=>D(B.id,ne),children:[" ",B.like_count||0]}),(a||t&&Number(B.user_id)===Number(t.id))&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"gallery-edit-btn",onClick:ne=>se(B,ne),children:""}),n.jsx("button",{className:"gallery-delete-btn",onClick:ne=>X(B.id,ne),children:""})]})]})]})]},B.id||Z)})}),M.hasMore&&l.length>0&&n.jsx("div",{className:"load-more-container",children:n.jsx("button",{className:"load-more-btn",onClick:R,disabled:c,children:c?" ...":`  (${l.length}/${M.total})`})}),l.length>0&&n.jsxs("div",{className:"pagination-info",children:[" ",M.total," "]})]})]})}function _h({setPage:e,selectedMember:t,setSelectedMember:s}){var L;const{user:a}=Pe(),[l,r]=m.useState("all"),[i,o]=m.useState("all"),[c,v]=m.useState([]),[N,p]=m.useState([]),[g,S]=m.useState(!0),[E,C]=m.useState({total:0,online:0,honorary:0}),[I,f]=m.useState(null),[u,h]=m.useState(!1),j=(a==null?void 0:a.role)==="master",k={master:{label:"",color:"#daa520"},submaster:{label:"",color:"#e07020"},member:{label:"",color:"#6b4c35"},honorary:{label:"",color:"#8b5cf6"}};m.useEffect(()=>{x(),w()},[]);const w=async()=>{try{const d=await $.getAlliances();p(d.data||[])}catch(d){console.error("Failed to load alliances:",d)}};m.useEffect(()=>{t&&(f(t),s==null||s(null))},[t]);const x=async()=>{try{const R=(await $.getMembers()).data||[];v(R),C({total:R.length,online:R.filter(F=>F.is_online).length,honorary:R.filter(F=>F.role==="honorary").length})}catch(d){console.error("Failed to load members:",d)}S(!1)},b=(()=>{let d=c;switch(l){case"online":d=d.filter(R=>R.is_online);break;case"master":d=d.filter(R=>R.role==="master");break;case"submaster":d=d.filter(R=>R.role==="submaster");break;case"honorary":d=d.filter(R=>R.role==="honorary");break}return i!=="all"&&(d=d.filter(R=>R.alliance_id===parseInt(i))),d})(),P=async(d,R)=>{if(j){h(!0);try{await $.updateMemberRole(d,R),await x(),I&&I.id===d&&f(F=>({...F,role:R}))}catch(F){alert(F.message)}h(!1)}},M=d=>{if(!d)return"-";const R=new Date(d);return`${R.getFullYear()}.${String(R.getMonth()+1).padStart(2,"0")}.${String(R.getDate()).padStart(2,"0")}`};return n.jsxs("div",{className:"page-content members-page premium",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("button",{className:"back-btn",onClick:()=>e("main"),children:" "}),n.jsx("h1",{children:""})]}),n.jsxs("div",{className:"members-stats premium",children:[n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-icon total-icon"}),n.jsxs("div",{className:"stat-content",children:[n.jsx("span",{className:"stat-value",children:E.total}),n.jsx("span",{className:"stat-name",children:" "})]})]}),n.jsxs("div",{className:"stat-card online",children:[n.jsx("div",{className:"stat-icon online-icon"}),n.jsxs("div",{className:"stat-content",children:[n.jsx("span",{className:"stat-value",children:E.online}),n.jsx("span",{className:"stat-name",children:""})]})]}),n.jsxs("div",{className:"stat-card honorary",children:[n.jsx("div",{className:"stat-icon honorary-icon"}),n.jsxs("div",{className:"stat-content",children:[n.jsx("span",{className:"stat-value",children:E.honorary}),n.jsx("span",{className:"stat-name",children:""})]})]})]}),n.jsxs("div",{className:"members-filter-section premium",children:[n.jsx("div",{className:"members-filter premium",children:[{key:"all",label:""},{key:"online",label:""},{key:"master",label:""},{key:"submaster",label:""},{key:"honorary",label:""}].map(d=>n.jsx("button",{className:l===d.key?"active":"",onClick:()=>r(d.key),children:d.label},d.key))}),n.jsx("div",{className:"alliance-filter premium",children:n.jsxs("select",{value:i,onChange:d=>o(d.target.value),className:"alliance-select",children:[n.jsx("option",{value:"all",children:" "}),N.map(d=>n.jsxs("option",{value:d.id,children:[d.emblem," ",d.name," ",d.is_main?"()":""]},d.id))]})})]}),g?n.jsx("div",{className:"loading",children:" ..."}):n.jsx("div",{className:"members-list premium",children:b.length===0?n.jsx("div",{className:"empty-message",children:"  ."}):b.map((d,R)=>{const F=k[d.role]||k.member;return n.jsxs("div",{className:`member-row premium ${d.is_online?"online":""} role-${d.role||"member"}`,onClick:()=>f(d),children:[n.jsxs("div",{className:"member-avatar-box",children:[n.jsx("div",{className:"avatar-placeholder",children:d.profile_image?n.jsx("img",{src:be(d.profile_image),alt:"",style:{transform:`scale(${d.profile_zoom||1})`}}):n.jsx("span",{children:st(d.default_icon)})}),n.jsx("div",{className:`online-indicator ${d.is_online?"on":""}`})]}),n.jsxs("div",{className:"member-main",children:[n.jsxs("div",{className:"member-name-row",children:[n.jsx("span",{className:"member-name",children:d.character_name}),n.jsx("span",{className:`member-role role-${d.role||"member"}`,children:F.label})]}),d.alliance_name&&n.jsxs("span",{className:`member-guild ${d.is_main_guild?"main":"alliance"}`,children:[d.alliance_emblem," ",d.alliance_name]})]}),n.jsxs("div",{className:"member-sub",children:[n.jsx("span",{className:"member-job",children:d.job||"-"}),n.jsxs("span",{className:"member-level",children:["Lv.",d.level||0]})]})]},R)})}),I&&n.jsx("div",{className:"modal-overlay premium",onClick:()=>f(null),children:n.jsxs("div",{className:"modal-content member-detail-modal premium",onClick:d=>d.stopPropagation(),children:[n.jsx("button",{className:"modal-close-btn",onClick:()=>f(null)}),n.jsxs("div",{className:"member-detail-body premium",children:[n.jsxs("div",{className:"member-detail-avatar premium",children:[n.jsx("div",{className:"avatar-large",children:I.profile_image?n.jsx("img",{src:be(I.profile_image),alt:"",style:{transform:`scale(${I.profile_zoom||1})`}}):n.jsx("span",{children:st(I.default_icon)})}),n.jsxs("div",{className:`online-badge ${I.is_online?"online":""}`,children:[n.jsx("span",{className:"badge-dot"}),n.jsx("span",{children:I.is_online?"":""})]})]}),n.jsxs("div",{className:"member-detail-name",children:[n.jsx("h2",{children:I.character_name}),n.jsxs("div",{className:"member-detail-badges",children:[n.jsx("span",{className:`role-tag role-${I.role||"member"}`,children:((L=k[I.role])==null?void 0:L.label)||""}),I.alliance_name&&n.jsxs("span",{className:`guild-tag ${I.is_main_guild?"main":"alliance"}`,children:[I.alliance_emblem," ",I.alliance_name]})]})]}),n.jsxs("div",{className:"member-detail-stats",children:[n.jsxs("div",{className:"detail-stat",children:[n.jsx("span",{className:"stat-label",children:""}),n.jsx("span",{className:"stat-value",children:I.job||"-"})]}),n.jsxs("div",{className:"detail-stat",children:[n.jsx("span",{className:"stat-label",children:""}),n.jsxs("span",{className:"stat-value",children:["Lv.",I.level||0]})]}),I.discord&&n.jsxs("div",{className:"detail-stat full",children:[n.jsx("span",{className:"stat-label",children:"Discord"}),n.jsx("span",{className:"stat-value",children:I.discord})]}),n.jsxs("div",{className:"detail-stat full",children:[n.jsx("span",{className:"stat-label",children:""}),n.jsx("span",{className:"stat-value",children:M(I.created_at)})]})]}),j&&I.role!=="master"&&I.id!==(a==null?void 0:a.id)&&n.jsxs("div",{className:"role-edit-section premium",children:[n.jsx("span",{className:"section-label",children:" "}),n.jsxs("div",{className:"role-buttons",children:[n.jsx("button",{className:`role-btn ${I.role==="submaster"?"active":""}`,onClick:()=>P(I.id,"submaster"),disabled:u||I.role==="submaster",children:""}),n.jsx("button",{className:`role-btn ${I.role==="member"?"active":""}`,onClick:()=>P(I.id,"member"),disabled:u||I.role==="member",children:""})]})]})]})]})})]})}function Eh({setPage:e}){const[t,s]=m.useState(null),[a,l]=m.useState([]),[r,i]=m.useState("main"),[o,c]=m.useState({characterName:"",job:"",level:"",discord:"",message:"",allianceId:""}),[v,N]=m.useState(null),[p,g]=m.useState(!1),S=m.useRef(null);m.useEffect(()=>{E()},[]);const E=async()=>{try{const x=(await $.getAlliances()).data||[];l(x);const y=x.find(b=>b.is_main);y&&c(b=>({...b,allianceId:String(y.id)}))}catch(w){console.error("Failed to load alliances:",w)}},C=w=>{if(i(w),w==="main"){const x=a.find(y=>y.is_main);x&&c(y=>({...y,allianceId:String(x.id)}))}else{const x=a.find(y=>!y.is_main);c(y=>({...y,allianceId:x?String(x.id):""}))}},I=a.find(w=>w.is_main),f=a.filter(w=>!w.is_main),u=["","","","(,)","(,)","","","","","","","","","","","","","","",""],h=w=>{const x=w.target.files[0];if(x){N(x);const y=new FileReader;y.onloadend=()=>s(y.result),y.readAsDataURL(x)}},j=w=>{const{name:x,value:y}=w.target;c(b=>({...b,[x]:y}))},k=async w=>{if(w.preventDefault(),!o.characterName.trim()){alert("  .");return}if(!o.job){alert(" .");return}if(!o.level||o.level<100){alert(" 100   .");return}if(!o.discord.trim()){alert("  .");return}if(!o.allianceId){alert("  .");return}g(!0);try{await $.submitRegister({character_name:o.characterName,job:o.job,level:parseInt(o.level),discord:o.discord,message:o.message,alliance_id:parseInt(o.allianceId),image:v}),alert("  !    ."),e("main")}catch(x){alert(x.message)}g(!1)};return n.jsxs("div",{className:"page-content register-page",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("button",{className:"back-btn",onClick:()=>e("main"),children:" "}),n.jsx("h1",{children:" "})]}),n.jsxs("div",{className:"register-container",children:[n.jsxs("div",{className:"register-info",children:[n.jsxs("div",{className:"info-box",children:[n.jsx("h3",{children:" "}),n.jsxs("ul",{children:[n.jsx("li",{children:" 100 "}),n.jsx("li",{children:"  "}),n.jsx("li",{children:" 1   "})]})]}),n.jsxs("div",{className:"info-box benefits",children:[n.jsx("h3",{children:" "}),n.jsxs("ul",{children:[n.jsx("li",{children:"  "}),n.jsx("li",{children:"  "}),n.jsx("li",{children:"  "})]})]}),n.jsxs("a",{href:"https://discord.gg/jQeDb8D5kK",target:"_blank",rel:"noopener noreferrer",className:"discord-link register-discord",children:[n.jsx("span",{className:"discord-icon",children:""}),n.jsx("span",{children:" "})]})]}),n.jsxs("form",{className:"register-form",onSubmit:k,children:[n.jsxs("div",{className:"form-group avatar-upload",children:[n.jsx("label",{children:"  ()"}),n.jsxs("div",{className:"avatar-upload-box",onClick:()=>{var w;return(w=S.current)==null?void 0:w.click()},children:[t?n.jsx("img",{src:t,alt:"",className:"avatar-preview"}):n.jsxs("div",{className:"avatar-placeholder-upload",children:[n.jsx("span",{children:""}),n.jsxs("p",{children:[" ",n.jsx("br",{}),""]})]}),n.jsx("input",{ref:S,type:"file",accept:"image/*",onChange:h,style:{display:"none"}})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{children:["  ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",name:"characterName",placeholder:" ",value:o.characterName,onChange:j,required:!0})]}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{children:[" ",n.jsx("span",{className:"required",children:"*"})]}),n.jsxs("select",{name:"job",value:o.job,onChange:j,required:!0,children:[n.jsx("option",{value:"",children:""}),u.map(w=>n.jsx("option",{value:w,children:w},w))]})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{children:[" ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"number",name:"level",placeholder:" ",min:"100",max:"300",value:o.level,onChange:j,required:!0})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{children:[" ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",name:"discord",placeholder:"username",value:o.discord,onChange:j,required:!0})]}),n.jsxs("div",{className:"form-group member-type-group",children:[n.jsxs("label",{children:["  ",n.jsx("span",{className:"required",children:"*"})]}),n.jsxs("div",{className:"member-type-toggle",children:[n.jsxs("button",{type:"button",className:`type-btn ${r==="main"?"active":""}`,onClick:()=>C("main"),children:[n.jsx("span",{className:"type-icon",children:""}),n.jsx("span",{className:"type-label",children:" "}),n.jsx("span",{className:"type-desc",children:"  "})]}),n.jsxs("button",{type:"button",className:`type-btn alliance ${r==="alliance"?"active":""}`,onClick:()=>C("alliance"),children:[n.jsx("span",{className:"type-icon",children:""}),n.jsx("span",{className:"type-label",children:"  "}),n.jsx("span",{className:"type-desc",children:"  "})]})]})]}),r==="main"&&I&&n.jsx("div",{className:"selected-guild-info",children:n.jsxs("div",{className:"guild-card main",children:[n.jsx("span",{className:"guild-emblem",children:I.emblem||""}),n.jsxs("div",{className:"guild-details",children:[n.jsx("span",{className:"guild-name",children:I.name}),n.jsx("span",{className:"guild-badge",children:""})]})]})}),r==="alliance"&&n.jsxs("div",{className:"form-group alliance-select-group",children:[n.jsxs("label",{children:["   ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("div",{className:"alliance-options",children:f.map(w=>n.jsxs("label",{className:`alliance-option ${o.allianceId===String(w.id)?"selected":""}`,children:[n.jsx("input",{type:"radio",name:"allianceId",value:w.id,checked:o.allianceId===String(w.id),onChange:j}),n.jsxs("div",{className:"alliance-option-content",children:[n.jsx("span",{className:"alliance-emblem",children:w.emblem||""}),n.jsxs("div",{className:"alliance-info",children:[n.jsx("span",{className:"alliance-name",children:w.name}),n.jsx("span",{className:"alliance-desc",children:w.description})]})]})]},w.id))}),n.jsx("p",{className:"alliance-hint",children:"         ."})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"  "}),n.jsx("textarea",{name:"message",placeholder:"  ",rows:"3",value:o.message,onChange:j})]}),n.jsxs("button",{type:"submit",className:"submit-btn",disabled:p,children:[n.jsx("span",{children:p?" ...":" "}),n.jsx("span",{children:""})]})]})]})]})}function Mh({setPage:e}){const{login:t}=Pe(),[s,a]=m.useState({username:"",password:""}),[l,r]=m.useState(!1),[i,o]=m.useState(""),c=N=>{const{name:p,value:g}=N.target;a(S=>({...S,[p]:g})),o("")},v=async N=>{if(N.preventDefault(),!s.username.trim()||!s.password.trim()){o("  .");return}r(!0);try{await t(s.username,s.password),e("main")}catch(p){o(p.message||" .")}r(!1)};return n.jsx("div",{className:"page-content login-page",children:n.jsxs("div",{className:"login-container",children:[n.jsxs("div",{className:"login-header",children:[n.jsx("div",{className:"login-emblem",children:""}),n.jsx("h1",{children:""}),n.jsx("p",{children:"  "})]}),n.jsxs("form",{className:"login-form",onSubmit:v,children:[i&&n.jsx("div",{className:"error-message",children:i}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:""}),n.jsx("input",{type:"text",name:"username",placeholder:"",value:s.username,onChange:c,required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:""}),n.jsx("input",{type:"password",name:"password",placeholder:"",value:s.password,onChange:c,required:!0})]}),n.jsx("button",{type:"submit",className:"login-btn",disabled:l,children:l?" ...":""})]}),n.jsxs("div",{className:"login-links",children:[n.jsx("button",{onClick:()=>e("signup"),children:""}),n.jsx("span",{children:"|"}),n.jsx("button",{onClick:()=>alert(" ."),children:" "})]}),n.jsx("button",{className:"guest-btn",onClick:()=>e("main"),children:" "})]})})}const Ph=[{value:"",label:" "},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"(,)",label:"(,)"},{value:"(,)",label:"(,)"},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}];function Ih({setPage:e}){const{signup:t}=Pe(),[s,a]=m.useState([]),[l,r]=m.useState("main"),[i,o]=m.useState({username:"",password:"",passwordConfirm:"",characterName:"",job:"",level:"",discord:"",allianceId:""}),[c,v]=m.useState(!1),[N,p]=m.useState("");m.useEffect(()=>{g()},[]);const g=async()=>{try{const h=(await $.getAlliances()).data||[];a(h);const j=h.find(k=>k.is_main);j&&o(k=>({...k,allianceId:String(j.id)}))}catch(u){console.error("Failed to load alliances:",u)}},S=u=>{if(r(u),u==="main"){const h=s.find(j=>j.is_main);h&&o(j=>({...j,allianceId:String(h.id)}))}else{const h=s.find(j=>!j.is_main);o(j=>({...j,allianceId:h?String(h.id):""}))}};s.find(u=>u.is_main);const E=s.filter(u=>!u.is_main),C=u=>{const{name:h,value:j}=u.target;o(k=>({...k,[h]:j})),p("")},I=()=>i.username.trim()?i.username.length<4||i.username.length>12?(p(" 4-12 ."),!1):/^[a-zA-Z0-9]+$/.test(i.username)?i.password.trim()?i.password.length<8?(p(" 8  ."),!1):i.password!==i.passwordConfirm?(p("  ."),!1):i.characterName.trim()?i.job?!i.level||i.level<1||i.level>200?(p("  . (1-200)"),!1):i.discord.trim()?i.allianceId?!0:(p("  ."),!1):(p("  ."),!1):(p(" ."),!1):(p("  ."),!1):(p(" ."),!1):(p(" / ."),!1):(p(" ."),!1),f=async u=>{if(u.preventDefault(),!!I()){v(!0);try{await t({username:i.username,password:i.password,character_name:i.characterName,job:i.job,level:parseInt(i.level),discord:i.discord,alliance_id:parseInt(i.allianceId)}),alert(` !
     .`),e("main")}catch(h){p(h.message||" .")}v(!1)}};return n.jsx("div",{className:"page-content login-page",children:n.jsxs("div",{className:"login-container signup",children:[n.jsxs("div",{className:"login-header",children:[n.jsx("div",{className:"login-emblem",children:""}),n.jsx("h1",{children:""})]}),n.jsxs("form",{className:"login-form",onSubmit:f,children:[N&&n.jsx("div",{className:"error-message",children:N}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:""}),n.jsx("input",{type:"text",name:"username",placeholder:"/ 4-12",value:i.username,onChange:C,required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:""}),n.jsx("input",{type:"password",name:"password",placeholder:"8 ",value:i.password,onChange:C,required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:" "}),n.jsx("input",{type:"password",name:"passwordConfirm",placeholder:" ",value:i.passwordConfirm,onChange:C,required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:" "}),n.jsx("input",{type:"text",name:"characterName",placeholder:" ",value:i.characterName,onChange:C,required:!0})]}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:""}),n.jsx("select",{name:"job",value:i.job,onChange:C,required:!0,children:Ph.map(u=>n.jsx("option",{value:u.value,children:u.label},u.value))})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:""}),n.jsx("input",{type:"number",name:"level",placeholder:"1-200",min:"1",max:"200",value:i.level,onChange:C,required:!0})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:""}),n.jsx("input",{type:"text",name:"discord",placeholder:" ",value:i.discord,onChange:C,required:!0})]}),n.jsxs("div",{className:"form-group member-type-group compact",children:[n.jsx("label",{children:" "}),n.jsxs("div",{className:"member-type-toggle compact",children:[n.jsx("button",{type:"button",className:`type-btn ${l==="main"?"active":""}`,onClick:()=>S("main"),children:n.jsx("span",{className:"type-label",children:""})}),n.jsx("button",{type:"button",className:`type-btn alliance ${l==="alliance"?"active":""}`,onClick:()=>S("alliance"),children:n.jsx("span",{className:"type-label",children:" "})})]})]}),l==="alliance"&&E.length>0&&n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"  "}),n.jsx("select",{name:"allianceId",value:i.allianceId,onChange:C,className:"alliance-dropdown",children:E.map(u=>n.jsxs("option",{value:u.id,children:[u.emblem," ",u.name]},u.id))})]}),n.jsx("button",{type:"submit",className:"login-btn",disabled:c,children:c?" ...":""})]}),n.jsx("button",{className:"guest-btn",onClick:()=>e("login"),children:" "})]})})}const Bu=[{value:"",label:" "},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"(,)",label:"(,)"},{value:"(,)",label:"(,)"},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}];function Rh({setPage:e,guildLogo:t,setGuildLogo:s}){const{user:a,updateUser:l,isLoggedIn:r,checkAuth:i}=Pe(),[o,c]=m.useState("profile"),[v,N]=m.useState("posts"),p=(a==null?void 0:a.role)==="master"||(a==null?void 0:a.role)==="submaster";if(!r)return e("login"),null;const g=[{id:"profile",label:" "},{id:"activity",label:" "},...p?[{id:"admin",label:""}]:[]];return n.jsxs("div",{className:"page-content",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("button",{className:"back-btn",onClick:()=>e("main"),children:" "}),n.jsx("h1",{children:""})]}),n.jsx("div",{className:"settings-tabs",children:g.map(S=>n.jsx("button",{className:`settings-tab ${o===S.id?"active":""}`,onClick:()=>c(S.id),children:S.label},S.id))}),n.jsxs("div",{className:"settings-content",children:[o==="profile"&&n.jsx(Dh,{user:a,updateUser:l,checkAuth:i,guildLogo:t,setGuildLogo:s,isAdmin:p}),o==="activity"&&n.jsx(Lh,{activeSubTab:v,setActiveSubTab:N,setPage:e}),o==="admin"&&p&&n.jsx(Th,{setPage:e})]})]})}function Dh({user:e,updateUser:t,checkAuth:s,guildLogo:a,setGuildLogo:l,isAdmin:r}){const[i,o]=m.useState(!1),[c,v]=m.useState((e==null?void 0:e.default_icon)||null),N=m.useRef(null),p=m.useRef(null),[g,S]=m.useState((e==null?void 0:e.profile_zoom)||localStorage.getItem("profileZoom")||"1");m.useEffect(()=>{e!=null&&e.profile_zoom&&S(e.profile_zoom)},[e==null?void 0:e.profile_zoom]);const[E,C]=m.useState({job:(e==null?void 0:e.job)||"",level:(e==null?void 0:e.level)||"",discord:(e==null?void 0:e.discord)||""}),[I,f]=m.useState(!1),u=async x=>{S(x),localStorage.setItem("profileZoom",x);try{await $.updateProfile({profile_zoom:x}),await s()}catch(y){console.error("Failed to save zoom:",y)}},h=async x=>{const y=x.target.files[0];if(!y)return;const b=new FileReader;b.onloadend=()=>{l(b.result),localStorage.setItem("guildLogo",b.result)},b.readAsDataURL(y)},j=async x=>{var b;const y=x.target.files[0];if(y){o(!0);try{const P=await $.uploadProfileImage(y);t({profile_image:(b=P.data)==null?void 0:b.url}),alert("  .")}catch(P){alert(P.message)}o(!1)}},k=async()=>{f(!0);try{await $.updateProfile({job:E.job,level:parseInt(E.level)||(e==null?void 0:e.level),discord:E.discord,default_icon:c}),await s(),alert(" .")}catch(x){alert(x.message)}f(!1)},w=()=>{l(null),localStorage.removeItem("guildLogo")};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"settings-section",children:[n.jsx("h3",{children:" "}),n.jsxs("div",{className:"profile-settings",children:[n.jsxs("div",{className:"profile-image-area",children:[n.jsxs("div",{className:"current-profile",onClick:()=>{var x;return(x=p.current)==null?void 0:x.click()},children:[e!=null&&e.profile_image?n.jsx("img",{src:be(e.profile_image),alt:"",style:{transform:`scale(${g})`}}):c?n.jsx("div",{className:"no-profile selected-icon",children:n.jsx("span",{children:st(c)})}):n.jsx("div",{className:"no-profile",children:n.jsx("span",{children:""})}),n.jsx("div",{className:"logo-overlay",children:n.jsx("span",{children:i?" ...":" "})})]}),n.jsx("input",{ref:p,type:"file",accept:"image/*",onChange:j,style:{display:"none"}}),(e==null?void 0:e.profile_image)&&n.jsxs("div",{className:"profile-zoom-settings",children:[n.jsx("label",{children:"  "}),n.jsx("div",{className:"zoom-buttons",children:["1","1.5","2","3"].map(x=>n.jsxs("button",{className:`zoom-btn ${g===x?"active":""}`,onClick:()=>u(x),children:["x",x]},x))})]}),n.jsx("p",{className:"profile-hint",children:"    "})]}),n.jsxs("div",{className:"default-icons-section",children:[n.jsx("label",{children:" "}),n.jsx("div",{className:"default-icons-grid",children:Gu.map(x=>n.jsx("button",{type:"button",className:`icon-option ${c===x.id?"selected":""}`,onClick:async()=>{v(x.id);try{await $.updateProfile({...E,default_icon:x.id,clear_profile_image:!0}),await s(),alert(" .")}catch(y){alert("  : "+y.message)}},title:x.label,children:x.icon},x.id))})]}),n.jsxs("div",{className:"profile-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:" "}),n.jsx("input",{type:"text",value:(e==null?void 0:e.character_name)||"",disabled:!0})]}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:""}),n.jsx("select",{value:E.job,onChange:x=>C({...E,job:x.target.value}),className:"job-select",children:Bu.map(x=>n.jsx("option",{value:x.value,children:x.label},x.value))})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:""}),n.jsx("input",{type:"number",value:E.level,onChange:x=>C({...E,level:x.target.value}),placeholder:"",min:"1",max:"300"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:""}),n.jsx("input",{type:"text",value:E.discord,onChange:x=>C({...E,discord:x.target.value}),placeholder:" "})]}),n.jsx("button",{className:"save-btn",onClick:k,disabled:I,children:I?" ...":" "})]})]})]}),r&&n.jsxs("div",{className:"settings-section",children:[n.jsx("h3",{children:" "}),n.jsxs("div",{className:"logo-upload-area",children:[n.jsxs("div",{className:"current-logo",onClick:()=>{var x;return(x=N.current)==null?void 0:x.click()},children:[a?n.jsx("img",{src:a,alt:" "}):n.jsxs("div",{className:"no-logo",children:[n.jsx("span",{children:""}),n.jsx("p",{children:" "})]}),n.jsx("div",{className:"logo-overlay",children:n.jsx("span",{children:" "})})]}),n.jsx("input",{ref:N,type:"file",accept:"image/*",onChange:h,style:{display:"none"}}),n.jsxs("div",{className:"logo-info",children:[n.jsx("p",{children:": 200x200px"}),n.jsx("p",{children:": PNG, JPG"}),a&&n.jsx("button",{className:"remove-logo",onClick:w,children:""})]})]})]})]})}function Lh({activeSubTab:e,setActiveSubTab:t,setPage:s}){const[a,l]=m.useState([]),[r,i]=m.useState([]),[o,c]=m.useState([]),[v,N]=m.useState([]),[p,g]=m.useState(!1),[S,E]=m.useState(!1),[C,I]=m.useState({page:1,limit:10,total:0,totalPages:0,hasMore:!0}),[f,u]=m.useState({page:1,limit:10,total:0,totalPages:0,hasMore:!0}),[h,j]=m.useState({page:1,limit:12,total:0,totalPages:0,hasMore:!0}),[k,w]=m.useState({page:1,limit:10,total:0,totalPages:0,hasMore:!0}),x=[{id:"posts",label:"  "},{id:"comments",label:" "},{id:"gallery",label:" "},{id:"events",label:" "}];m.useEffect(()=>{y(1,!0)},[e]);const y=async(d=1,R=!1)=>{R?g(!0):E(!0);try{if(e==="posts"){const F=await $.getMyPosts({page:d,limit:C.limit}),U=F.data||[],z=F.meta||{};l(R?U:D=>[...D,...U]),I({page:z.page||d,limit:z.limit||C.limit,total:z.total||0,totalPages:z.totalPages||1,hasMore:d<(z.totalPages||1)})}else if(e==="comments"){const F=await $.getMyComments({page:d,limit:f.limit}),U=F.data||[],z=F.meta||{};i(R?U:D=>[...D,...U]),u({page:z.page||d,limit:z.limit||f.limit,total:z.total||0,totalPages:z.totalPages||1,hasMore:d<(z.totalPages||1)})}else if(e==="gallery"){const F=await $.getMyGallery({page:d,limit:h.limit}),U=F.data||[],z=F.meta||{};c(R?U:D=>[...D,...U]),j({page:z.page||d,limit:z.limit||h.limit,total:z.total||0,totalPages:z.totalPages||1,hasMore:d<(z.totalPages||1)})}else if(e==="events"){const F=await $.getMyEvents({page:d,limit:k.limit}),U=F.data||[],z=F.meta||{};N(R?U:D=>[...D,...U]),w({page:z.page||d,limit:z.limit||k.limit,total:z.total||0,totalPages:z.totalPages||1,hasMore:d<(z.totalPages||1)})}}catch(F){console.error("Failed to load data:",F)}g(!1),E(!1)},b=()=>{S||(e==="posts"&&C.hasMore?y(C.page+1,!1):e==="comments"&&f.hasMore?y(f.page+1,!1):e==="gallery"&&h.hasMore?y(h.page+1,!1):e==="events"&&k.hasMore&&y(k.page+1,!1))},P=d=>{if(!d)return"";const R=new Date(d);return`${R.getFullYear()}.${String(R.getMonth()+1).padStart(2,"0")}.${String(R.getDate()).padStart(2,"0")}`},M=async d=>{if(confirm(" ?"))try{await $.deletePost(d),alert("."),y(1,!0)}catch(R){alert(R.message)}},L=async d=>{if(confirm(" ?"))try{await $.deleteGallery(d),alert("."),y(1,!0)}catch(R){alert(R.message)}};return n.jsxs("div",{className:"activity-tab",children:[n.jsx("div",{className:"sub-tabs",children:x.map(d=>n.jsx("button",{className:`sub-tab ${e===d.id?"active":""}`,onClick:()=>t(d.id),children:d.label},d.id))}),p?n.jsx("div",{className:"loading",children:" ..."}):n.jsxs("div",{className:"activity-content",children:[e==="posts"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"my-posts-list",children:a.length===0?n.jsx("div",{className:"empty-message",children:"  ."}):a.map(d=>n.jsxs("div",{className:"my-item",children:[n.jsxs("div",{className:"my-item-main",children:[n.jsx("span",{className:"my-item-category",children:d.category_name||""}),n.jsx("span",{className:"my-item-title",children:d.title})]}),n.jsxs("div",{className:"my-item-meta",children:[n.jsx("span",{className:"my-item-date",children:P(d.created_at)}),n.jsxs("span",{className:"my-item-stats",children:[" ",d.view_count||0,"   ",d.comment_count||0,"   ",d.like_count||0]})]}),n.jsxs("div",{className:"my-item-actions",children:[n.jsx("button",{className:"btn-small",onClick:()=>s(d.category_slug||"showoff"),children:""}),n.jsx("button",{className:"btn-small btn-danger",onClick:()=>M(d.id),children:""})]})]},d.id))}),C.hasMore&&a.length>0&&n.jsx("div",{className:"load-more-container",children:n.jsx("button",{className:"load-more-btn",onClick:b,disabled:S,children:S?" ...":`  (${a.length}/${C.total})`})}),a.length>0&&n.jsxs("div",{className:"pagination-info",children:[" ",C.total," "]})]}),e==="comments"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"my-comments-list",children:r.length===0?n.jsx("div",{className:"empty-message",children:"  ."}):r.map(d=>n.jsxs("div",{className:"my-item",children:[n.jsxs("div",{className:"my-item-main",children:[n.jsx("span",{className:"my-item-category",children:""}),n.jsx("span",{className:"my-item-content",children:d.content})]}),n.jsxs("div",{className:"my-item-meta",children:[n.jsxs("span",{className:"my-item-post",children:[": ",d.post_title]}),n.jsx("span",{className:"my-item-date",children:P(d.created_at)})]}),n.jsx("div",{className:"my-item-actions",children:n.jsx("button",{className:"btn-small",onClick:()=>s(d.category_slug||"showoff"),children:" "})})]},d.id))}),f.hasMore&&r.length>0&&n.jsx("div",{className:"load-more-container",children:n.jsx("button",{className:"load-more-btn",onClick:b,disabled:S,children:S?" ...":`  (${r.length}/${f.total})`})}),r.length>0&&n.jsxs("div",{className:"pagination-info",children:[" ",f.total," "]})]}),e==="gallery"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"my-gallery-grid",children:o.length===0?n.jsx("div",{className:"empty-message",children:"  ."}):o.map(d=>n.jsxs("div",{className:"my-gallery-item",children:[n.jsx("div",{className:"my-gallery-thumb",children:n.jsx("img",{src:be(d.image_url),alt:d.title})}),n.jsxs("div",{className:"my-gallery-info",children:[n.jsx("span",{className:"my-gallery-title",children:d.title}),n.jsx("span",{className:"my-gallery-date",children:P(d.created_at)}),n.jsxs("span",{className:"my-gallery-stats",children:[" ",d.view_count||0,"   ",d.like_count||0]})]}),n.jsxs("div",{className:"my-item-actions",children:[n.jsx("button",{className:"btn-small",onClick:()=>s("gallery"),children:""}),n.jsx("button",{className:"btn-small btn-danger",onClick:()=>L(d.id),children:""})]})]},d.id))}),h.hasMore&&o.length>0&&n.jsx("div",{className:"load-more-container",children:n.jsx("button",{className:"load-more-btn",onClick:b,disabled:S,children:S?" ...":`  (${o.length}/${h.total})`})}),o.length>0&&n.jsxs("div",{className:"pagination-info",children:[" ",h.total," "]})]}),e==="events"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"my-events-list",children:v.length===0?n.jsx("div",{className:"empty-message",children:"  ."}):v.map(d=>n.jsxs("div",{className:"my-item my-event-item",children:[n.jsxs("div",{className:"my-event-date-box",children:[n.jsxs("span",{className:"event-month",children:[new Date(d.event_date).getMonth()+1,""]}),n.jsx("span",{className:"event-day",children:new Date(d.event_date).getDate()})]}),n.jsxs("div",{className:"my-item-main",children:[n.jsx("span",{className:"my-item-title",children:d.title}),n.jsx("span",{className:"my-item-desc",children:d.description})]}),n.jsxs("div",{className:"my-item-meta",children:[n.jsxs("span",{className:"my-item-time",children:[" ",d.event_time]}),n.jsx("span",{className:`participation-status ${d.participation_status}`,children:d.participation_status==="confirmed"?" ":""})]})]},d.id))}),k.hasMore&&v.length>0&&n.jsx("div",{className:"load-more-container",children:n.jsx("button",{className:"load-more-btn",onClick:b,disabled:S,children:S?" ...":`  (${v.length}/${k.total})`})}),v.length>0&&n.jsxs("div",{className:"pagination-info",children:[" ",k.total," "]})]})]})]})}function Th({setPage:e}){var fe,at,Qt,Gn;const{user:t}=Pe(),[s,a]=m.useState("pending"),[l,r]=m.useState([]),[i,o]=m.useState([]),[c,v]=m.useState(!1),[N,p]=m.useState(!1),[g,S]=m.useState(null),[E,C]=m.useState([]),[I,f]=m.useState(null),[u,h]=m.useState(null),[j,k]=m.useState(!1),[w,x]=m.useState(!1),[y,b]=m.useState("100"),[P,M]=m.useState(!1),[L,d]=m.useState(!1),[R,F]=m.useState(!1),[U,z]=m.useState(null),[D,A]=m.useState(""),[H,q]=m.useState(""),Q=(t==null?void 0:t.role)==="master",X=[{id:"pending",label:" "},{id:"members",label:" "},{id:"incubator",label:" "},{id:"rankings",label:" "},{id:"shortcuts",label:" "}];m.useEffect(()=>{se()},[s]);const se=async()=>{v(!0);try{if(s==="pending"){const T=await $.getMembers({pending:!0});r(T.data||[])}else if(s==="members"){const T=await $.getMembers({limit:100});o(T.data||[])}else if(s==="incubator"){const T=await $.getIncubatorAdminUsers();C(T.data||[])}}catch(T){console.error("Failed to load admin data:",T)}v(!1)},ae=async T=>{try{const ye=await $.getIncubatorUserInventory(T);h(ye.data),k(!0)}catch{alert("  .")}},de=async()=>{if(!I)return;const T=parseInt(y);if(isNaN(T)||T<=0){alert("  .");return}try{await $.grantIncubatorBonus(I.id,T),alert(`${I.character_name} ${T}  .`),x(!1),b("100"),se()}catch(ye){alert(ye.message||"  .")}},B=async T=>{if(!T.bonus_hatches||T.bonus_hatches<=0){alert("  .");return}if(confirm(`${T.character_name}  ${T.bonus_hatches}  ?`))try{await $.revokeIncubatorBonus(T.id),alert(`${T.character_name}  .`),se()}catch(ye){alert(ye.message||"  .")}},Z=async T=>{if(confirm(` ${T.character_name}    ?

, , ,   .
    .`))try{await $.resetIncubatorUser(T.id),alert(`${T.character_name}   .`),se()}catch(ye){alert(ye.message||"  .")}},K=async()=>{if(confirm(`    ?
    .`)){M(!0);try{await $.resetScrollRankings(),alert("   .")}catch(T){alert(T.message||"  .")}M(!1)}},ne=async()=>{if(confirm(`    ?
    .`)){d(!0);try{await $.resetChaosRankings(),alert("   .")}catch(T){alert(T.message||"  .")}d(!1)}},re=async T=>{try{await $.approveMember(T),alert(" ."),se()}catch(ye){alert(ye.message)}},me=async T=>{if(confirm("   ?"))try{await $.deleteMember(T),alert("  ."),se()}catch(ye){alert(ye.message)}},_=async(T,ye)=>{try{await $.updateMemberRole(T,ye),alert(" ."),p(!1),se()}catch(ie){alert(ie.message)}},O=T=>{S(T),p(!0)},W=T=>{var ye;z(T),A(T.job||""),q(((ye=T.level)==null?void 0:ye.toString())||""),F(!0)},Y=async()=>{if(U)try{await $.updateMemberProfile(U.id,{job:D,level:parseInt(H)||1}),alert(" ."),F(!1),se()}catch(T){alert(T.message)}},ee=T=>({master:" ",submaster:"",member:"",honorary:" "})[T]||T;return n.jsxs("div",{className:"admin-tab",children:[n.jsx("div",{className:"sub-tabs",children:X.map(T=>n.jsx("button",{className:`sub-tab ${s===T.id?"active":""}`,onClick:()=>a(T.id),children:T.label},T.id))}),c?n.jsx("div",{className:"loading",children:" ..."}):n.jsxs("div",{className:"admin-content",children:[s==="pending"&&n.jsx("div",{className:"pending-list",children:l.length===0?n.jsx("div",{className:"empty-message",children:"    ."}):l.map(T=>n.jsxs("div",{className:"pending-item",children:[n.jsx("div",{className:"pending-avatar",children:T.profile_image?n.jsx("img",{src:be(T.profile_image),alt:""}):n.jsx("span",{children:st(T.default_icon)})}),n.jsxs("div",{className:"pending-info",children:[n.jsx("span",{className:"pending-name",children:T.character_name}),n.jsxs("span",{className:"pending-detail",children:["Lv.",T.level," ",T.job]}),n.jsxs("span",{className:"pending-discord",children:["Discord: ",T.discord]})]}),n.jsxs("div",{className:"pending-actions",children:[n.jsx("button",{className:"btn-approve",onClick:()=>re(T.id),children:""}),n.jsx("button",{className:"btn-reject",onClick:()=>me(T.id),children:""})]})]},T.id))}),s==="members"&&n.jsx("div",{className:"members-manage-list",children:i.map(T=>n.jsxs("div",{className:"member-manage-item",children:[n.jsx("div",{className:"member-manage-avatar",children:T.profile_image?n.jsx("img",{src:be(T.profile_image),alt:"",style:{transform:`scale(${T.profile_zoom||1})`}}):n.jsx("span",{children:st(T.default_icon)})}),n.jsxs("div",{className:"member-manage-info",children:[n.jsx("span",{className:"member-manage-name",children:T.character_name}),n.jsxs("span",{className:"member-manage-detail",children:["Lv.",T.level," ",T.job]})]}),n.jsx("span",{className:`member-manage-role role-${T.role}`,children:ee(T.role)}),n.jsxs("div",{className:"member-manage-actions",children:[n.jsx("button",{className:"btn-small",onClick:()=>W(T),children:" "}),n.jsx("button",{className:"btn-small",onClick:()=>O(T),children:" "})]})]},T.id))}),s==="incubator"&&n.jsxs("div",{className:"incubator-admin",children:[n.jsx("div",{className:"incubator-admin-header",children:n.jsx("h4",{children:"  "})}),n.jsx("div",{className:"incubator-users-list",children:E.length===0?n.jsx("div",{className:"empty-message",children:" ."}):E.map(T=>n.jsxs("div",{className:"incubator-user-item",children:[n.jsxs("div",{className:"incubator-user-info",children:[n.jsx("span",{className:"incubator-user-name",children:T.character_name}),n.jsx("span",{className:`incubator-user-role role-${T.role}`,children:T.role==="master"?"":T.role==="submaster"?"":""})]}),n.jsxs("div",{className:"incubator-user-stats",children:[n.jsxs("span",{className:"stat-item",children:[" : ",n.jsx("strong",{children:T.total_hatches||0})]}),n.jsxs("span",{className:"stat-item legendary",children:[": ",n.jsx("strong",{children:T.legendary_inventory||0})]}),T.bonus_hatches>0&&n.jsxs("span",{className:"stat-item bonus",children:[": ",n.jsxs("strong",{children:["+",T.bonus_hatches]})]})]}),n.jsxs("div",{className:"incubator-user-actions",children:[n.jsx("button",{className:"btn-small",onClick:()=>{f(T),ae(T.id)},children:""}),Q&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"btn-small btn-bonus",onClick:()=>{f(T),x(!0)},children:" "}),T.bonus_hatches>0&&n.jsx("button",{className:"btn-small btn-revoke",onClick:()=>B(T),children:" "}),n.jsx("button",{className:"btn-small btn-reset-user",onClick:()=>Z(T),children:""})]})]})]},T.id))})]}),s==="rankings"&&n.jsxs("div",{className:"rankings-admin",children:[n.jsxs("div",{className:"rankings-admin-header",children:[n.jsx("h4",{children:"  "}),n.jsx("p",{className:"admin-warning",children:"     .  ."})]}),n.jsxs("div",{className:"rankings-reset-list",children:[n.jsxs("div",{className:"ranking-reset-item",children:[n.jsxs("div",{className:"ranking-reset-info",children:[n.jsx("span",{className:"ranking-name",children:"  "}),n.jsx("span",{className:"ranking-desc",children:"   (  )"})]}),n.jsx("button",{className:"btn-reset-ranking",onClick:K,disabled:P,children:P?" ...":" "})]}),n.jsxs("div",{className:"ranking-reset-item",children:[n.jsxs("div",{className:"ranking-reset-info",children:[n.jsx("span",{className:"ranking-name",children:"  "}),n.jsx("span",{className:"ranking-desc",children:"   (+  )"})]}),n.jsx("button",{className:"btn-reset-ranking",onClick:ne,disabled:L,children:L?" ...":" "})]})]})]}),s==="shortcuts"&&n.jsx("div",{className:"admin-shortcuts",children:n.jsxs("div",{className:"shortcut-grid",children:[n.jsxs("button",{className:"shortcut-btn",onClick:()=>e("notice"),children:[n.jsx("span",{className:"shortcut-icon",children:""}),n.jsx("span",{children:" "})]}),n.jsxs("button",{className:"shortcut-btn",onClick:()=>e("schedule"),children:[n.jsx("span",{className:"shortcut-icon",children:""}),n.jsx("span",{children:" "})]}),n.jsxs("button",{className:"shortcut-btn",onClick:()=>e("alliance"),children:[n.jsx("span",{className:"shortcut-icon",children:""}),n.jsx("span",{children:"  "})]}),n.jsxs("button",{className:"shortcut-btn",onClick:()=>e("attendance"),children:[n.jsx("span",{className:"shortcut-icon",children:""}),n.jsx("span",{children:"  "})]}),n.jsxs("button",{className:"shortcut-btn",onClick:()=>e("members"),children:[n.jsx("span",{className:"shortcut-icon",children:""}),n.jsx("span",{children:" "})]}),n.jsxs("button",{className:"shortcut-btn",onClick:()=>e("showoff"),children:[n.jsx("span",{className:"shortcut-icon",children:""}),n.jsx("span",{children:" "})]})]})})]}),n.jsx(ct,{isOpen:N,onClose:()=>p(!1),title:" ",children:g&&n.jsxs("div",{className:"role-change-modal",children:[n.jsxs("p",{children:[n.jsx("strong",{children:g.character_name}),"  ."]}),n.jsxs("div",{className:"role-options",children:[n.jsx("button",{className:`role-option ${g.role==="master"?"current":""}`,onClick:()=>_(g.id,"master"),children:" "}),n.jsx("button",{className:`role-option ${g.role==="submaster"?"current":""}`,onClick:()=>_(g.id,"submaster"),children:""}),n.jsx("button",{className:`role-option ${g.role==="member"?"current":""}`,onClick:()=>_(g.id,"member"),children:""}),n.jsx("button",{className:`role-option ${g.role==="honorary"?"current":""}`,onClick:()=>_(g.id,"honorary"),children:" "})]})]})}),n.jsx(ct,{isOpen:j,onClose:()=>k(!1),title:((fe=u==null?void 0:u.user)==null?void 0:fe.character_name)+" ",children:u&&n.jsxs("div",{className:"inventory-modal",children:[n.jsxs("div",{className:"inventory-stats",children:[n.jsxs("div",{className:"stat-box",children:[n.jsx("span",{className:"label",children:" "}),n.jsx("span",{className:"value",children:((at=u.todayStats)==null?void 0:at.totalHatches)||0})]}),n.jsxs("div",{className:"stat-box",children:[n.jsx("span",{className:"label",children:" "}),n.jsx("span",{className:"value bonus",children:u.bonusHatches||0})]})]}),n.jsx("div",{className:"inventory-grid-modal",children:((Qt=u.inventory)==null?void 0:Qt.length)===0?n.jsx("div",{className:"empty-message",children:" ."}):(Gn=u.inventory)==null?void 0:Gn.map(T=>n.jsxs("div",{className:`inventory-item-modal rate-${T.rate<1?"legendary":T.rate<3?"rare":"common"}`,children:[n.jsx("span",{className:"item-name",children:T.name}),n.jsxs("span",{className:"item-count",children:["x",T.count]})]},T.item_id))})]})}),n.jsx(ct,{isOpen:w,onClose:()=>x(!1),title:"   ",children:I&&n.jsxs("div",{className:"bonus-modal",children:[n.jsxs("p",{children:[n.jsx("strong",{children:I.character_name}),"    ."]}),n.jsxs("p",{className:"current-bonus",children:[" : ",I.bonus_hatches||0,""]}),n.jsxs("div",{className:"bonus-input-group",children:[n.jsx("label",{children:" "}),n.jsx("input",{type:"number",value:y,onChange:T=>b(T.target.value),min:"1",max:"10000",placeholder:"100"})]}),n.jsxs("div",{className:"bonus-presets",children:[n.jsx("button",{onClick:()=>b("100"),children:"100"}),n.jsx("button",{onClick:()=>b("500"),children:"500"}),n.jsx("button",{onClick:()=>b("1000"),children:"1000"}),n.jsx("button",{onClick:()=>b("3000"),children:"3000"})]}),n.jsx("button",{className:"btn-grant-bonus",onClick:de,children:""})]})}),n.jsx(ct,{isOpen:R,onClose:()=>F(!1),title:"  ",children:U&&n.jsxs("div",{className:"profile-edit-modal",children:[n.jsxs("p",{children:[n.jsx("strong",{children:U.character_name}),"  ."]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:""}),n.jsx("select",{value:D,onChange:T=>A(T.target.value),className:"job-select",children:Bu.map(T=>n.jsx("option",{value:T.value,children:T.label},T.value))})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:""}),n.jsx("input",{type:"number",value:H,onChange:T=>q(T.target.value),min:"1",max:"300",placeholder:""})]}),n.jsx("button",{className:"btn-save-profile",onClick:Y,children:""})]})})]})}function $h({setPage:e,selectedNotice:t,setSelectedNotice:s}){var L;const{user:a,isLoggedIn:l}=Pe(),[r,i]=m.useState([]),[o,c]=m.useState(!0),[v,N]=m.useState(!1),[p,g]=m.useState(null),[S,E]=m.useState(!1),[C,I]=m.useState({title:"",content:"",is_important:!1}),[f,u]=m.useState(!1),h=(a==null?void 0:a.role)==="master"||(a==null?void 0:a.role)==="submaster";m.useEffect(()=>{j()},[]),m.useEffect(()=>{t&&(g(t),s==null||s(null))},[t]);const j=async()=>{try{const d=await $.getNotices();i(d.data||[])}catch(d){console.error("Failed to load notices:",d)}c(!1)},k=()=>{if(!l){alert(" ."),e("login");return}if(!h){alert("  / .");return}E(!1),I({title:"",content:"",is_important:!1}),N(!0)},w=d=>{E(!0),I({id:d.id,title:d.title,content:d.content,is_important:d.is_important||!1}),g(null),N(!0)},x=async d=>{if(d.preventDefault(),!C.title.trim()||!C.content.trim()){alert("  .");return}u(!0);try{S?await $.updateNotice(C.id,{title:C.title,content:C.content,is_important:C.is_important}):await $.createNotice({title:C.title,content:C.content,is_important:C.is_important}),b(),j()}catch(R){alert(R.message)}u(!1)},y=async d=>{if(confirm(" ?"))try{await $.deleteNotice(d),g(null),j()}catch(R){alert(R.message)}},b=()=>{N(!1),I({title:"",content:"",is_important:!1}),E(!1)},P=d=>{if(!d)return"";const R=new Date(d),F=R.getFullYear(),U=String(R.getMonth()+1).padStart(2,"0"),z=String(R.getDate()).padStart(2,"0"),D=String(R.getHours()).padStart(2,"0"),A=String(R.getMinutes()).padStart(2,"0");return`${F}.${U}.${z} ${D}:${A}`},M=d=>{if(!d)return"";const R=new Date(d),U=new Date-R,z=Math.floor(U/(1e3*60*60)),D=Math.floor(U/(1e3*60*60*24));return z<1?" ":z<24?`${z} `:D<7?`${D} `:`${R.getMonth()+1}/${R.getDate()}`};return n.jsxs("div",{className:"page-content",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("button",{className:"back-btn",onClick:()=>e("main"),children:" "}),n.jsx("h1",{children:""}),h&&n.jsx("button",{className:"write-btn",onClick:k,children:""})]}),n.jsx(ct,{isOpen:v,onClose:b,title:S?" ":" ",children:n.jsxs("form",{className:"write-form",onSubmit:x,children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:""}),n.jsx("input",{type:"text",placeholder:" ",value:C.title,onChange:d=>I({...C,title:d.target.value})})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:""}),n.jsx("textarea",{placeholder:"  ",rows:"8",value:C.content,onChange:d=>I({...C,content:d.target.value})})]}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:C.is_important,onChange:d=>I({...C,is_important:d.target.checked})}),n.jsx("span",{children:"   ( )"})]})}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"button",onClick:b,children:""}),n.jsx("button",{type:"submit",className:"primary",disabled:f,children:f?" ...":S?"":""})]})]})}),p&&n.jsx("div",{className:"modal-overlay",onClick:()=>g(null),children:n.jsxs("div",{className:"modal-content notice-detail-modal",onClick:d=>d.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("div",{className:"notice-detail-header",children:[p.is_important&&n.jsx("span",{className:"notice-tag important",children:""}),n.jsx("h3",{children:p.title})]}),n.jsx("button",{className:"close-btn",onClick:()=>g(null),children:""})]}),n.jsxs("div",{className:"notice-detail-body",children:[n.jsxs("div",{className:"notice-detail-meta",children:[n.jsx("span",{className:"notice-author",children:((L=p.user)==null?void 0:L.character_name)||""}),n.jsx("span",{className:"notice-date",children:P(p.created_at)})]}),n.jsx("div",{className:"notice-detail-content",children:p.content}),h&&n.jsxs("div",{className:"notice-detail-actions",children:[n.jsx("button",{className:"edit-btn",onClick:()=>w(p),children:""}),n.jsx("button",{className:"delete-btn",onClick:()=>y(p.id),children:""})]})]})]})}),o?n.jsx("div",{className:"loading",children:" ..."}):n.jsx("div",{className:"notice-list",children:r.length===0?n.jsx("div",{className:"empty-message",children:" ."}):n.jsxs(n.Fragment,{children:[r.filter(d=>d.is_important).map((d,R)=>{var F;return n.jsxs("div",{className:"notice-list-item important",onClick:()=>g(d),children:[n.jsxs("div",{className:"notice-list-header",children:[n.jsx("span",{className:"notice-tag important",children:""}),n.jsx("span",{className:"notice-title",children:d.title})]}),n.jsxs("div",{className:"notice-list-meta",children:[n.jsx("span",{className:"notice-author",children:((F=d.user)==null?void 0:F.character_name)||""}),n.jsx("span",{className:"notice-time",children:M(d.created_at)})]})]},d.id||R)}),r.filter(d=>!d.is_important).map((d,R)=>{var F;return n.jsxs("div",{className:"notice-list-item",onClick:()=>g(d),children:[n.jsx("div",{className:"notice-list-header",children:n.jsx("span",{className:"notice-title",children:d.title})}),n.jsxs("div",{className:"notice-list-meta",children:[n.jsx("span",{className:"notice-author",children:((F=d.user)==null?void 0:F.character_name)||""}),n.jsx("span",{className:"notice-time",children:M(d.created_at)})]})]},d.id||R)})]})})]})}function Fh({setPage:e}){const{user:t,isLoggedIn:s}=Pe(),[a,l]=m.useState(new Date),[r,i]=m.useState([]),[o,c]=m.useState(null),[v,N]=m.useState([]),[p,g]=m.useState(null),[S,E]=m.useState(!0),[C,I]=m.useState(!1),[f,u]=m.useState(!1),[h,j]=m.useState(!1),[k,w]=m.useState([]),[x,y]=m.useState(null),[b,P]=m.useState(!1),[M,L]=m.useState({year:new Date().getFullYear(),month:new Date().getMonth()+1,reward_5:"",reward_10:"",reward_15:"",reward_20:"",reward_full:""}),d=(t==null?void 0:t.role)==="master"||(t==null?void 0:t.role)==="submaster";m.useEffect(()=>{R()},[s]),m.useEffect(()=>{s&&F(a.getFullYear(),a.getMonth()+1)},[a,s]);const R=async()=>{try{const[_,O]=await Promise.all([$.getAttendanceRanking().catch(()=>({data:[]})),$.getAttendanceBenefits().catch(()=>({data:null}))]);if(N(_.data||[]),g(O.data),s){const[W,Y]=await Promise.all([$.getAttendance(),$.getAttendanceStats()]);i(W.data||[]),c(Y.data);const ee=new Date().toISOString().split("T")[0],fe=(W.data||[]).some(at=>at.check_date===ee);u(fe)}}catch(_){console.error("Failed to load data:",_)}E(!1)},F=async(_,O)=>{if(s)try{const W=await $.getAttendanceByMonth(_,O);i(W.data||[])}catch(W){console.error("Failed to load month attendance:",W)}},U=async()=>{if(!s){alert(" ."),e("login");return}I(!0);try{const _=await $.checkAttendance();u(!0),await R(),alert(`${_.data.message}  ${_.data.streak}!`)}catch(_){alert(_.message)}I(!1)},z=async()=>{try{const _=await $.getAllUsersAttendance(a.getFullYear(),a.getMonth()+1);w(_.data||[])}catch(_){console.error("Failed to load all users attendance:",_)}},D=async _=>{_.preventDefault();try{await $.saveAttendanceBenefits(M),alert(" ."),P(!1),R()}catch(O){alert(O.message)}},A=a.getFullYear(),H=a.getMonth(),q=new Date(A,H+1,0).getDate(),Q=new Date(A,H,1).getDay(),X=new Date,se=X.getFullYear()===A&&X.getMonth()===H,ae=m.useMemo(()=>new Set(r.map(_=>_.check_date)),[r]),de=m.useMemo(()=>{const _=[];for(let O=0;O<Q;O++)_.push({day:null,isCurrentMonth:!1});for(let O=1;O<=q;O++){const W=`${A}-${String(H+1).padStart(2,"0")}-${String(O).padStart(2,"0")}`,Y=se&&X.getDate()===O,ee=ae.has(W),fe=new Date(W)<new Date(X.toISOString().split("T")[0]);_.push({day:O,dateStr:W,isToday:Y,isChecked:ee,isPast:fe,isCurrentMonth:!0})}return _},[A,H,q,Q,ae,se,X]),B=r.length,Z=()=>{l(new Date(A,H-1,1))},K=()=>{l(new Date(A,H+1,1))},ne=()=>{l(new Date)},re=_=>[5,10,15,20].map(W=>({days:W,achieved:_>=W,reward:(p==null?void 0:p[`reward_${W}`])||"-"})),me=["","","","","","",""];return S?n.jsx("div",{className:"page-content",children:n.jsx("div",{className:"loading",children:" ..."})}):n.jsxs("div",{className:"page-content attendance-page",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("button",{className:"back-btn",onClick:()=>e("main"),children:" "}),n.jsx("h1",{children:""}),d&&n.jsx("button",{className:"write-btn",onClick:()=>{j(!h),h||z()},children:h?" ":" "})]}),d&&h&&n.jsxs("div",{className:"admin-panel",children:[n.jsxs("div",{className:"admin-header",children:[n.jsx("h2",{children:" "}),n.jsx("button",{className:"benefit-btn",onClick:()=>{L({year:A,month:H+1,reward_5:(p==null?void 0:p.reward_5)||"",reward_10:(p==null?void 0:p.reward_10)||"",reward_15:(p==null?void 0:p.reward_15)||"",reward_20:(p==null?void 0:p.reward_20)||"",reward_full:(p==null?void 0:p.reward_full)||""}),P(!0)},children:"   "})]}),n.jsxs("div",{className:"users-attendance-list",children:[n.jsxs("div",{className:"list-header",children:[n.jsx("span",{className:"col-name",children:""}),n.jsx("span",{className:"col-count",children:""}),n.jsx("span",{className:"col-streak",children:""}),n.jsx("span",{className:"col-last",children:" "})]}),k.map((_,O)=>n.jsxs("div",{className:"user-attendance-row",onClick:()=>y(_),children:[n.jsxs("div",{className:"col-name",children:[n.jsx("div",{className:"user-avatar-small",children:_.profile_image?n.jsx("img",{src:be(_.profile_image),alt:"",style:{transform:`scale(${_.profile_zoom||1})`}}):n.jsx("span",{children:st(_.default_icon)})}),n.jsx("span",{children:_.character_name})]}),n.jsxs("span",{className:"col-count",children:[_.month_count||0,""]}),n.jsxs("span",{className:"col-streak",children:[_.current_streak||0,""]}),n.jsx("span",{className:"col-last",children:_.last_check_date?_.last_check_date.slice(5):"-"})]},O))]})]}),(!d||!h)&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"attendance-summary",children:[n.jsxs("div",{className:"summary-card main-card",children:[n.jsx("div",{className:"card-icon icon-calendar"}),n.jsxs("div",{className:"card-content",children:[n.jsxs("span",{className:"card-value",children:[B,n.jsx("span",{className:"unit",children:""})]}),n.jsx("span",{className:"card-label",children:"  "})]})]}),n.jsxs("div",{className:"summary-card streak-card",children:[n.jsx("div",{className:"card-icon icon-streak"}),n.jsxs("div",{className:"card-content",children:[n.jsxs("span",{className:"card-value",children:[(o==null?void 0:o.current_streak)||0,n.jsx("span",{className:"unit",children:""})]}),n.jsx("span",{className:"card-label",children:" "})]})]}),n.jsxs("div",{className:"summary-card record-card",children:[n.jsx("div",{className:"card-icon icon-trophy"}),n.jsxs("div",{className:"card-content",children:[n.jsxs("span",{className:"card-value",children:[(o==null?void 0:o.max_streak)||0,n.jsx("span",{className:"unit",children:""})]}),n.jsx("span",{className:"card-label",children:" "})]})]}),n.jsxs("div",{className:"summary-card total-card",children:[n.jsx("div",{className:"card-icon icon-total"}),n.jsxs("div",{className:"card-content",children:[n.jsxs("span",{className:"card-value",children:[(o==null?void 0:o.total_checks)||0,n.jsx("span",{className:"unit",children:""})]}),n.jsx("span",{className:"card-label",children:" "})]})]})]}),n.jsx("div",{className:"check-section",children:s?f?n.jsx("div",{className:"checked-stamp",children:n.jsxs("div",{className:"stamp-inner",children:[n.jsx("div",{className:"stamp-check"}),n.jsx("span",{className:"stamp-text",children:"  "}),n.jsxs("span",{className:"stamp-date",children:[new Date().getMonth()+1,".",new Date().getDate()]})]})}):n.jsx("button",{className:"check-btn",onClick:U,disabled:C,children:C?" ...":""}):n.jsx("button",{className:"check-btn login-required",onClick:()=>e("login"),children:" "})}),n.jsxs("div",{className:"calendar-section",children:[n.jsxs("div",{className:"calendar-header",children:[n.jsx("button",{className:"nav-btn",onClick:Z,children:""}),n.jsxs("div",{className:"month-display",children:[n.jsxs("span",{className:"year",children:[A,""]}),n.jsxs("span",{className:"month",children:[H+1,""]}),!se&&n.jsx("button",{className:"today-btn",onClick:ne,children:""})]}),n.jsx("button",{className:"nav-btn",onClick:K,children:""})]}),n.jsxs("div",{className:"calendar-grid",children:[n.jsx("div",{className:"weekday-row",children:me.map((_,O)=>n.jsx("div",{className:`weekday ${O===0?"sun":O===6?"sat":""}`,children:_},O))}),n.jsx("div",{className:"days-grid",children:de.map((_,O)=>n.jsx("div",{className:`day-cell ${_.isCurrentMonth?"":"empty"} ${_.isToday?"today":""} ${_.isChecked?"checked":""} ${_.isPast&&!_.isChecked&&_.isCurrentMonth?"missed":""}`,children:_.day&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"day-number",children:_.day}),_.isChecked&&n.jsx("span",{className:"check-mark",children:""})]})},O))})]})]}),n.jsxs("div",{className:"benefits-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsx("div",{className:"header-line"}),n.jsxs("h2",{children:[H+1,"  "]}),n.jsx("div",{className:"header-line"})]}),n.jsxs("div",{className:"benefits-grid",children:[re(B).map((_,O)=>n.jsxs("div",{className:`benefit-card ${_.achieved?"achieved":""}`,children:[n.jsxs("div",{className:"benefit-progress",children:[n.jsxs("svg",{viewBox:"0 0 36 36",className:"circular-progress",children:[n.jsx("path",{className:"circle-bg",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"}),n.jsx("path",{className:"circle-fill",strokeDasharray:`${Math.min(B/_.days*100,100)}, 100`,d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"})]}),n.jsx("span",{className:"benefit-days",children:_.days})]}),n.jsxs("div",{className:"benefit-info",children:[n.jsx("span",{className:"benefit-reward",children:_.reward||""}),_.achieved&&n.jsx("span",{className:"achieved-mark"})]})]},O)),(p==null?void 0:p.reward_full)&&n.jsxs("div",{className:`benefit-card full ${B>=q?"achieved":""}`,children:[n.jsxs("div",{className:"benefit-progress",children:[n.jsxs("svg",{viewBox:"0 0 36 36",className:"circular-progress",children:[n.jsx("path",{className:"circle-bg",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"}),n.jsx("path",{className:"circle-fill",strokeDasharray:`${Math.min(B/q*100,100)}, 100`,d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"})]}),n.jsx("span",{className:"benefit-days full-text",children:"ALL"})]}),n.jsxs("div",{className:"benefit-info",children:[n.jsx("span",{className:"benefit-reward",children:p.reward_full}),B>=q&&n.jsx("span",{className:"achieved-mark"})]})]})]})]}),n.jsxs("div",{className:"ranking-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsx("div",{className:"header-line"}),n.jsx("h2",{children:" TOP 10"}),n.jsx("div",{className:"header-line"})]}),n.jsx("div",{className:"ranking-list",children:v.length===0?n.jsx("div",{className:"empty-message",children:"   ."}):v.map((_,O)=>n.jsxs("div",{className:`ranking-item rank-${O+1}`,children:[n.jsx("span",{className:`rank-badge rank-badge-${O+1}`,children:O<3?"":O+1}),n.jsxs("div",{className:"rank-user",children:[n.jsx("div",{className:"rank-avatar",children:_.profile_image?n.jsx("img",{src:be(_.profile_image),alt:"",style:{transform:`scale(${_.profile_zoom||1})`}}):n.jsx("span",{children:st(_.default_icon)})}),n.jsx("span",{className:"rank-name",children:_.character_name})]}),n.jsxs("div",{className:"rank-stats",children:[n.jsxs("span",{className:"total",children:[_.total_checks,n.jsx("small",{children:""})]}),n.jsxs("span",{className:"streak",children:[n.jsx("span",{className:"streak-icon"}),_.current_streak]})]})]},O))})]})]}),n.jsx(ct,{isOpen:b,onClose:()=>P(!1),title:`${M.year} ${M.month}   `,children:n.jsxs("form",{className:"benefit-form",onSubmit:D,children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"5  "}),n.jsx("input",{type:"text",placeholder:":  100",value:M.reward_5,onChange:_=>L({...M,reward_5:_.target.value})})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"10  "}),n.jsx("input",{type:"text",placeholder:":  300",value:M.reward_10,onChange:_=>L({...M,reward_10:_.target.value})})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"15  "}),n.jsx("input",{type:"text",placeholder:":  500",value:M.reward_15,onChange:_=>L({...M,reward_15:_.target.value})})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"20  "}),n.jsx("input",{type:"text",placeholder:":   100",value:M.reward_20,onChange:_=>L({...M,reward_20:_.target.value})})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"  ()"}),n.jsx("input",{type:"text",placeholder:":  ",value:M.reward_full,onChange:_=>L({...M,reward_full:_.target.value})})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"button",onClick:()=>P(!1),children:""}),n.jsx("button",{type:"submit",className:"primary",children:""})]})]})}),x&&n.jsx("div",{className:"modal-overlay",onClick:()=>y(null),children:n.jsxs("div",{className:"modal-content user-detail-modal",onClick:_=>_.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{children:[x.character_name,"  "]}),n.jsx("button",{className:"close-btn",onClick:()=>y(null),children:""})]}),n.jsxs("div",{className:"user-attendance-detail",children:[n.jsxs("div",{className:"detail-stats",children:[n.jsxs("div",{className:"stat-item",children:[n.jsx("span",{className:"stat-value",children:x.month_count||0}),n.jsx("span",{className:"stat-label",children:" "})]}),n.jsxs("div",{className:"stat-item",children:[n.jsx("span",{className:"stat-value",children:x.total_checks||0}),n.jsx("span",{className:"stat-label",children:""})]}),n.jsxs("div",{className:"stat-item",children:[n.jsx("span",{className:"stat-value",children:x.current_streak||0}),n.jsx("span",{className:"stat-label",children:""})]}),n.jsxs("div",{className:"stat-item",children:[n.jsx("span",{className:"stat-value",children:x.max_streak||0}),n.jsx("span",{className:"stat-label",children:""})]})]}),n.jsxs("div",{className:"detail-dates",children:[n.jsx("h4",{children:" "}),n.jsxs("div",{className:"dates-list",children:[(x.attendance_dates||[]).map((_,O)=>n.jsx("span",{className:"date-chip",children:_.slice(5)},O)),(!x.attendance_dates||x.attendance_dates.length===0)&&n.jsx("span",{className:"no-dates",children:"  ."})]})]})]})]})})]})}function Ah({setPage:e}){var f,u;const{isLoggedIn:t,user:s}=Pe(),[a,l]=m.useState(null),[r,i]=m.useState({}),[o,c]=m.useState({}),[v,N]=m.useState(!1);m.useEffect(()=>{p(),t&&g()},[t]);const p=async()=>{try{const h=await $.getAllGameRankings();i(h.data||{})}catch(h){console.error("Failed to load rankings:",h)}},g=async()=>{try{const h=await $.getMyGameScores();c(h.data||{})}catch(h){console.error("Failed to load my scores:",h)}};if(!t)return n.jsxs("div",{className:"page-content",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("button",{className:"back-btn",onClick:()=>e("main"),children:" "}),n.jsx("h1",{children:""})]}),n.jsxs("div",{className:"login-required-message",children:[n.jsx("div",{className:"lock-icon",children:""}),n.jsx("h2",{children:" "}),n.jsx("p",{children:"    ."}),n.jsx("button",{className:"login-btn",onClick:()=>e("login"),children:""})]})]});const S=[{id:"aimtrainer",name:" ",icon:"",desc:"  ",unit:"",best:"high"},{id:"colortest",name:"  ",icon:"",desc:"  ",unit:"",best:"high"},{id:"pattern",name:" ",icon:"",desc:"  ",unit:"",best:"high"},{id:"reaction",name:" ",icon:"",desc:" !",unit:"ms",best:"low"},{id:"memory",name:" ",icon:"",desc:" ",unit:"",best:"high"},{id:"number",name:" ",icon:"",desc:"  ",unit:"",best:"low"},{id:"game2048",name:"2048",icon:"",desc:"  2048 ",unit:"",best:"high"},{id:"snake",name:"Snake",icon:"",desc:" ",unit:"",best:"high"},{id:"flappy",name:" ",icon:"",desc:"  ",unit:"",best:"high"},{id:"typing",name:" ",icon:"",desc:"    ?",unit:"",best:"high"}],E=[{id:"ladder",name:" ",desc:" ?",color:"#e07020"},{id:"roulette",name:"",desc:"  ",color:"#9b59b6"},{id:"teammaker",name:" ",desc:"  ",color:"#27ae60"}],C=h=>{var j;return(j=o[h])==null?void 0:j.score},I=h=>{var j;return(j=o[h])==null?void 0:j.rank};return n.jsxs("div",{className:"page-content games-page-v2",children:[n.jsxs("div",{className:"page-header",children:[n.jsxs("button",{className:"back-btn",onClick:()=>a?l(null):e("main"),children:[" ",a?" ":""]}),n.jsx("h1",{children:a?((f=S.find(h=>h.id===a))==null?void 0:f.name)||((u=E.find(h=>h.id===a))==null?void 0:u.name):""}),!a&&n.jsx("button",{className:"ranking-toggle-btn",onClick:()=>N(!v),children:v?"  ":"  "})]}),a?n.jsxs("div",{className:"game-container",children:[a==="reaction"&&n.jsx(Oh,{user:s,onScoreUpdate:g}),a==="memory"&&n.jsx(Gh,{user:s,onScoreUpdate:g}),a==="typing"&&n.jsx(Bh,{user:s,onScoreUpdate:g}),a==="number"&&n.jsx(Uh,{user:s,onScoreUpdate:g}),a==="game2048"&&n.jsx(qh,{user:s,onScoreUpdate:g,onBack:()=>l(null)}),a==="aimtrainer"&&n.jsx(Qh,{user:s,onScoreUpdate:g}),a==="colortest"&&n.jsx(Kh,{user:s,onScoreUpdate:g}),a==="snake"&&n.jsx(Yh,{user:s,onScoreUpdate:g}),a==="flappy"&&n.jsx(Zh,{user:s,onScoreUpdate:g}),a==="pattern"&&n.jsx(Jh,{user:s,onScoreUpdate:g}),a==="ladder"&&n.jsx(Hh,{}),a==="roulette"&&n.jsx(Wh,{}),a==="teammaker"&&n.jsx(Vh,{})]}):v?n.jsx(zh,{rankings:r,games:S}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"games-hero-v2",children:[n.jsx("div",{className:"hero-bg-pattern"}),n.jsxs("div",{className:"hero-content",children:[n.jsx("div",{className:"hero-badge",children:"GUILD ARCADE"}),n.jsxs("h2",{className:"hero-title",children:[n.jsx("span",{className:"title-line",children:" "}),n.jsx("span",{className:"title-highlight",children:" "})]}),n.jsxs("div",{className:"hero-stats",children:[n.jsxs("div",{className:"stat-box",children:[n.jsx("span",{className:"stat-num",children:Object.values(r).reduce((h,j)=>h+((j==null?void 0:j.length)||0),0)}),n.jsx("span",{className:"stat-label",children:" "})]}),n.jsx("div",{className:"stat-divider"}),n.jsxs("div",{className:"stat-box",children:[n.jsx("span",{className:"stat-num",children:S.length}),n.jsx("span",{className:"stat-label",children:" "})]}),n.jsx("div",{className:"stat-divider"}),n.jsxs("div",{className:"stat-box",children:[n.jsx("span",{className:"stat-num",children:E.length}),n.jsx("span",{className:"stat-label",children:""})]})]})]})]}),n.jsxs("div",{className:"games-section-v2",children:[n.jsxs("div",{className:"section-title-v2",children:[n.jsx("div",{className:"title-icon",children:""}),n.jsxs("div",{className:"title-text",children:[n.jsx("h3",{children:" "}),n.jsx("p",{children:"    "})]})]}),n.jsx("div",{className:"games-grid-v2",children:S.map((h,j)=>{var k;return n.jsxs("div",{className:`game-card-v2 game-card-${h.id}`,onClick:()=>l(h.id),children:[n.jsx("div",{className:"card-glow"}),n.jsxs("div",{className:"card-content",children:[n.jsxs("div",{className:"card-header",children:[n.jsx("div",{className:"game-icon-v2",children:n.jsx("div",{className:"icon-shape"})}),n.jsxs("div",{className:"game-meta",children:[n.jsx("h4",{children:h.name}),n.jsx("p",{children:h.desc})]})]}),C(h.id)&&n.jsxs("div",{className:"my-record-v2",children:[n.jsx("div",{className:"record-label",children:" "}),n.jsxs("div",{className:"record-value",children:[C(h.id),n.jsx("span",{children:h.unit})]}),n.jsxs("div",{className:"record-rank",children:["#",I(h.id)]})]}),n.jsx("div",{className:"card-footer",children:((k=r[h.id])==null?void 0:k.length)>0?n.jsxs("div",{className:"top-player",children:[n.jsx("div",{className:"crown-badge",children:"1st"}),n.jsx("span",{className:"player-name",children:r[h.id][0].character_name}),n.jsxs("span",{className:"player-score",children:[r[h.id][0].score,h.unit]})]}):n.jsx("div",{className:"no-record",children:"   !"})})]}),n.jsxs("div",{className:"card-action",children:[n.jsx("span",{children:""}),n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]},h.id)})})]}),n.jsxs("div",{className:"utility-section-v2",children:[n.jsxs("div",{className:"section-title-v2",children:[n.jsx("div",{className:"title-icon",children:""}),n.jsxs("div",{className:"title-text",children:[n.jsx("h3",{children:""}),n.jsx("p",{children:"   "})]})]}),n.jsx("div",{className:"utility-grid-v2",children:E.map(h=>n.jsxs("div",{className:`utility-card-v2 utility-${h.id}`,style:{"--card-accent":h.color},onClick:()=>l(h.id),children:[n.jsx("div",{className:"utility-icon-v2",children:n.jsx("div",{className:"icon-inner"})}),n.jsxs("div",{className:"utility-info-v2",children:[n.jsx("h4",{children:h.name}),n.jsx("p",{children:h.desc})]}),n.jsx("div",{className:"utility-arrow-v2",children:n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})})]},h.id))})]})]})]})}function zh({rankings:e,games:t}){const[s,a]=m.useState("reaction"),[l,r]=m.useState([]),[i,o]=m.useState(!1);m.useEffect(()=>{c(s)},[s]);const c=async N=>{o(!0);try{const p=await $.getGameRankings(N,50);r(p.data||[])}catch(p){console.error("Failed to load rankings:",p)}o(!1)},v=t.find(N=>N.id===s);return n.jsxs("div",{className:"rankings-view",children:[n.jsx("div",{className:"ranking-tabs",children:t.map(N=>n.jsxs("button",{className:`ranking-tab ${s===N.id?"active":""}`,onClick:()=>a(N.id),children:[N.icon," ",N.name]},N.id))}),n.jsx("div",{className:"rankings-list",children:i?n.jsx("div",{className:"loading",children:" ..."}):l.length===0?n.jsx("div",{className:"empty-message",children:"  .    !"}):l.map((N,p)=>{var g,S,E;return n.jsxs("div",{className:`ranking-item ${p<3?`top-${p+1}`:""}`,children:[n.jsx("div",{className:"ranking-position",children:p===0?"":p===1?"":p===2?"":`#${p+1}`}),n.jsx("div",{className:"ranking-avatar",children:(g=N.user)!=null&&g.profile_image?n.jsx("img",{src:be(N.user.profile_image),alt:"",style:{transform:`scale(${N.user.profile_zoom||1})`}}):n.jsx("span",{children:st((S=N.user)==null?void 0:S.default_icon)})}),n.jsx("div",{className:"ranking-info",children:n.jsx("span",{className:"ranking-name",children:(E=N.user)==null?void 0:E.character_name})}),n.jsxs("div",{className:"ranking-score",children:[N.score,v==null?void 0:v.unit]})]},p)})})]})}function Oh({user:e,onScoreUpdate:t}){const[s,a]=m.useState("waiting"),[l,r]=m.useState(0),[i,o]=m.useState(0),[c,v]=m.useState(null),[N,p]=m.useState(null),[g,S]=m.useState([]),E=m.useRef(null);m.useEffect(()=>(C(),()=>clearTimeout(E.current)),[]);const C=async()=>{var h;try{const j=await $.getMyGameScores();(h=j.data)!=null&&h.reaction&&(v(j.data.reaction.score),p(j.data.reaction.rank))}catch{}},I=()=>{a("ready");const h=Math.random()*4e3+2e3;E.current=setTimeout(()=>{a("go"),r(performance.now())},h)},f=async()=>{var h;if(s==="waiting"||s==="result"||s==="early")I();else if(s==="ready")clearTimeout(E.current),a("early");else if(s==="go"){const j=Math.round(performance.now()-l);if(o(j),S(k=>[...k,j]),a("result"),!c||j<c)try{const k=await $.submitGameScore("reaction",j);(h=k.data)!=null&&h.isNewRecord&&(v(j),p(k.data.rank),t==null||t())}catch(k){console.error("Failed to submit score:",k)}}},u=()=>g.length===0?null:Math.round(g.reduce((h,j)=>h+j,0)/g.length);return n.jsxs("div",{className:"reaction-game",children:[n.jsxs("div",{className:"game-stats-bar",children:[c&&n.jsxs("div",{className:"stat-item best",children:[n.jsx("span",{className:"stat-label",children:" "}),n.jsxs("span",{className:"stat-value",children:[c,"ms"]}),N&&n.jsxs("span",{className:"stat-rank",children:["#",N]})]}),u()&&n.jsxs("div",{className:"stat-item",children:[n.jsxs("span",{className:"stat-label",children:[" (",g.length,")"]}),n.jsxs("span",{className:"stat-value",children:[u(),"ms"]})]})]}),n.jsxs("div",{className:`reaction-box ${s}`,onClick:f,children:[s==="waiting"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"reaction-icon",children:""}),n.jsx("div",{className:"reaction-text",children:" "}),n.jsx("div",{className:"reaction-sub",children:"    !"})]}),s==="ready"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"reaction-icon",children:""}),n.jsx("div",{className:"reaction-text",children:"..."}),n.jsx("div",{className:"reaction-sub",children:"  !"})]}),s==="go"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"reaction-icon",children:""}),n.jsx("div",{className:"reaction-text",children:"!"})]}),s==="early"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"reaction-icon",children:""}),n.jsx("div",{className:"reaction-text",children:" !"}),n.jsx("div",{className:"reaction-sub",children:"  "})]}),s==="result"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"reaction-time",children:[i,"ms"]}),n.jsx("div",{className:"reaction-rating",children:i<180?" !":i<220?"  !":i<280?" !":i<350?" ":"  !"}),n.jsx("div",{className:"reaction-sub",children:"  "})]})]}),g.length>0&&n.jsxs("div",{className:"attempts-history",children:[n.jsx("h4",{children:" "}),n.jsx("div",{className:"attempts-list",children:g.slice(-10).map((h,j)=>n.jsxs("span",{className:`attempt ${h===Math.min(...g)?"best":""}`,children:[h,"ms"]},j))})]})]})}function Gh({user:e,onScoreUpdate:t}){const s=["","","","","","","","","","","",""],[a,l]=m.useState(null),[r,i]=m.useState([]),[o,c]=m.useState([]),[v,N]=m.useState([]),[p,g]=m.useState(0),[S,E]=m.useState(!1),[C,I]=m.useState(null),[f,u]=m.useState(0),[h,j]=m.useState(null),[k,w]=m.useState(null),x=m.useRef(null);m.useEffect(()=>(y(),()=>clearInterval(x.current)),[]);const y=async()=>{var L;try{const d=await $.getMyGameScores();(L=d.data)!=null&&L.memory&&(j(d.data.memory.score),w(d.data.memory.rank))}catch{}},b=L=>{l(L);const d=L==="easy"?6:L==="medium"?8:12,R=s.slice(0,d),F=[...R,...R].sort(()=>Math.random()-.5).map((U,z)=>({id:z,emoji:U}));i(F),c([]),N([]),g(0),E(!1),I(Date.now()),u(0),x.current=setInterval(()=>{u(Math.floor((Date.now()-Date.now())/1e3))},100)},P=async L=>{var R;if(o.length===2||o.includes(L)||v.includes(L))return;const d=[...o,L];if(c(d),d.length===2){g(z=>z+1);const[F,U]=d;if(r[F].emoji===r[U].emoji){const z=[...v,F,U];if(N(z),c([]),z.length===r.length){clearInterval(x.current);const D=Math.floor((Date.now()-C)/1e3);u(D),E(!0);const A=r.length*50,H=(p+1)*5,q=D*2,Q=Math.max(A-H-q,10);try{const X=await $.submitGameScore("memory",Q,{difficulty:a,moves:p+1,time:D});(R=X.data)!=null&&R.isNewRecord&&(j(Q),w(X.data.rank),t==null||t())}catch(X){console.error("Failed to submit score:",X)}}}else setTimeout(()=>c([]),800)}};if(!a)return n.jsxs("div",{className:"memory-game",children:[n.jsx("div",{className:"game-stats-bar",children:h&&n.jsxs("div",{className:"stat-item best",children:[n.jsx("span",{className:"stat-label",children:" "}),n.jsxs("span",{className:"stat-value",children:[h,""]}),k&&n.jsxs("span",{className:"stat-rank",children:["#",k]})]})}),n.jsxs("div",{className:"difficulty-select",children:[n.jsx("h3",{children:" "}),n.jsxs("div",{className:"difficulty-buttons",children:[n.jsxs("button",{onClick:()=>b("easy"),className:"diff-btn easy",children:[n.jsx("span",{className:"diff-icon",children:""}),n.jsx("span",{className:"diff-name",children:""}),n.jsx("span",{className:"diff-desc",children:"6 (12)"})]}),n.jsxs("button",{onClick:()=>b("medium"),className:"diff-btn medium",children:[n.jsx("span",{className:"diff-icon",children:""}),n.jsx("span",{className:"diff-name",children:""}),n.jsx("span",{className:"diff-desc",children:"8 (16)"})]}),n.jsxs("button",{onClick:()=>b("hard"),className:"diff-btn hard",children:[n.jsx("span",{className:"diff-icon",children:""}),n.jsx("span",{className:"diff-name",children:""}),n.jsx("span",{className:"diff-desc",children:"12 (24)"})]})]})]})]});const M=S?Math.max(r.length*50-p*5-f*2,10):null;return n.jsxs("div",{className:"memory-game",children:[n.jsxs("div",{className:"game-stats-bar",children:[n.jsxs("div",{className:"stat-item",children:[n.jsx("span",{className:"stat-label",children:""}),n.jsx("span",{className:"stat-value",children:p})]}),n.jsxs("div",{className:"stat-item",children:[n.jsx("span",{className:"stat-label",children:""}),n.jsxs("span",{className:"stat-value",children:[v.length/2,"/",r.length/2]})]}),h&&n.jsxs("div",{className:"stat-item best",children:[n.jsx("span",{className:"stat-label",children:""}),n.jsxs("span",{className:"stat-value",children:[h,""]})]})]}),S&&n.jsxs("div",{className:"game-complete-banner",children:[n.jsx("h3",{children:" !"}),n.jsxs("p",{children:[p," , ",f,""]}),n.jsxs("p",{className:"final-score",children:[": ",M,""]}),M===h&&n.jsx("p",{className:"new-record",children:"  !"})]}),n.jsx("div",{className:`memory-grid ${a}`,children:r.map((L,d)=>n.jsx("div",{className:`memory-card ${o.includes(d)||v.includes(d)?"flipped":""} ${v.includes(d)?"matched":""}`,onClick:()=>P(d),children:n.jsxs("div",{className:"card-inner",children:[n.jsx("div",{className:"card-front",children:"?"}),n.jsx("div",{className:"card-back",children:L.emoji})]})},L.id))}),n.jsx("button",{className:"restart-btn",onClick:()=>l(null),children:S?" ":" "})]})}function Bh({user:e,onScoreUpdate:t}){const s=["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],[a,l]=m.useState("ready"),[r,i]=m.useState(""),[o,c]=m.useState(""),[v,N]=m.useState(0),[p,g]=m.useState(30),[S,E]=m.useState(0),[C,I]=m.useState(null),[f,u]=m.useState(null),[h,j]=m.useState(0),k=m.useRef(null),w=m.useRef(null);m.useEffect(()=>(x(),()=>clearInterval(w.current)),[]);const x=async()=>{var L;try{const d=await $.getMyGameScores();(L=d.data)!=null&&L.typing&&(I(d.data.typing.score),u(d.data.typing.rank))}catch{}},y=()=>{var L;l("playing"),N(0),E(0),g(30),c(""),j(0),b(),(L=k.current)==null||L.focus(),w.current=setInterval(()=>{g(d=>d<=1?(clearInterval(w.current),M(),0):d-1)},1e3)},b=()=>{const L=s[Math.floor(Math.random()*s.length)];i(L)},P=L=>{const d=L.target.value;d===r?(L.target.blur(),N(R=>R+1),E(R=>R+r.length),c(""),j(R=>R+1),b(),setTimeout(()=>{var R;return(R=k.current)==null?void 0:R.focus()},0)):c(d)},M=async()=>{var L;l("result"),clearInterval(w.current);try{const d=await $.submitGameScore("typing",v,{words:v});(L=d.data)!=null&&L.isNewRecord&&(I(v),u(d.data.rank),t==null||t())}catch(d){console.error("Failed to submit score:",d)}};return n.jsxs("div",{className:"typing-game",children:[n.jsxs("div",{className:"game-stats-bar",children:[a==="playing"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"stat-item time",children:[n.jsx("span",{className:"stat-label",children:" "}),n.jsxs("span",{className:"stat-value",children:[p,""]})]}),n.jsxs("div",{className:"stat-item",children:[n.jsx("span",{className:"stat-label",children:" "}),n.jsxs("span",{className:"stat-value",children:[v,""]})]})]}),C&&n.jsxs("div",{className:"stat-item best",children:[n.jsx("span",{className:"stat-label",children:" "}),n.jsxs("span",{className:"stat-value",children:[C,""]}),f&&n.jsxs("span",{className:"stat-rank",children:["#",f]})]})]}),a==="ready"&&n.jsxs("div",{className:"typing-ready",children:[n.jsx("div",{className:"typing-icon",children:""}),n.jsx("h3",{children:" "}),n.jsx("p",{style:{color:"#e07020",fontWeight:600},children:"   ."}),n.jsx("p",{style:{fontSize:"13px",color:"#888"},children:"   ."}),n.jsx("button",{className:"start-btn",disabled:!0,style:{opacity:.5,cursor:"not-allowed"},children:" "})]}),a==="playing"&&n.jsxs("div",{className:"typing-area",children:[n.jsx("div",{className:"current-word",children:r}),n.jsx("input",{ref:k,type:"text",value:o,onChange:P,placeholder:" ",autoFocus:!0},h),n.jsx("div",{className:"typing-hint",children:o&&r.startsWith(o)?" !":o?" ":""})]}),a==="result"&&n.jsxs("div",{className:"typing-result",children:[n.jsx("h3",{children:" !"}),n.jsx("div",{className:"result-stats",children:n.jsxs("div",{className:"result-item",children:[n.jsx("span",{className:"result-label",children:" "}),n.jsxs("span",{className:"result-value",children:[v,""]})]})}),v===C&&n.jsx("div",{className:"new-record",children:"  !"}),n.jsx("button",{className:"restart-btn",onClick:y,children:" "})]})]})}function Uh({user:e,onScoreUpdate:t}){const[s,a]=m.useState(()=>Math.floor(Math.random()*100)+1),[l,r]=m.useState(""),[i,o]=m.useState(""),[c,v]=m.useState(0),[N,p]=m.useState(!1),[g,S]=m.useState([]),[E,C]=m.useState(null),[I,f]=m.useState(null),u=m.useRef(null);m.useEffect(()=>{var w;h(),(w=u.current)==null||w.focus()},[]);const h=async()=>{var w;try{const x=await $.getMyGameScores();(w=x.data)!=null&&w.number&&(C(x.data.number.score),f(x.data.number.rank))}catch{}},j=async()=>{var y,b;const w=parseInt(l);if(isNaN(w)||w<1||w>100){o("1~100   !");return}const x=c+1;if(v(x),w===s){o(` ! ${x}  !`),p(!0);try{const P=await $.submitGameScore("number",x);(y=P.data)!=null&&y.isNewRecord&&(C(x),f(P.data.rank),t==null||t())}catch(P){console.error("Failed to submit score:",P)}}else{const P=w<s?"UP":"DOWN",M=Math.abs(s-w),L=M<=5?"  !":M<=15?" !":M<=30?"  ":"  ";o(`${P}! ${L}`),S([...g,{num:w,hint:P}])}r(""),(b=u.current)==null||b.focus()},k=()=>{var w;a(Math.floor(Math.random()*100)+1),r(""),o(""),v(0),p(!1),S([]),(w=u.current)==null||w.focus()};return n.jsxs("div",{className:"number-game",children:[n.jsxs("div",{className:"game-stats-bar",children:[n.jsxs("div",{className:"stat-item",children:[n.jsx("span",{className:"stat-label",children:""}),n.jsxs("span",{className:"stat-value",children:[c,""]})]}),E&&n.jsxs("div",{className:"stat-item best",children:[n.jsx("span",{className:"stat-label",children:" "}),n.jsxs("span",{className:"stat-value",children:[E,""]}),I&&n.jsxs("span",{className:"stat-rank",children:["#",I]})]})]}),n.jsxs("div",{className:"number-game-area",children:[n.jsx("div",{className:"number-icon",children:""}),n.jsx("p",{className:"number-desc",children:"1 100   !"}),i&&n.jsx("div",{className:`number-message ${N?"success":""}`,children:i}),N?n.jsx("button",{className:"restart-btn",onClick:k,children:" "}):n.jsxs("div",{className:"number-input-area",children:[n.jsx("input",{ref:u,type:"number",value:l,onChange:w=>r(w.target.value),onKeyPress:w=>w.key==="Enter"&&j(),placeholder:" ",min:"1",max:"100"}),n.jsx("button",{onClick:j,children:""})]}),g.length>0&&n.jsxs("div",{className:"guess-history",children:[n.jsx("h4",{children:" "}),n.jsx("div",{className:"history-list",children:g.map((w,x)=>n.jsxs("span",{className:`history-item ${w.hint.toLowerCase()}`,children:[w.num," ",w.hint==="UP"?"":""]},x))})]})]})]})}function Hh(){const[e,t]=m.useState(4),[s,a]=m.useState(["","","",""]),[l,r]=m.useState(["","","",""]),[i,o]=m.useState([]),[c,v]=m.useState([]),[N,p]=m.useState("setup"),[g,S]=m.useState(-1),[E,C]=m.useState([]),I=10,f=y=>{t(y),a(Array(y).fill("").map((b,P)=>s[P]||"")),r(Array(y).fill("").map((b,P)=>l[P]||"")),p("setup"),C([])},u=()=>{const y=[];for(let P=0;P<I;P++){const M=[];for(let L=0;L<e-1;L++)L>0&&M[L-1]?M.push(!1):M.push(Math.random()<.4);y.push(M)}o(y);const b=[];for(let P=0;P<e;P++){const M=[];let L=P;M.push({x:L,y:0});for(let d=0;d<I;d++){const R=d+.5;L>0&&y[d][L-1]?(M.push({x:L,y:R}),L--,M.push({x:L,y:R})):L<e-1&&y[d][L]&&(M.push({x:L,y:R}),L++,M.push({x:L,y:R}))}M.push({x:L,y:I}),b.push({start:P,end:L,path:M})}v(b),p("ready")},h=()=>{const y=s.filter(P=>P.trim()),b=l.filter(P=>P.trim());if(y.length<2){alert(" 2  !");return}if(b.length<2){alert(" 2  !");return}u()},j=y=>{N==="ready"&&(E.includes(y)||(S(y),C([...E,y]),setTimeout(()=>{S(-1),E.length+1===e&&p("done")},1500)))},k=()=>{C(Array.from({length:e},(y,b)=>b)),p("done")},w=()=>{p("setup"),o([]),v([]),C([]),S(-1)},x=(y,b,P)=>!y||y.length===0?"":y.map((M,L)=>{const d=M.x/(e-1)*b,R=M.y/I*P;return L===0?`M ${d} ${R}`:`L ${d} ${R}`}).join(" ");return n.jsxs("div",{className:"ladder-game",children:[N==="setup"&&n.jsxs("div",{className:"ladder-setup",children:[n.jsxs("div",{className:"setup-section",children:[n.jsx("h3",{children:" "}),n.jsx("div",{className:"player-count-selector",children:[2,3,4,5,6,7,8].map(y=>n.jsxs("button",{className:e===y?"active":"",onClick:()=>f(y),children:[y,""]},y))})]}),n.jsxs("div",{className:"setup-columns",children:[n.jsxs("div",{className:"setup-section",children:[n.jsx("h3",{children:" "}),n.jsx("div",{className:"input-list",children:s.map((y,b)=>n.jsx("input",{type:"text",value:y,onChange:P=>{const M=[...s];M[b]=P.target.value,a(M)},placeholder:` ${b+1}`},b))})]}),n.jsxs("div",{className:"setup-section",children:[n.jsx("h3",{children:" (/ )"}),n.jsx("div",{className:"input-list",children:l.map((y,b)=>n.jsx("input",{type:"text",value:y,onChange:P=>{const M=[...l];M[b]=P.target.value,r(M)},placeholder:` ${b+1}`},b))})]})]}),n.jsx("button",{className:"start-ladder-btn",onClick:h,children:" "})]}),(N==="ready"||N==="done")&&n.jsxs("div",{className:"ladder-play",children:[n.jsx("div",{className:"ladder-header-row",children:s.map((y,b)=>n.jsxs("div",{className:`ladder-player ${E.includes(b)?"revealed":""} ${g===b?"animating":""}`,onClick:()=>j(b),style:{width:`${100/e}%`},children:[n.jsx("div",{className:"player-name",children:y||` ${b+1}`}),n.jsx("div",{className:"player-marker",children:""})]},b))}),n.jsxs("div",{className:"ladder-board",children:[Array.from({length:e}).map((y,b)=>n.jsx("div",{className:"ladder-vertical",style:{left:`${b/(e-1)*100}%`}},`v-${b}`)),i.map((y,b)=>y.map((P,M)=>P&&n.jsx("div",{className:"ladder-horizontal",style:{left:`${M/(e-1)*100}%`,top:`${(b+.5)/I*100}%`,width:`${100/(e-1)}%`}},`h-${b}-${M}`))),n.jsx("svg",{className:"ladder-path-svg",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:E.map(y=>{const b=c.find(M=>M.start===y);if(!b)return null;const P=`hsl(${y*360/e}, 70%, 50%)`;return n.jsx("path",{d:x(b.path,100,100),stroke:P,strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",className:g===y?"path-animating":""},`path-${y}`)})})]}),n.jsx("div",{className:"ladder-footer-row",children:l.map((y,b)=>{const P=c.find(M=>M.end===b&&E.includes(M.start));return n.jsxs("div",{className:`ladder-result ${P?"matched":""}`,style:{width:`${100/e}%`},children:[n.jsx("div",{className:"result-marker",children:""}),n.jsx("div",{className:"result-text",children:y||` ${b+1}`}),P&&n.jsx("div",{className:"result-winner",children:s[P.start]||` ${P.start+1}`})]},b)})}),n.jsxs("div",{className:"ladder-actions",children:[N==="ready"&&n.jsx("button",{className:"reveal-all-btn",onClick:k,children:" "}),n.jsx("button",{className:"reset-btn",onClick:w,children:" "})]})]})]})}function Wh(){const[e,t]=m.useState(["!","","","","",""]),[s,a]=m.useState(""),[l,r]=m.useState(!1),[i,o]=m.useState(0),[c,v]=m.useState(null),[N,p]=m.useState(!1),g=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9","#F8B500","#00CED1"],S=400,E=S/2,C=S/2-10,I=45,f=()=>{s.trim()&&e.length<12&&(t([...e,s.trim()]),a(""))},u=x=>{e.length>2&&t(e.filter((y,b)=>b!==x))},h=()=>{if(l||e.length<2)return;r(!0),v(null),p(!1);const x=5+Math.random()*5,y=Math.random()*360,b=i+x*360+y;o(b),setTimeout(()=>{const P=b%360,M=360/e.length,L=(360-P+270)%360,d=Math.floor(L/M)%e.length;v(e[d]),r(!1),p(!0),setTimeout(()=>p(!1),3e3)},4e3)},j=()=>{o(0),v(null),p(!1)},k=(x,y)=>{const b=2*Math.PI/y,P=b*x-Math.PI/2,M=P+b,L=E+C*Math.cos(P),d=E+C*Math.sin(P),R=E+C*Math.cos(M),F=E+C*Math.sin(M),U=b>Math.PI?1:0;return`M ${E} ${E} L ${L} ${d} A ${C} ${C} 0 ${U} 1 ${R} ${F} Z`},w=(x,y)=>{const b=2*Math.PI/y,P=b*x+b/2-Math.PI/2,M=C*.65,L=E+M*Math.cos(P),d=E+M*Math.sin(P);let R=P*180/Math.PI+90;return{x:L,y:d,rotation:R}};return n.jsxs("div",{className:"roulette-game",children:[n.jsxs("div",{className:"roulette-container-svg",children:[n.jsx("div",{className:"roulette-pointer-svg",children:""}),n.jsxs("svg",{className:`roulette-wheel-svg ${l?"spinning":""}`,viewBox:`0 0 ${S} ${S}`,style:{transform:`rotate(${i}deg)`},children:[e.map((x,y)=>n.jsx("path",{d:k(y,e.length),fill:g[y%g.length],stroke:"#fff",strokeWidth:"2"},y)),e.map((x,y)=>{const b=w(y,e.length),P=e.length<=4?18:e.length<=6?16:e.length<=8?14:12;return n.jsx("text",{x:b.x,y:b.y,fill:"#fff",fontSize:P,fontWeight:"700",textAnchor:"middle",dominantBaseline:"middle",transform:`rotate(${b.rotation}, ${b.x}, ${b.y})`,style:{textShadow:"1px 1px 2px rgba(0,0,0,0.5)"},children:x.length>6?x.slice(0,6)+"..":x},`text-${y}`)}),n.jsx("circle",{cx:E,cy:E,r:I,fill:"#4a3728",stroke:"#c9956c",strokeWidth:"4"}),n.jsx("text",{x:E,y:E,fill:"#c9956c",fontSize:"13",fontWeight:"800",textAnchor:"middle",dominantBaseline:"middle",children:"SPIN"})]}),N&&n.jsx("div",{className:"confetti-container",children:Array.from({length:50}).map((x,y)=>n.jsx("div",{className:"confetti",style:{"--x":Math.random(),"--delay":Math.random()*.5,"--color":g[y%g.length]}},y))})]}),c&&n.jsxs("div",{className:"roulette-result",children:[n.jsx("div",{className:"result-label",children:""}),n.jsx("div",{className:"result-value",children:c})]}),n.jsxs("div",{className:"roulette-controls",children:[n.jsx("button",{className:"spin-btn",onClick:h,disabled:l||e.length<2,children:l?" ...":"!"}),i>0&&n.jsx("button",{className:"reset-btn",onClick:j,children:""})]}),n.jsxs("div",{className:"roulette-items",children:[n.jsx("h3",{children:" "}),n.jsxs("div",{className:"item-input",children:[n.jsx("input",{type:"text",value:s,onChange:x=>a(x.target.value),onKeyPress:x=>x.key==="Enter"&&f(),placeholder:"  ",maxLength:10}),n.jsx("button",{onClick:f,disabled:e.length>=12,children:""})]}),n.jsx("div",{className:"item-list",children:e.map((x,y)=>n.jsxs("div",{className:"item-tag",style:{"--tag-color":g[y%g.length]},children:[n.jsx("span",{children:x}),n.jsx("button",{onClick:()=>u(y),disabled:e.length<=2,children:""})]},y))}),n.jsx("p",{className:"item-hint",children:" 2,  12  "})]})]})}function Vh(){const[e,t]=m.useState(""),[s,a]=m.useState(2),[l,r]=m.useState([]),[i,o]=m.useState(!1),[c,v]=m.useState("random"),N=()=>e.split(/[\n,]/).map(I=>I.trim()).filter(I=>I.length>0),p=()=>{const I=N();if(I.length<2){alert(" 2  !");return}if(I.length<s){alert("    !");return}o(!0),r([]);let f=0;const u=setInterval(()=>{const h=[...I].sort(()=>Math.random()-.5),j=Array.from({length:s},()=>[]);h.forEach((k,w)=>{j[w%s].push(k)}),r(j),f++,f>=15&&(clearInterval(u),o(!1))},100)},g=()=>{const I=l.map((f,u)=>`[${u+1}]
${f.join(`
`)}`).join(`

`);navigator.clipboard.writeText(I),alert("  !")},S=()=>{r([])},E=N(),C=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F"];return n.jsxs("div",{className:"teammaker-game",children:[n.jsxs("div",{className:"teammaker-input-section",children:[n.jsxs("div",{className:"input-group",children:[n.jsx("label",{children:" "}),n.jsx("textarea",{value:e,onChange:I=>t(I.target.value),placeholder:`  
(   )

:


`,rows:8}),n.jsxs("div",{className:"member-count",children:[" : ",n.jsx("strong",{children:E.length}),""]})]}),n.jsxs("div",{className:"settings-group",children:[n.jsxs("div",{className:"setting-item",children:[n.jsx("label",{children:" "}),n.jsx("div",{className:"team-count-selector",children:[2,3,4,5,6,7,8].map(I=>n.jsxs("button",{className:s===I?"active":"",onClick:()=>a(I),children:[I,""]},I))})]}),n.jsxs("div",{className:"setting-item",children:[n.jsx("label",{children:" "}),n.jsxs("div",{className:"balance-selector",children:[n.jsx("button",{className:c==="random"?"active":"",onClick:()=>v("random"),children:" "}),n.jsx("button",{className:c==="balanced"?"active":"",onClick:()=>v("balanced"),children:" "})]})]}),n.jsx("button",{className:"shuffle-btn",onClick:p,disabled:i||E.length<2,children:i?" ...":" !"})]})]}),l.length>0&&n.jsxs("div",{className:"teammaker-result",children:[n.jsxs("div",{className:"result-header",children:[n.jsx("h3",{children:"  "}),n.jsxs("div",{className:"result-actions",children:[n.jsx("button",{onClick:g,children:" "}),n.jsx("button",{onClick:p,disabled:i,children:"  "}),n.jsx("button",{onClick:S,children:" "})]})]}),n.jsx("div",{className:"teams-grid",style:{"--team-count":s},children:l.map((I,f)=>n.jsxs("div",{className:`team-card ${i?"shuffling":""}`,style:{"--team-color":C[f%C.length]},children:[n.jsxs("div",{className:"team-header",children:[n.jsx("span",{className:"team-number",children:f+1}),n.jsx("span",{className:"team-label",children:""}),n.jsxs("span",{className:"team-count",children:[I.length,""]})]}),n.jsx("div",{className:"team-members",children:I.map((u,h)=>n.jsx("div",{className:"team-member",children:u},h))})]},f))})]})]})}function qh({user:e,onScoreUpdate:t,onBack:s}){const[a,l]=m.useState(()=>I()),[r,i]=m.useState(0),[o,c]=m.useState(null),[v,N]=m.useState(null),[p,g]=m.useState(!1),[S,E]=m.useState(!1),C=m.useRef(null);function I(){const M=Array(4).fill(null).map(()=>Array(4).fill(0));return f(M),f(M),M}function f(M){const L=[];for(let d=0;d<4;d++)for(let R=0;R<4;R++)M[d][R]===0&&L.push({i:d,j:R});if(L.length>0){const{i:d,j:R}=L[Math.floor(Math.random()*L.length)];M[d][R]=Math.random()<.9?2:4}}function u(M){let L=!1,d=0;return{grid:M.map(F=>{const U=F.filter(D=>D!==0),z=[];for(let D=0;D<U.length;D++)U[D]===U[D+1]?(z.push(U[D]*2),d+=U[D]*2,D++):z.push(U[D]);for(;z.length<4;)z.push(0);return JSON.stringify(z)!==JSON.stringify(F)&&(L=!0),z}),moved:L,addedScore:d}}function h(M,L){let d=M;for(let R=0;R<L;R++)d=d[0].map((F,U)=>d.map(z=>z[U]).reverse());return d}function j(M){if(p)return;let L={left:0,up:1,right:2,down:3},d=h(a,L[M]);const{grid:R,moved:F,addedScore:U}=u(d);let z=h(R,(4-L[M])%4);if(F){f(z);const D=r+U;l(z),i(D),!S&&z.some(A=>A.some(H=>H>=2048))&&E(!0),k(z)&&(g(!0),w(D))}}function k(M){for(let L=0;L<4;L++)for(let d=0;d<4;d++)if(M[L][d]===0||d<3&&M[L][d]===M[L][d+1]||L<3&&M[L][d]===M[L+1][d])return!1;return!0}const w=async M=>{var L;try{const d=await $.submitGameScore("game2048",M);(L=d.data)!=null&&L.isNewRecord&&(c(M),N(d.data.rank),t==null||t())}catch(d){console.error("Failed to submit score:",d)}};m.useEffect(()=>{var L;(async()=>{var d;try{const R=await $.getMyGameScores();(d=R.data)!=null&&d.game2048&&(c(R.data.game2048.score),N(R.data.game2048.rank))}catch{}})(),(L=C.current)==null||L.focus()},[]);const x=M=>{if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(M.key)){M.preventDefault();const L=M.key.replace("Arrow","").toLowerCase();j(L)}},y=()=>{var M;l(I()),i(0),g(!1),E(!1),(M=C.current)==null||M.focus()},b=M=>({0:"#cdc1b4",2:"#eee4da",4:"#ede0c8",8:"#f2b179",16:"#f59563",32:"#f67c5f",64:"#f65e3b",128:"#edcf72",256:"#edcc61",512:"#edc850",1024:"#edc53f",2048:"#edc22e"})[M]||"#3c3a32",P=M=>M<=4?"#776e65":"#f9f6f2";return n.jsxs("div",{className:"game-2048",ref:C,tabIndex:0,onKeyDown:x,children:[n.jsxs("div",{className:"game-stats-bar",children:[n.jsxs("div",{className:"stat-item",children:[n.jsx("span",{className:"stat-label",children:""}),n.jsx("span",{className:"stat-value",children:r})]}),o&&n.jsxs("div",{className:"stat-item best",children:[n.jsx("span",{className:"stat-label",children:""}),n.jsx("span",{className:"stat-value",children:o}),v&&n.jsxs("span",{className:"stat-rank",children:["#",v]})]})]}),n.jsxs("div",{className:"game-2048-board-wrapper",children:[n.jsx("div",{className:"game-2048-board",children:a.map((M,L)=>n.jsx("div",{className:"game-2048-row",children:M.map((d,R)=>n.jsx("div",{className:`game-2048-tile ${d>0?"has-value":""}`,style:{backgroundColor:b(d),color:P(d),fontSize:d>=1024?"24px":d>=128?"28px":"32px"},children:d>0?d:""},R))},L))}),(p||S)&&n.jsx("div",{className:"game-2048-overlay",children:n.jsxs("div",{className:"overlay-content",children:[n.jsx("h3",{children:S?" 2048 !":" !"}),n.jsxs("p",{children:[" : ",r]}),r===o&&n.jsx("p",{className:"new-record",children:"  !"}),n.jsxs("div",{className:"overlay-buttons",children:[n.jsx("button",{className:"restart-btn",onClick:y,children:" "}),n.jsx("button",{className:"back-btn",onClick:s,children:" "})]})]})})]}),n.jsxs("div",{className:"game-2048-controls",children:[n.jsx("p",{className:"control-hint",children:"  ()"}),n.jsxs("div",{className:"mobile-controls",children:[n.jsx("button",{onClick:()=>j("up"),children:""}),n.jsxs("div",{className:"mobile-controls-row",children:[n.jsx("button",{onClick:()=>j("left"),children:""}),n.jsx("button",{onClick:()=>j("down"),children:""}),n.jsx("button",{onClick:()=>j("right"),children:""})]})]}),n.jsx("button",{className:"restart-btn",onClick:y,children:" "})]})]})}function Qh({user:e,onScoreUpdate:t}){const[s,a]=m.useState("ready"),[l,r]=m.useState([]),[i,o]=m.useState(0),[c,v]=m.useState(30),[N,p]=m.useState(null),[g,S]=m.useState(null),E=m.useRef(null),C=m.useRef(null),I=m.useRef(null),f=m.useRef(0);m.useEffect(()=>((async()=>{var x;try{const y=await $.getMyGameScores();(x=y.data)!=null&&x.aimtrainer&&(p(y.data.aimtrainer.score),S(y.data.aimtrainer.rank))}catch{}})(),()=>{clearInterval(C.current),clearInterval(I.current)}),[]);const u=m.useCallback(()=>{if(!E.current)return;const w=E.current.getBoundingClientRect(),x=f.current,y=Math.max(18,35-Math.floor(x/5)*2),b=w.width-y,P=w.height-y,M=Math.random()*b,L=Math.random()*P,d=Date.now()+Math.random();r(F=>[...F,{id:d,x:M,y:L,size:y}]);const R=Math.max(350,700-x*10);setTimeout(()=>{r(F=>F.filter(U=>U.id!==d))},R)},[]),h=()=>{a("playing"),o(0),f.current=0,v(30),r([]);const w=()=>{u();const x=Math.max(150,300-f.current*5);I.current=setTimeout(w,x)};w(),C.current=setInterval(()=>{v(x=>x<=1?(clearInterval(C.current),clearTimeout(I.current),j(),0):x-1)},1e3)},j=async()=>{var x;a("result");const w=f.current;try{const y=await $.submitGameScore("aimtrainer",w);(x=y.data)!=null&&x.isNewRecord&&(p(w),S(y.data.rank),t==null||t())}catch(y){console.error("Failed to submit score:",y)}},k=w=>{r(x=>x.filter(y=>y.id!==w)),f.current+=1,o(f.current)};return n.jsxs("div",{className:"aim-trainer-game",children:[n.jsxs("div",{className:"game-stats-bar",children:[s==="playing"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"stat-item time",children:[n.jsx("span",{className:"stat-label",children:" "}),n.jsxs("span",{className:"stat-value",children:[c,""]})]}),n.jsxs("div",{className:"stat-item",children:[n.jsx("span",{className:"stat-label",children:""}),n.jsx("span",{className:"stat-value",children:i})]})]}),N&&n.jsxs("div",{className:"stat-item best",children:[n.jsx("span",{className:"stat-label",children:""}),n.jsxs("span",{className:"stat-value",children:[N,""]}),g&&n.jsxs("span",{className:"stat-rank",children:["#",g]})]})]}),s==="ready"&&n.jsxs("div",{className:"aim-ready",children:[n.jsx("div",{className:"aim-icon",children:""}),n.jsx("h3",{children:" "}),n.jsx("p",{children:"30      !"}),n.jsx("button",{className:"start-btn",onClick:h,children:""})]}),s==="playing"&&n.jsx("div",{className:"aim-area",ref:E,children:l.map(w=>n.jsx("div",{className:"aim-target",style:{left:w.x,top:w.y,width:w.size,height:w.size},onClick:()=>k(w.id),children:n.jsx("div",{className:"target-inner"})},w.id))}),s==="result"&&n.jsxs("div",{className:"aim-result",children:[n.jsx("h3",{children:" !"}),n.jsxs("div",{className:"result-score",children:[i,""]}),i===N&&n.jsx("p",{className:"new-record",children:"  !"}),n.jsx("button",{className:"restart-btn",onClick:h,children:" "})]})]})}function Kh({user:e,onScoreUpdate:t}){const[s,a]=m.useState("ready"),[l,r]=m.useState(1),[i,o]=m.useState(2),[c,v]=m.useState(0),[N,p]=m.useState({h:0,s:70,l:50}),[g,S]=m.useState(null),[E,C]=m.useState(null),[I,f]=m.useState(5),u=m.useRef(null);m.useEffect(()=>((async()=>{var b;try{const P=await $.getMyGameScores();(b=P.data)!=null&&b.colortest&&(S(P.data.colortest.score),C(P.data.colortest.rank))}catch{}})(),()=>clearInterval(u.current)),[]);const h=()=>{a("playing"),r(1),j(1)},j=y=>{const b=Math.min(2+Math.floor(y/3),8);o(b);const P=Math.max(30-y*2,3),M=Math.floor(Math.random()*360),L=50+Math.floor(Math.random()*30),d=40+Math.floor(Math.random()*20);p({h:M,s:L,l:d,diff:P}),v(Math.floor(Math.random()*(b*b))),f(Math.max(10-Math.floor(y/5),3)),clearInterval(u.current),u.current=setInterval(()=>{f(R=>R<=1?(clearInterval(u.current),w(),0):R-1)},1e3)},k=y=>{if(y===c){const b=l+1;r(b),j(b)}else w()},w=async()=>{var y;clearInterval(u.current),a("result");try{const b=await $.submitGameScore("colortest",l);(y=b.data)!=null&&y.isNewRecord&&(S(l),C(b.data.rank),t==null||t())}catch(b){console.error("Failed to submit score:",b)}},x=y=>{const{h:b,s:P,l:M,diff:L}=N;return y?`hsl(${b}, ${P}%, ${M+L}%)`:`hsl(${b}, ${P}%, ${M}%)`};return n.jsxs("div",{className:"color-test-game",children:[n.jsxs("div",{className:"game-stats-bar",children:[s==="playing"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"stat-item",children:[n.jsx("span",{className:"stat-label",children:""}),n.jsx("span",{className:"stat-value",children:l})]}),n.jsxs("div",{className:"stat-item time",children:[n.jsx("span",{className:"stat-label",children:""}),n.jsxs("span",{className:"stat-value",children:[I,""]})]})]}),g&&n.jsxs("div",{className:"stat-item best",children:[n.jsx("span",{className:"stat-label",children:""}),n.jsxs("span",{className:"stat-value",children:[" ",g]}),E&&n.jsxs("span",{className:"stat-rank",children:["#",E]})]})]}),s==="ready"&&n.jsxs("div",{className:"color-ready",children:[n.jsx("div",{className:"color-icon",children:""}),n.jsx("h3",{children:"  "}),n.jsx("p",{children:"    !"}),n.jsx("p",{className:"sub-text",children:"    "}),n.jsx("button",{className:"start-btn",onClick:h,children:""})]}),s==="playing"&&n.jsx("div",{className:"color-grid",style:{gridTemplateColumns:`repeat(${i}, 1fr)`,gridTemplateRows:`repeat(${i}, 1fr)`},children:Array.from({length:i*i}).map((y,b)=>n.jsx("div",{className:"color-tile",style:{backgroundColor:x(b===c)},onClick:()=>k(b)},b))}),s==="result"&&n.jsxs("div",{className:"color-result",children:[n.jsx("h3",{children:" !"}),n.jsxs("div",{className:"result-score",children:[" ",l]}),l===g&&n.jsx("p",{className:"new-record",children:"  !"}),n.jsx("button",{className:"restart-btn",onClick:h,children:" "})]})]})}function Yh({user:e,onScoreUpdate:t}){const[r,i]=m.useState([{x:10,y:10}]),[o,c]=m.useState({x:15,y:15}),[v,N]=m.useState({x:1,y:0}),[p,g]=m.useState("ready"),[S,E]=m.useState(0),[C,I]=m.useState(null),[f,u]=m.useState(null),[h,j]=m.useState(150),k=m.useRef(v),w=m.useRef(null),x=m.useRef(null);m.useEffect(()=>((async()=>{var F;try{const U=await $.getMyGameScores();(F=U.data)!=null&&F.snake&&(I(U.data.snake.score),u(U.data.snake.rank))}catch{}})(),()=>clearInterval(w.current)),[]),m.useEffect(()=>{k.current=v},[v]);const y=R=>{let F;do F={x:Math.floor(Math.random()*20),y:Math.floor(Math.random()*20)};while(R.some(U=>U.x===F.x&&U.y===F.y));return F},b=()=>{var F;const R=[{x:10,y:10}];i(R),c(y(R)),N({x:1,y:0}),k.current={x:1,y:0},E(0),j(150),g("playing"),(F=x.current)==null||F.focus(),w.current=setInterval(()=>{P()},150)},P=()=>{i(R=>{const F=R[0],U=k.current,z={x:(F.x+U.x+20)%20,y:(F.y+U.y+20)%20};if(R.some(A=>A.x===z.x&&A.y===z.y))return clearInterval(w.current),setTimeout(()=>M(R.length-1),0),R;const D=[z,...R];return c(A=>z.x===A.x&&z.y===A.y?(E(H=>H+10),y(D)):(D.pop(),A)),D})},M=async R=>{var F;g("result");try{const U=await $.submitGameScore("snake",R);(F=U.data)!=null&&F.isNewRecord&&(I(R),u(U.data.rank),t==null||t())}catch(U){console.error("Failed to submit score:",U)}},L=R=>{if(p!=="playing")return;const{x:F,y:U}=k.current;switch(R.key){case"ArrowUp":U!==1&&N({x:0,y:-1});break;case"ArrowDown":U!==-1&&N({x:0,y:1});break;case"ArrowLeft":F!==1&&N({x:-1,y:0});break;case"ArrowRight":F!==-1&&N({x:1,y:0});break}R.preventDefault()},d=R=>{if(p!=="playing")return;const{x:F,y:U}=k.current;R==="up"&&U!==1&&N({x:0,y:-1}),R==="down"&&U!==-1&&N({x:0,y:1}),R==="left"&&F!==1&&N({x:-1,y:0}),R==="right"&&F!==-1&&N({x:1,y:0})};return n.jsxs("div",{className:"snake-game",ref:x,tabIndex:0,onKeyDown:L,children:[n.jsxs("div",{className:"game-stats-bar",children:[n.jsxs("div",{className:"stat-item",children:[n.jsx("span",{className:"stat-label",children:""}),n.jsx("span",{className:"stat-value",children:S})]}),C&&n.jsxs("div",{className:"stat-item best",children:[n.jsx("span",{className:"stat-label",children:""}),n.jsx("span",{className:"stat-value",children:C}),f&&n.jsxs("span",{className:"stat-rank",children:["#",f]})]})]}),p==="ready"&&n.jsxs("div",{className:"snake-ready",children:[n.jsx("div",{className:"snake-icon",children:""}),n.jsx("h3",{children:"Snake"}),n.jsx("p",{children:"  !"}),n.jsx("button",{className:"start-btn",onClick:b,children:""})]}),(p==="playing"||p==="result")&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"snake-board",style:{width:20*20,height:20*20},children:[r.map((R,F)=>n.jsx("div",{className:`snake-segment ${F===0?"head":""}`,style:{left:R.x*20,top:R.y*20,width:18,height:18}},F)),n.jsx("div",{className:"snake-food",style:{left:o.x*20,top:o.y*20,width:18,height:18}})]}),n.jsxs("div",{className:"mobile-controls",children:[n.jsx("button",{onClick:()=>d("up"),children:""}),n.jsxs("div",{className:"mobile-controls-row",children:[n.jsx("button",{onClick:()=>d("left"),children:""}),n.jsx("button",{onClick:()=>d("down"),children:""}),n.jsx("button",{onClick:()=>d("right"),children:""})]})]})]}),p==="result"&&n.jsxs("div",{className:"snake-result-overlay",children:[n.jsx("h3",{children:" !"}),n.jsxs("p",{children:[": ",S]}),S===C&&n.jsx("p",{className:"new-record",children:"  !"}),n.jsx("button",{className:"restart-btn",onClick:b,children:" "})]})]})}function Zh({user:e,onScoreUpdate:t}){const[v,N]=m.useState(250),[p,g]=m.useState(0),[S,E]=m.useState([]),[C,I]=m.useState("ready"),[f,u]=m.useState(0),[h,j]=m.useState(null),[k,w]=m.useState(null),x=m.useRef(v),y=m.useRef(p),b=m.useRef(S),P=m.useRef(f),M=m.useRef(null),L=m.useRef(null);m.useEffect(()=>((async()=>{var D;try{const A=await $.getMyGameScores();(D=A.data)!=null&&D.flappy&&(j(A.data.flappy.score),w(A.data.flappy.rank))}catch{}})(),()=>cancelAnimationFrame(M.current)),[]);const d=()=>{var A;N(500/2),g(0),E([]),u(0),x.current=500/2,y.current=0,b.current=[],P.current=0,I("playing"),(A=L.current)==null||A.focus();let z=0;const D=H=>{if(y.current+=.5,x.current+=y.current,N(x.current),g(y.current),H-z>2e3){const ae=100+Math.random()*150;b.current=[...b.current,{x:400,gapY:ae,passed:!1}],z=H}b.current=b.current.map(ae=>({...ae,x:ae.x-3})).filter(ae=>ae.x>-60),E([...b.current]);const q=x.current,Q=x.current+30,X=50,se=80;if(q<0||Q>500){R();return}for(const ae of b.current){const de=ae.x,B=ae.x+60;if(se>de&&X<B&&(q<ae.gapY||Q>ae.gapY+150)){R();return}!ae.passed&&ae.x+60<X&&(ae.passed=!0,P.current+=1,u(P.current))}M.current=requestAnimationFrame(D)};M.current=requestAnimationFrame(D)},R=async()=>{var D;cancelAnimationFrame(M.current),I("result");const z=P.current;try{const A=await $.submitGameScore("flappy",z);(D=A.data)!=null&&D.isNewRecord&&(j(z),w(A.data.rank),t==null||t())}catch(A){console.error("Failed to submit score:",A)}},F=()=>{C==="playing"&&(y.current=-8,g(-8))},U=z=>{(z.key===" "||z.key==="ArrowUp")&&(z.preventDefault(),F())};return n.jsxs("div",{className:"flappy-game",ref:L,tabIndex:0,onKeyDown:U,children:[n.jsxs("div",{className:"game-stats-bar",children:[n.jsxs("div",{className:"stat-item",children:[n.jsx("span",{className:"stat-label",children:""}),n.jsx("span",{className:"stat-value",children:f})]}),h&&n.jsxs("div",{className:"stat-item best",children:[n.jsx("span",{className:"stat-label",children:""}),n.jsx("span",{className:"stat-value",children:h}),k&&n.jsxs("span",{className:"stat-rank",children:["#",k]})]})]}),C==="ready"&&n.jsxs("div",{className:"flappy-ready",children:[n.jsx("div",{className:"flappy-icon",children:""}),n.jsx("h3",{children:" "}),n.jsx("p",{children:"   !"}),n.jsx("button",{className:"start-btn",onClick:d,children:""})]}),(C==="playing"||C==="result")&&n.jsxs("div",{className:"flappy-area",style:{width:400,height:500},onClick:F,children:[n.jsx("div",{className:"flappy-bird",style:{top:v,left:50,width:30,height:30}}),S.map((z,D)=>n.jsxs("div",{children:[n.jsx("div",{className:"flappy-pipe top",style:{left:z.x,width:60,height:z.gapY}}),n.jsx("div",{className:"flappy-pipe bottom",style:{left:z.x,width:60,top:z.gapY+150,height:500-z.gapY-150}})]},D))]}),C==="result"&&n.jsxs("div",{className:"flappy-result-overlay",children:[n.jsx("h3",{children:" !"}),n.jsxs("p",{children:[": ",f]}),f===h&&n.jsx("p",{className:"new-record",children:"  !"}),n.jsx("button",{className:"restart-btn",onClick:d,children:" "})]})]})}function Jh({user:e,onScoreUpdate:t}){const[s,a]=m.useState([]),[l,r]=m.useState([]),[i,o]=m.useState("ready"),[c,v]=m.useState(0),[N,p]=m.useState(null),[g,S]=m.useState(null),[E,C]=m.useState(null),[I,f]=m.useState(0),u=m.useRef(null),h=m.useRef(null),j=["red","blue","green","yellow"];m.useEffect(()=>((async()=>{var M;try{const L=await $.getMyGameScores();(M=L.data)!=null&&M.pattern&&(S(L.data.pattern.score),C(L.data.pattern.rank))}catch{}})(),()=>{clearInterval(u.current)}),[]);const k=()=>{a([]),r([]),v(0),w([])},w=P=>{const M=j[Math.floor(Math.random()*j.length)],L=[...P,M];a(L),v(L.length),r([]),o("showing"),x(L)},x=async P=>{const M=P.length,L=Math.max(150,400-M*25),d=Math.max(120,300-M*18);for(let F=0;F<P.length;F++)await new Promise(U=>setTimeout(U,L)),p(P[F]),await new Promise(U=>setTimeout(U,d)),p(null);o("input");const R=Math.min(10,2+M*1.5);f(Math.ceil(R)),h.current=()=>b(),clearInterval(u.current),u.current=setInterval(()=>{f(F=>{var U;return F<=1?(clearInterval(u.current),(U=h.current)==null||U.call(h),0):F-1})},1e3)},y=async P=>{if(i!=="input")return;p(P),setTimeout(()=>p(null),200);const M=[...l,P];if(r(M),P!==s[M.length-1]){b();return}M.length===s.length&&(clearInterval(u.current),o("showing"),await new Promise(L=>setTimeout(L,600)),w(s))},b=async()=>{var M;clearInterval(u.current),o("result");const P=c;try{const L=await $.submitGameScore("pattern",P);(M=L.data)!=null&&M.isNewRecord&&(S(P),C(L.data.rank),t==null||t())}catch(L){console.error("Failed to submit score:",L)}};return n.jsxs("div",{className:"pattern-game",children:[n.jsxs("div",{className:"game-stats-bar",children:[i!=="ready"&&n.jsxs("div",{className:"stat-item",children:[n.jsx("span",{className:"stat-label",children:""}),n.jsx("span",{className:"stat-value",children:c})]}),g&&n.jsxs("div",{className:"stat-item best",children:[n.jsx("span",{className:"stat-label",children:""}),n.jsxs("span",{className:"stat-value",children:[" ",g]}),E&&n.jsxs("span",{className:"stat-rank",children:["#",E]})]})]}),i==="ready"&&n.jsxs("div",{className:"pattern-ready",children:[n.jsx("div",{className:"pattern-icon",children:""}),n.jsx("h3",{children:" "}),n.jsx("p",{children:"   !"}),n.jsx("button",{className:"start-btn",onClick:k,children:""})]}),i!=="ready"&&i!=="result"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"pattern-status",children:i==="showing"?" ...":`: ${l.length}/${s.length} (${I})`}),n.jsx("div",{className:"pattern-buttons",children:j.map(P=>n.jsx("button",{className:`pattern-btn ${P} ${N===P?"active":""}`,onClick:()=>y(P),disabled:i!=="input"},P))})]}),i==="result"&&n.jsxs("div",{className:"pattern-result",children:[n.jsx("h3",{children:" !"}),n.jsxs("div",{className:"result-score",children:[" ",c]}),c===g&&n.jsx("p",{className:"new-record",children:"  !"}),n.jsx("button",{className:"restart-btn",onClick:k,children:" "})]})]})}const Kt={id:1,name:" ",slots:5,atk:0,catId:"glove"},Xh={10:"/scroll/10percent.png",50:"/scroll/50percent.png",60:"/scroll/60percent.png",100:"/scroll/100percent.png"},ef=[{id:"atk10",name:"  10%",rate:10,value:3},{id:"atk50",name:"  50%",rate:50,value:2},{id:"atk60",name:"  60%",rate:60,value:2},{id:"atk100",name:"  100%",rate:100,value:1}],Ye=e=>{const t=new Audio(e);t.volume=.5,t.play().catch(()=>{})};function tf({setPage:e}){const{isLoggedIn:t,user:s}=Pe(),[a,l]=m.useState("glove");return t?n.jsxs("div",{className:"page-content scroll-page",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("button",{className:"back-btn",onClick:()=>e("main"),children:" "}),n.jsx("h1",{children:" "})]}),n.jsxs("div",{className:"scroll-tabs",children:[n.jsx("button",{className:`scroll-tab ${a==="glove"?"active":""}`,onClick:()=>l("glove"),children:" "}),n.jsx("button",{className:`scroll-tab ${a==="potential"?"active":""}`,onClick:()=>l("potential"),children:"/"})]}),a==="glove"&&n.jsx(nf,{}),a==="potential"&&n.jsx(sf,{})]}):n.jsxs("div",{className:"page-content",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("button",{className:"back-btn",onClick:()=>e("main"),children:" "}),n.jsx("h1",{children:" "})]}),n.jsxs("div",{className:"login-required-message",children:[n.jsx("div",{className:"lock-icon",children:""}),n.jsx("h2",{children:" "}),n.jsx("p",{children:"     ."}),n.jsx("button",{className:"login-btn",onClick:()=>e("login"),children:""})]})]})}function nf(){const{isLoggedIn:e}=Pe(),[t,s]=m.useState(Kt.slots),[a,l]=m.useState(0),[r,i]=m.useState(0),[o,c]=m.useState(0),[v,N]=m.useState(0),[p,g]=m.useState([]),[S,E]=m.useState(null),[C,I]=m.useState([]),[f,u]=m.useState(!1),[h,j]=m.useState(!1);m.useEffect(()=>{k()},[]);const k=async()=>{try{const b=await $.getScrollRankings();I(b.data||[])}catch(b){console.error("Failed to load rankings:",b)}},w=b=>{if(t<=0)return;Math.random()*100<b.rate?(Ye("/sounds/success.mp3"),i(M=>M+1),N(M=>M+b.value),g(M=>[...M,{scroll:b.name,success:!0,value:b.value}]),E({success:!0,value:b.value})):(Ye("/sounds/fail.mp3"),c(M=>M+1),g(M=>[...M,{scroll:b.name,success:!1,value:0}]),E({success:!1,value:0})),s(M=>M-1),l(M=>M+1)},x=()=>{s(Kt.slots),l(0),i(0),c(0),N(0),g([]),E(null),j(!1)},y=async()=>{if(!(!e||r===0||h)){u(!0);try{await $.saveScrollRecord({item_id:Kt.id,item_name:Kt.name,success_count:r,fail_count:o,total_stat:v,stat_type:"atk"}),j(!0),k()}catch(b){console.error("Failed to save record:",b),alert("  .")}u(!1)}};return n.jsxs("div",{className:"scroll-simulator-layout",children:[n.jsxs("div",{className:"simulator-main",children:[n.jsxs("div",{className:"item-display-area",children:[n.jsxs("div",{className:"item-box",children:[n.jsx("img",{src:"/scroll/item.png",alt:" ",className:"item-img"}),S&&n.jsx("img",{src:S.success?"/scroll/success-150.gif":"/scroll/failure-150.gif",alt:S.success?"":"",className:"result-overlay"},Date.now())]}),n.jsxs("div",{className:"item-info-box",children:[n.jsx("h2",{children:Kt.name}),n.jsxs("div",{className:"stat-display",children:[n.jsx("span",{className:"stat-name",children:""}),n.jsxs("span",{className:"stat-value",children:["+",v]})]})]})]}),n.jsxs("div",{className:"slots-area",children:[n.jsx("div",{className:"slots-grid",children:[...Array(Kt.slots)].map((b,P)=>{var M,L;return n.jsx("div",{className:`slot-box ${P<a?(M=p[P])!=null&&M.success?"success":"fail":""}`,children:P<a?(L=p[P])!=null&&L.success?"":"":""},P)})}),n.jsxs("div",{className:"slots-text",children:[" : ",n.jsx("strong",{children:t})," / ",Kt.slots]})]}),n.jsxs("div",{className:"result-stats-area",children:[n.jsxs("div",{className:"stat-item success",children:[n.jsx("span",{className:"label",children:""}),n.jsx("span",{className:"value",children:r})]}),n.jsxs("div",{className:"stat-item fail",children:[n.jsx("span",{className:"label",children:""}),n.jsx("span",{className:"value",children:o})]}),n.jsxs("div",{className:"stat-item total",children:[n.jsx("span",{className:"label",children:""}),n.jsxs("span",{className:"value",children:["+",v]})]})]}),n.jsx("div",{className:"scroll-buttons-area",children:ef.map(b=>n.jsxs("button",{className:`scroll-button ${t<=0?"disabled":""}`,onClick:()=>w(b),disabled:t<=0,children:[n.jsx("img",{src:Xh[b.rate],alt:b.name,className:"scroll-img"}),n.jsxs("div",{className:"scroll-text",children:[n.jsxs("span",{className:"scroll-name",children:[b.rate,"% "]}),n.jsxs("span",{className:"scroll-value",children:["+",b.value," "]})]})]},b.id))}),n.jsxs("div",{className:"action-buttons",children:[n.jsxs("button",{className:"reset-button",onClick:x,children:[n.jsx("img",{src:"/scroll/reset.png",alt:"",className:"reset-icon"}),""]}),t===0&&r>0&&!h&&n.jsx("button",{className:"save-button",onClick:y,disabled:f,children:f?" ...":" "}),h&&n.jsx("span",{className:"saved-text",children:"  "})]}),p.length>0&&n.jsxs("div",{className:"history-area",children:[n.jsx("h4",{children:""}),n.jsx("div",{className:"history-items",children:p.map((b,P)=>n.jsx("span",{className:`history-badge ${b.success?"success":"fail"}`,children:b.success?`+${b.value}`:""},P))})]})]}),n.jsxs("div",{className:"scroll-ranking-area",children:[n.jsx("h3",{children:" "}),C.length===0?n.jsx("div",{className:"no-ranking",children:n.jsx("p",{children:"  "})}):n.jsx("div",{className:"ranking-list",children:C.slice(0,20).map((b,P)=>n.jsxs("div",{className:`ranking-row ${P<3?`top-${P+1}`:""}`,children:[n.jsx("span",{className:"rank-num",children:P===0?"":P===1?"":P===2?"":`${P+1}`}),n.jsx("span",{className:"rank-name",children:b.character_name}),n.jsxs("span",{className:"rank-score",children:["+",b.total_stat]}),n.jsxs("span",{className:"rank-detail",children:[b.success_count," ",b.fail_count,""]})]},b.id))})]})]})}function sf(){const[e,t]=m.useState(!0),[s,a]=m.useState(!1),[l,r]=m.useState({potential60:{success:0,fail:0,destroy:0,attempts:0},potential80:{success:0,fail:0,destroy:0,attempts:0},silver:{success:0,fail:0,destroy:0,attempts:0},gold:{success:0,fail:0,destroy:0,attempts:0}}),[i,o]=m.useState([]),[c,v]=m.useState(null),[N,p]=m.useState(!1),g=w=>{v({result:w,key:Date.now()})},S=()=>{if(!e&&!s)return;Math.random()*100<60?(Ye("/sounds/success.mp3"),r(x=>({...x,potential60:{...x.potential60,success:x.potential60.success+1,attempts:x.potential60.attempts+1}})),o(x=>[...x,{type:"potential60",result:"success"}]),g("success"),!e&&s&&t(!0)):(Ye("/sounds/destroy.mp3"),r(x=>({...x,potential60:{...x.potential60,fail:x.potential60.fail+1,destroy:x.potential60.destroy+1,attempts:x.potential60.attempts+1}})),o(x=>[...x,{type:"potential60",result:"destroy"}]),g("destroy"),s||(t(!1),p(!0),setTimeout(()=>p(!1),1500)))},E=()=>{if(!e&&!s)return;Math.random()*100<80?(Ye("/sounds/success.mp3"),r(x=>({...x,potential80:{...x.potential80,success:x.potential80.success+1,attempts:x.potential80.attempts+1}})),o(x=>[...x,{type:"potential80",result:"success"}]),g("success"),!e&&s&&t(!0)):(Ye("/sounds/destroy.mp3"),r(x=>({...x,potential80:{...x.potential80,fail:x.potential80.fail+1,destroy:x.potential80.destroy+1,attempts:x.potential80.attempts+1}})),o(x=>[...x,{type:"potential80",result:"destroy"}]),g("destroy"),s||(t(!1),p(!0),setTimeout(()=>p(!1),1500)))},C=()=>{if(!e&&!s)return;Math.random()*100<50?(Ye("/sounds/success.mp3"),r(x=>({...x,silver:{...x.silver,success:x.silver.success+1,attempts:x.silver.attempts+1}})),o(x=>[...x,{type:"silver",result:"success"}]),g("success"),!e&&s&&t(!0)):Math.random()*100<50?(Ye("/sounds/destroy.mp3"),r(y=>({...y,silver:{...y.silver,fail:y.silver.fail+1,destroy:y.silver.destroy+1,attempts:y.silver.attempts+1}})),o(y=>[...y,{type:"silver",result:"destroy"}]),g("destroy"),s||(t(!1),p(!0),setTimeout(()=>p(!1),1500))):(Ye("/sounds/fail.mp3"),r(y=>({...y,silver:{...y.silver,fail:y.silver.fail+1,attempts:y.silver.attempts+1}})),o(y=>[...y,{type:"silver",result:"fail"}]),g("fail"))},I=()=>{if(!e&&!s)return;Math.random()*100<80?(Ye("/sounds/success.mp3"),r(x=>({...x,gold:{...x.gold,success:x.gold.success+1,attempts:x.gold.attempts+1}})),o(x=>[...x,{type:"gold",result:"success"}]),g("success"),!e&&s&&t(!0)):Math.random()*100<20?(Ye("/sounds/destroy.mp3"),r(y=>({...y,gold:{...y.gold,fail:y.gold.fail+1,destroy:y.gold.destroy+1,attempts:y.gold.attempts+1}})),o(y=>[...y,{type:"gold",result:"destroy"}]),g("destroy"),s||(t(!1),p(!0),setTimeout(()=>p(!1),1500))):(Ye("/sounds/fail.mp3"),r(y=>({...y,gold:{...y.gold,fail:y.gold.fail+1,attempts:y.gold.attempts+1}})),o(y=>[...y,{type:"gold",result:"fail"}]),g("fail"))},f=()=>{t(!0),r({potential60:{success:0,fail:0,destroy:0,attempts:0},potential80:{success:0,fail:0,destroy:0,attempts:0},silver:{success:0,fail:0,destroy:0,attempts:0},gold:{success:0,fail:0,destroy:0,attempts:0}}),o([]),v(null),p(!1)},u=l.potential60.attempts+l.potential80.attempts+l.silver.attempts+l.gold.attempts,h=l.potential60.success+l.potential80.success+l.silver.success+l.gold.success,j=l.potential60.destroy+l.potential80.destroy+l.silver.destroy+l.gold.destroy,k=w=>{switch(w){case"potential60":return"60";case"potential80":return"80";case"silver":return"";case"gold":return"";default:return""}};return n.jsx("div",{className:"potential-simulator",children:n.jsxs("div",{className:"potential-main",children:[n.jsxs("div",{className:"potential-item-area",children:[n.jsxs("div",{className:`potential-item-box ${!e&&!s?"destroyed":""} ${N?"destroy-animation":""}`,children:[n.jsx("img",{src:"/scroll/item.png",alt:"",className:"potential-item-img"}),!e&&!s&&n.jsx("div",{className:"destroy-overlay",children:""}),c&&n.jsx("img",{src:c.result==="success"?"/scroll/success-150.gif":"/scroll/failure-150.gif",alt:c.result==="success"?"":"",className:"result-gif-overlay"},`result-${c.key}`)]}),n.jsx("div",{className:"potential-item-label",children:e||s?" ":""})]}),n.jsxs("div",{className:"ignore-destroy-option",children:[n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:s,onChange:w=>{a(w.target.checked),w.target.checked&&!e&&t(!0)}}),n.jsx("span",{className:"checkbox-text",children:"  ( )"})]}),n.jsx("span",{className:"checkbox-desc",children:"    ,  "})]}),n.jsxs("div",{className:"scroll-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsx("div",{className:"section-title",children:"   "}),n.jsx("div",{className:"section-warning",children:"  100%   "})]}),n.jsxs("div",{className:"scroll-btn-row",children:[n.jsxs("button",{className:`potential-scroll-btn type-potential ${e?"":"disabled"}`,onClick:S,disabled:!e,children:[n.jsx("img",{src:"/scroll/potential-scroll.png",alt:"",className:"scroll-btn-img"}),n.jsxs("div",{className:"btn-text-area",children:[n.jsx("span",{className:"btn-title",children:"    60%"}),n.jsx("span",{className:"btn-sub",children:" 60% /   "})]})]}),n.jsxs("button",{className:`potential-scroll-btn type-potential ${e?"":"disabled"}`,onClick:E,disabled:!e,children:[n.jsx("img",{src:"/scroll/potential-scroll.png",alt:"",className:"scroll-btn-img"}),n.jsxs("div",{className:"btn-text-area",children:[n.jsx("span",{className:"btn-title",children:"    80%"}),n.jsx("span",{className:"btn-sub",children:" 80% /   "})]})]})]})]}),n.jsxs("div",{className:"scroll-section",children:[n.jsx("div",{className:"section-header",children:n.jsx("div",{className:"section-title",children:"  "})}),n.jsxs("div",{className:"scroll-btn-row",children:[n.jsxs("button",{className:`potential-scroll-btn type-silver ${e?"":"disabled"}`,onClick:C,disabled:!e,children:[n.jsx("img",{src:"/scroll/stamp-silver.png",alt:"",className:"scroll-btn-img"}),n.jsxs("div",{className:"btn-text-area",children:[n.jsx("span",{className:"btn-title",children:"   "}),n.jsx("span",{className:"btn-sub",children:" 50% /   50% "})]})]}),n.jsxs("button",{className:`potential-scroll-btn type-gold ${e?"":"disabled"}`,onClick:I,disabled:!e,children:[n.jsx("img",{src:"/scroll/stamp-gold.png",alt:"",className:"scroll-btn-img"}),n.jsxs("div",{className:"btn-text-area",children:[n.jsx("span",{className:"btn-title",children:"   "}),n.jsx("span",{className:"btn-sub",children:" 80% /   20% "})]})]})]})]}),n.jsxs("div",{className:"potential-stats-area",children:[n.jsx("h4",{children:""}),n.jsxs("div",{className:"stats-grid-4",children:[n.jsxs("div",{className:"stats-section mini",children:[n.jsx("div",{className:"stats-title",children:" 60%"}),n.jsxs("div",{className:"stats-row",children:[n.jsx("span",{children:""}),n.jsx("span",{children:l.potential60.attempts})]}),n.jsxs("div",{className:"stats-row",children:[n.jsx("span",{children:""}),n.jsx("span",{className:"success",children:l.potential60.success})]}),n.jsxs("div",{className:"stats-row",children:[n.jsx("span",{children:""}),n.jsx("span",{className:"danger",children:l.potential60.destroy})]})]}),n.jsxs("div",{className:"stats-section mini",children:[n.jsx("div",{className:"stats-title",children:" 80%"}),n.jsxs("div",{className:"stats-row",children:[n.jsx("span",{children:""}),n.jsx("span",{children:l.potential80.attempts})]}),n.jsxs("div",{className:"stats-row",children:[n.jsx("span",{children:""}),n.jsx("span",{className:"success",children:l.potential80.success})]}),n.jsxs("div",{className:"stats-row",children:[n.jsx("span",{children:""}),n.jsx("span",{className:"danger",children:l.potential80.destroy})]})]}),n.jsxs("div",{className:"stats-section mini",children:[n.jsx("div",{className:"stats-title",children:" "}),n.jsxs("div",{className:"stats-row",children:[n.jsx("span",{children:""}),n.jsx("span",{children:l.silver.attempts})]}),n.jsxs("div",{className:"stats-row",children:[n.jsx("span",{children:""}),n.jsx("span",{className:"success",children:l.silver.success})]}),n.jsxs("div",{className:"stats-row",children:[n.jsx("span",{children:""}),n.jsx("span",{className:"warning",children:l.silver.fail-l.silver.destroy})]}),n.jsxs("div",{className:"stats-row",children:[n.jsx("span",{children:""}),n.jsx("span",{className:"danger",children:l.silver.destroy})]})]}),n.jsxs("div",{className:"stats-section mini",children:[n.jsx("div",{className:"stats-title",children:" "}),n.jsxs("div",{className:"stats-row",children:[n.jsx("span",{children:""}),n.jsx("span",{children:l.gold.attempts})]}),n.jsxs("div",{className:"stats-row",children:[n.jsx("span",{children:""}),n.jsx("span",{className:"success",children:l.gold.success})]}),n.jsxs("div",{className:"stats-row",children:[n.jsx("span",{children:""}),n.jsx("span",{className:"warning",children:l.gold.fail-l.gold.destroy})]}),n.jsxs("div",{className:"stats-row",children:[n.jsx("span",{children:""}),n.jsx("span",{className:"danger",children:l.gold.destroy})]})]})]}),n.jsxs("div",{className:"total-stats",children:[n.jsxs("div",{className:"total-row",children:[n.jsx("span",{children:" "}),n.jsxs("strong",{children:[u,""]})]}),n.jsxs("div",{className:"total-row",children:[n.jsx("span",{children:" "}),n.jsxs("strong",{className:"success",children:[h,""]})]}),n.jsxs("div",{className:"total-row",children:[n.jsx("span",{children:" "}),n.jsxs("strong",{className:"danger",children:[j,""]})]})]})]}),n.jsx("div",{className:"potential-actions",children:n.jsx("button",{className:"reset-button",onClick:f,children:e?" ":" "})}),i.length>0&&n.jsxs("div",{className:"potential-history",children:[n.jsx("h4",{children:" ( 30)"}),n.jsx("div",{className:"history-badges",children:i.slice(-30).map((w,x)=>n.jsxs("span",{className:`history-badge ${w.type} ${w.result}`,children:[k(w.type),w.result==="success"?"":w.result==="fail"?"":""]},x))})]})]})})}const bo=e=>{const t=new Audio(e);t.volume=.5,t.play().catch(()=>{})},af=e=>e===10?"/scroll/10percent.png":e===50?"/scroll/50percent.png":e===60?"/scroll/60percent.png":e===100?"/scroll/100percent.png":"/scroll/60percent.png",Co={"  ":"/incubator/items/.png"," ":"/incubator/items/ .png","[] 30":"/incubator/items/ 30.png"," ":"/incubator/items/ .png","  100%":"/incubator/items/ .png","   ":"/incubator/items/ ().png","   ":"/incubator/items/ ().png","  ":"/incubator/items/ ().png","  60%":"/incubator/items/ .png","  ":"/incubator/items/.png","  ":"/incubator/items/.png"," ":"/incubator/items/().png","  50%":"/incubator/items/().png","  20%":"/incubator/items/().png","  10%":"/incubator/items/().png","  5%":"/incubator/items/().png","  ":"/incubator/items/  .png"," ":"/incubator/items/.png","  ":"/incubator/items/.png"," ":"/incubator/items/  .png"," ":"/incubator/items/ .png"," ":"/incubator/items/  .png","  ":"/incubator/items/  .png"," ":"/incubator/items/.png"," ":"/incubator/items/ .png","  ":"/incubator/items/  .png"," ":"/incubator/items/.png","  ":"/incubator/items/.png"," 2 ":"/incubator/items/ 2 .png"," 30% ":"/incubator/items/ 30 .png"," ":"/incubator/items/ 30.png"},yl=e=>{if(Co[e.name])return n.jsx("img",{src:Co[e.name],alt:e.name,className:"item-img-real"});if(e.type==="scroll"&&e.percent)return n.jsx("img",{src:af(e.percent),alt:e.name,className:"item-img-real"});if(e.type==="scroll")return n.jsx("img",{src:"/scroll/60percent.png",alt:e.name,className:"item-img-real"});const t={chair:"",special:"",book:"",coupon:""};return n.jsx("span",{className:"item-emoji",children:t[e.type]||""})};function lf(){const{isLoggedIn:e}=Pe(),[t,s]=m.useState("ready"),[a,l]=m.useState(null),[r,i]=m.useState([]),[o,c]=m.useState(0),[v,N]=m.useState(0),[p,g]=m.useState(0),[S,E]=m.useState([]),[C,I]=m.useState(0),[f,u]=m.useState(0),[h,j]=m.useState([]),[k,w]=m.useState(!0),[x,y]=m.useState(null),[b,P]=m.useState(!1),L=3e3+p,d=24;m.useEffect(()=>{R()},[e]);const R=async()=>{var D,A,H;w(!0),y(null);try{const q=await $.getIncubatorItems();if(j(q.data||[]),e){const[Q,X]=await Promise.all([$.getIncubatorInventory(),$.getIncubatorDailyStats()]);E(Q.data||[]),N(((D=X.data)==null?void 0:D.totalHatches)||0),I(((A=X.data)==null?void 0:A.legendaryCount)||0),g(((H=X.data)==null?void 0:H.bonusHatches)||0)}}catch(q){console.error("Failed to load initial data:",q),y(q.message)}finally{w(!1)}},F=async()=>{if(!e){alert(" .");return}if(t!=="hatching"){if(v>=L){alert("    .");return}s("hatching"),i([]);try{const D=await $.hatchIncubator(1,b),{lastItem:A,legendaryFound:H,dailyTotal:q}=D.data;bo("/sounds/success.mp3"),l(A),N(q),s("result");const Q=await $.getIncubatorInventory();E(Q.data||[]),H>0&&(I(X=>X+H),setTimeout(()=>{alert("!    !")},100))}catch(D){console.error("Hatch failed:",D),alert(D.message||"   ."),s("ready")}}},U=async D=>{if(!e){alert(" .");return}if(t==="hatching")return;if(L-v<=0){alert("    .");return}s("hatching"),i([]),c(0);try{const H=await $.hatchIncubator(D,b),{lastItem:q,allItems:Q,legendaryFound:X,dailyTotal:se}=H.data;if(bo("/sounds/success.mp3"),l(q),i(Q||[q]),N(se),s("result"),Q&&Q.length>1){let de=0;const B=setInterval(()=>{de++,de>=Q.length?clearInterval(B):c(de)},400)}const ae=await $.getIncubatorInventory();E(ae.data||[]),X>0&&(I(de=>de+X),setTimeout(()=>{alert(`!    ${X} !`)},100))}catch(H){console.error(`Hatch${D} failed:`,H),alert(H.message||"   ."),s("ready")}},z=S.map(D=>({item:{id:D.item_id,name:D.name,rate:D.rate,type:D.type,percent:D.percent},count:D.count})).sort((D,A)=>D.item.rate-A.item.rate);return k?n.jsx("div",{className:"incubator-page",children:n.jsx("div",{className:"incubator-wrapper",children:n.jsxs("div",{className:"incubator-loading",children:[n.jsx("div",{className:"loading-spinner"}),n.jsx("span",{children:"  ..."})]})})}):n.jsx("div",{className:"incubator-page",children:n.jsxs("div",{className:"incubator-wrapper",children:[n.jsxs("div",{className:"incubator-header",children:[n.jsx("h1",{children:"   "}),n.jsx("p",{className:"incubator-subtitle",children:"  "}),n.jsxs("div",{className:"daily-count-area",children:[n.jsxs("span",{className:"daily-count",children:[" : ",v," / ",L]}),p>0&&n.jsxs("span",{className:"bonus-indicator",children:["+",p," "]})]}),!e&&n.jsx("p",{className:"login-notice",children:"  !"})]}),n.jsxs("div",{className:"incubator-main",children:[n.jsxs("div",{className:"incubator-machine",children:[n.jsx("div",{className:"competition-boost-toggle",children:n.jsxs("label",{className:"boost-checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:b,onChange:D=>P(D.target.checked),disabled:!e}),n.jsx("span",{className:"boost-checkbox-text",children:" "}),n.jsx("span",{className:"boost-info",children:"(   2 )"})]})}),n.jsxs("div",{className:"hatch-buttons",children:[n.jsx("button",{className:"hatch-btn",onClick:F,disabled:!e||t==="hatching",children:"1 "}),n.jsx("button",{className:"hatch-btn hatch-3",onClick:()=>U(3),disabled:!e||t==="hatching",children:"3 "}),n.jsx("button",{className:"hatch-btn hatch-5",onClick:()=>U(5),disabled:!e||t==="hatching",children:"5 "})]}),n.jsxs("div",{className:"incubator-bg",onClick:e?F:void 0,children:[t==="result"&&a&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"result-item",children:yl(a)}),n.jsx("div",{className:"result-item-name",children:a.name})]}),t==="hatching"&&n.jsx("div",{className:"hatching-overlay",children:n.jsx("div",{className:"hatching-effect"})})]}),t==="result"&&r.length>1&&n.jsx("div",{className:"hatch-slide-results",children:r.map((D,A)=>n.jsxs("div",{className:`slide-item ${A<=o?"visible":""} ${A===o?"current":""}`,children:[n.jsx("div",{className:"slide-item-icon",children:yl(D)}),n.jsx("span",{className:"slide-item-name",children:D.name})]},A))})]}),n.jsx("div",{className:"incubator-inventory",children:n.jsxs("div",{className:"inventory-bg",children:[n.jsx("div",{className:"inventory-items-container",children:z.slice(f*d,(f+1)*d).map(({item:D,count:A},H)=>{const q=Math.floor(H/4),Q=q===0;return n.jsxs("div",{className:`inventory-item ${Q?"top-row":""}`,style:{left:`${8+H%4*44}px`,top:`${q*43}px`},children:[n.jsx("div",{className:"item-icon",children:yl(D)}),A>1&&n.jsx("span",{className:"item-count",children:A}),n.jsxs("div",{className:"item-tooltip",children:[n.jsx("span",{className:"tooltip-name",children:D.name}),n.jsxs("span",{className:"tooltip-rate",children:[D.rate,"%"]})]})]},D.id)})}),z.length>d&&n.jsxs("div",{className:"inventory-pagination",children:[n.jsx("button",{onClick:D=>{D.stopPropagation(),u(A=>Math.max(0,A-1))},disabled:f===0,children:""}),n.jsxs("span",{children:[f+1," / ",Math.ceil(z.length/d)]}),n.jsx("button",{onClick:D=>{D.stopPropagation(),u(A=>Math.min(Math.ceil(z.length/d)-1,A+1))},disabled:f>=Math.ceil(z.length/d)-1,children:""})]})]})})]})]})})}function rf(){const{isLoggedIn:e,loading:t,sessionExpired:s,clearSessionExpired:a}=Pe(),[l,r]=m.useState("main"),[i,o]=m.useState(null),[c,v]=m.useState(null),[N,p]=m.useState(null);m.useEffect(()=>{const S=localStorage.getItem("guildLogo");S&&o(S)},[]),m.useEffect(()=>{s&&(alert("  .  ."),a(),r("login"))},[s,a]);const g=()=>{const S={setPage:r,guildLogo:i,setGuildLogo:o,selectedNotice:c,setSelectedNotice:v,selectedMember:N,setSelectedMember:p};switch(l){case"notice":return n.jsx($h,{...S});case"alliance":return n.jsx(wh,{...S});case"schedule":return n.jsx(Sh,{...S});case"showoff":return n.jsx(bh,{...S});case"gallery":return n.jsx(Ch,{...S});case"members":return n.jsx(_h,{...S});case"attendance":return n.jsx(Fh,{...S});case"register":return n.jsx(Eh,{...S});case"login":return n.jsx(Mh,{...S});case"signup":return n.jsx(Ih,{...S});case"settings":return n.jsx(Rh,{...S});case"games":return n.jsx(Ah,{...S});case"scroll":return n.jsx(tf,{...S});case"incubator":return n.jsx(lf,{...S});default:return n.jsx(kh,{...S})}};return t?n.jsxs("div",{className:"app",children:[n.jsx("div",{className:"bg-pattern"}),n.jsxs("div",{className:"loading-screen",children:[n.jsx("div",{className:"loading-emblem",children:""}),n.jsx("p",{children:" ..."})]})]}):n.jsxs("div",{className:"app",children:[n.jsx("div",{className:"bg-pattern"}),n.jsx(yh,{page:l,setPage:r,guildLogo:i}),n.jsx("main",{className:"main-content",children:g()}),e&&l==="main"&&n.jsx("div",{className:"floating-widget",children:n.jsx(Nh,{})}),n.jsx(jh,{})]})}jl.createRoot(document.getElementById("root")).render(n.jsx(ld.StrictMode,{children:n.jsx(xh,{children:n.jsx(rf,{})})}));
